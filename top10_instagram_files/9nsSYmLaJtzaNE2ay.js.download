!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=61)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var i=n(31),o=n(2),r=i.methodFactory,s=i.getLogger("cleverpush"),a=Object(o.e)().toUpperCase();function c(e){return"code"===e?'\n    padding: 0 1px 1px 5px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    font-family: Monaco,"DejaVu Sans Mono","Courier New",monospace;\n    color: #444;\n    ':"bold"===e?"\n    font-weight: 600;\n    color: rgb(51, 51, 51);\n    ":"alert"===e?"\n    font-weight: 600;\n    color: red;\n    ":""}function l(e){return JSON.stringify(e,(function(e,t){return"function"==typeof t?"[Function]":t}),4)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return s.debug("Called %c".concat(e,"(").concat(n.map(l).join(", "),")"),c("code"),".")}s.methodFactory=function(e,t,n){var i=r(e,t,n);return function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];0===t&&"string"==typeof arguments[t]&&(n="[CleverPush][".concat(a,"] ").concat(n)),e.push(n)}i.apply(this,e)}},s.setLevel(s.getLevel(),!1)},function(e,t,n){"use strict";var i=n(15),o=n.n(i),r={en:{"confirm.title":"{0} wants to send you push notifications.","confirm.nativeTitle":"{0} wants to send you notifications","confirm.info":"Notifications can be turned off anytime from browser settings.","confirm.allow":"Allow","confirm.allowChrome":"Allow","confirm.allowFirefox":"Allow Notifications","confirm.allowEdge":"Yes","confirm.deny":"Deny","confirm.selectTopics":"To which topics do you want to receive notifications?","confirm.doubleText":"Please click on {0} 2x to continue","confirm.alreadySubscribed":"You have already subscribed to all topics.","confirm.silentPromptInfo":'Please click on the small bell and then on "Allow" to continue.',"popup.info":"Click on {0} to confirm push notifications","popup.text":"Get updates and offers from {0} by subscribing to push notifications.","unsubscribe.title":"Unsubscribe from notifications","unsubscribe.confirm":"Are you sure?","unsubscribe.yes":"Yes","unsubscribe.no":"No","unsubscribe.feedback":"Please choose the unsubscribe reason to complete your unsubscription:","unsubscribe.enterReason":"Please enter the reason:","unsubscribe.submit":"Submit","unsubscribe.reasonQuantity":"Too many messages","unsubscribe.reasonContent":"Not interesting messages","unsubscribe.reasonOther":"Other reason","windowclose.confirm":"The process is not yet complete, are you sure you want to cancel it?","deny.alertHttps":"If you change your mind, click the lock to give your browser permission to send you notifications.","deny.alertHttp":"If you change your mind, click the info symbol to give your browser permission to send you notifications.","bell.subscribe":"Subscribe for notifications","bell.subscribed":"You're subscribed for notifications","bell.unsubscribeSuccess":"You won't receive notifications again","bell.hide":"Do not show again","panel.notifications":"Notifications","panel.editTopics":"Edit Topics","panel.settings":"Settings","panel.notificationsEmpty":"No notifications available.","panel.save":"Save","panel.close":"Close","panel.successfullySaved":"Successfully saved!","unblock.title":"You have blocked notifications.<br />Please follow these steps to receive notifications",privacy:"Privacy"},de:{"confirm.title":"{0} würde dir gerne Push Nachrichten senden.","confirm.nativeTitle":"{0} möchte Ihnen Benachrichtigungen senden","confirm.info":"Benachrichtigungen können jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.allowEdge":"Ja","confirm.deny":"Verbieten","confirm.selectTopics":"Zu welchen Themen möchtest du Push Nachrichten erhalten?","confirm.doubleText":"Bitte bestätige 2x mit {0} um fortzufahren","confirm.alreadySubscribed":"Du hast dich bereits für alle Themen angemeldet.","confirm.silentPromptInfo":'Bitte klicke auf die kleine Glocke und dann auf "Erlauben" um fortzufahren.',"popup.info":"Klicke auf {0}, um unsere Push-Benachrichtigungen zu bestätigen","popup.text":"Erhalte Updates und Angebote von {0}, indem du Push-Benachrichtigungen abonnierst.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Bist du dir sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","unsubscribe.feedback":"Bitte wähle den Abmelde-Grund aus um deine Abmeldung zu bestätigen:","unsubscribe.enterReason":"Bitte gib den Grund ein:","unsubscribe.submit":"Absenden","unsubscribe.reasonQuantity":"Zu viele Nachrichten","unsubscribe.reasonContent":"Uninteressante Nachrichten","unsubscribe.reasonOther":"Anderer Grund","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, bist du sicher, dass du ihn abbrechen möchtest?","deny.alertHttps":'Wenn du doch Benachrichtigungen empfangen möchtest, kannst du mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn du doch Benachrichtigungen empfangen möchtest, kannst du mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Für Benachrichtigungen anmelden","bell.subscribed":"Du bist für Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Du wirst keine Benachrichtigungen mehr erhalten","bell.hide":"Nicht mehr anzeigen","panel.notifications":"Nachrichten","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Nachrichten vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Du hast Benachrichtigungen blockiert.<br />Bitte folge diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz"},"de-formal":{"confirm.title":"{0} würde Ihnen gerne Push Nachrichten senden.","confirm.nativeTitle":"{0} möchte Ihnen Benachrichtigungen senden","confirm.info":"Benachrichtigungen können jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.allowEdge":"Ja","confirm.deny":"Verbieten","confirm.selectTopics":"Zu welchen Themen möchten Sie Push Nachrichten erhalten?","confirm.doubleText":"Bitte bestätigen Sie 2x mit {0} um fortzufahren","confirm.alreadySubscribed":"Sie haben sich bereits für alle Themen angemeldet.","confirm.silentPromptInfo":'Bitte klicken Sie auf die kleine Glocke und dann auf "Erlauben" um fortzufahren.',"popup.info":"Klicken Sie auf {0}, um unsere Push-Benachrichtigungen zu bestätigen","popup.text":"Erhalten Sie Updates und Angebote von {0}, indem Sie Push-Benachrichtigungen abonnieren.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Sind Sie sich sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","unsubscribe.feedback":"Bitte wählen Sie den Abmelde-Grund aus um Ihre Abmeldung zu bestätigen:","unsubscribe.enterReason":"Bitte geben Sie den Grund ein:","unsubscribe.submit":"Absenden","unsubscribe.reasonQuantity":"Zu viele Nachrichten","unsubscribe.reasonContent":"Uninteressante Nachrichten","unsubscribe.reasonOther":"Anderer Grund","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, sind Sie sich sicher, dass Sie ihn abbrechen möchten?","deny.alertHttps":'Wenn Sie doch Benachrichtigungen empfangen möchten, können Sie mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn Sie doch Benachrichtigungen empfangen möchten, können Sie mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Für Benachrichtigungen anmelden","bell.subscribed":"Sie sind für Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Sie werden keine Benachrichtigungen mehr erhalten","panel.notifications":"Benachrichtigungen","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Benachrichtigungen vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Sie haben Benachrichtigungen blockiert.<br />Bitte folgen Sie diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz"}},s=n(0);function a(e){var t=(window.CleverPush||{config:{}}).config.language||navigator.language||navigator.userLanguage||"en";t="de-formal"!==t?t.substr(0,2).toLowerCase():t,r.hasOwnProperty(t)||(t="en");var n,i=e;if("confirm.allowBrowser"===i){i="confirm.allow";var s=new o.a;"Chrome"===s.getBrowser().name?i="confirm.allowChrome":"Firefox"===s.getBrowser().name?i="confirm.allowFirefox":"Edge"===s.getBrowser().name&&(i="confirm.allowEdge")}else"deny.alert"===i&&(i="https:"===location.protocol?"deny.alertHttps":"deny.alertHttp");if(r[t].hasOwnProperty(i)?n=r[t][i]:r.en.hasOwnProperty(i)&&(n=r.en[i]),n){var a=(document.characterSet||"").toLowerCase();if(a.indexOf("windows-1252")>-1||a.indexOf("iso-8859")>-1)try{return decodeURIComponent(escape(n))}catch(e){}return n}return i}function c(e){var t=e,n=(document.characterSet||"").toLowerCase();if(n.indexOf("windows-1252")>-1||n.indexOf("iso-8859")>-1)try{t=decodeURIComponent(escape(e))}catch(e){s.b.debug(e)}return t}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),String.prototype.formatCleverPush=function(){var e=this;for(var t in arguments)arguments.hasOwnProperty(t)&&(e=e.replace("{".concat(t,"}"),arguments[t]));return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return M})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return k})),n.d(t,"j",(function(){return T})),n.d(t,"f",(function(){return I})),n.d(t,"n",(function(){return O}));var i=n(6),o=n.n(i),r=n(15),s=n.n(r),a=n(4),c="serviceWorker",l="host",u="popup",p="iframe",h="customSubdomain",f=new s.a,d=f.getBrowser(),b=f.getOS(),g=f.getDevice(),m=d.version?d.version.split("."):["0"],_=d.version?parseInt(m[0],10):0,v=m.length>1?parseInt(m[1],10):0;function w(e){if("undefined"!=typeof window){if(window===window.top){var t=e;t||(t=(window.CleverPush||{}).config||{});var n=t.cleverpushDomain;if(location.hostname.indexOf(".cleverpush.com")>-1){if(0===location.pathname.indexOf("/subscribe"))return u}else if(n&&location.hostname.indexOf("."+n)>-1&&0===location.pathname.indexOf("/subscribe"))return u;return l}return 0===location.pathname.indexOf("/iframe")||0===location.pathname.indexOf("/referrals")?p:h}return"undefined"!=typeof WorkerLocation&&location instanceof WorkerLocation?c:null}function y(e){return w(e)===l}function x(){return"undefined"!=typeof window}function M(){return/Android/.test(navigator.userAgent)}function E(e){return w(e)===u&&x()}function k(){return location.hostname.indexOf(".cleverpush.com")>-1&&0===location.pathname.indexOf("/unsubscribe")&&x()}function T(e){return w(e)===p&&x()}function I(){var e=document.documentElement,t=document.body,n="scrollTop",i="scrollHeight";return(e[n]||t[n])/((e[i]||t[i])-e.clientHeight)*100}function O(){var e=!0,t=null;return new Promise((function(n,i){new Promise((function(e){var t=function(){return e(!0)},n=function(){return e(!1)};if(!window.webkitRequestFileSystem){if("MozAppearance"in document.documentElement.style){var i=indexedDB.open("test");return i.onerror=t,void(i.onsuccess=n)}if(/constructor/i.test(window.HTMLElement)||navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")<0&&navigator.userAgent.indexOf("FxiOS")<0){if(void 0!==window.openDatabase)try{window.openDatabase(null,null,null,null),window.localStorage.setItem("test",1)}catch(e){return t()}return function(){try{localStorage.length?n():(localStorage.x=1,localStorage.removeItem("x"),n())}catch(e){navigator.cookieEnabled?t():n()}}()}return window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?n():t()}window.webkitRequestFileSystem(0,0,n,t)})).then((function(r){r?(e=!1,t=null,i(new a.a("Private browsing mode not supported.","private-mode"))):("safari"in window&&"object"===o()(window.safari)&&"pushNotification"in window.safari?t="safari":void 0!==window.Notification&&("serviceWorker"in navigator||"http:"===location.protocol)?t="w3c":(e=!1,t=null,i(new a.a("Browser is not supported.","unsupported-browser"))),e&&"safari"!==t&&"ios"!==t&&("http:"===location.protocol||"showNotification"in ServiceWorkerRegistration.prototype?"PushManager"in window||(e=!1,i(new a.a("Push messaging isn't supported.","unsupported-browser"))):(e=!1,i(new a.a("Notifications aren't supported.","unsupported-browser"))),"serviceWorker"in navigator||"http:"===location.protocol||(e=!1,i(new a.a("Service workers are not supported.","unsupported-browser"))),navigator.userAgent.indexOf("Iron")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(e=!1,i(new a.a("SRWare Iron does not support push","unsupported-browser")))),e&&(window.self===window.top&&"w3c"===t&&navigator.serviceWorker&&"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then((function(){return n(t)})).catch((function(){return i(new a.a("Service workers are not supported","unsupported-browser"))})):n(t)))}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(5),o=n.n(i),r=n(7),s=n.n(r),a=function e(){o()(this,e)};s()(a,"INITIALIZED","initialized"),s()(a,"INITIALIZATION_FAILED","initializationFailed"),s()(a,"SUBSCRIBED","subscribed"),s()(a,"UNSUBSCRIBED","unsubscribed"),s()(a,"OPTIN_SHOWN","optInShown"),s()(a,"PERMISSION_GRANTED","permissionGranted"),s()(a,"TOPICS_SET","topicsSet"),s()(a,"BELL_READY","bellReady"),s()(a,"PERMISSION_RE_GRANTED","permissionReGranted"),s()(a,"PANEL_SHOWN","panelShown"),s()(a,"PANEL_HIDDEN","panelHidden")},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(5),o=n.n(i),r=n(13),s=n.n(r),a=n(9),c=n.n(a),l=n(10),u=n.n(l),p=n(14),h=n.n(p),f=n(43),d=function(e){function t(e,n){var i;return o()(this,t),(i=s()(this,c()(t).call(this,e))).name=i.constructor.name,i.reason=n,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(u()(i),i.constructor):i.stack=new Error(e).stack,i}return h()(t,e),t}(n.n(f)()(Error))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=i=function(e){return n(e)}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(t)}e.exports=i},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";function i(){return new Promise((function(e){if("complete"===document.readyState)e();else{var t=function t(){e(),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0)};document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)}}))}function o(){return new Promise((function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!==document.readyState&&e()}))}))}function r(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function s(e,t,n){e.style.opacity=0;var i=+new Date;!function o(){var r=+e.style.opacity+(new Date-i)/t;r>1&&(r=1),e.style.opacity=r,i=+new Date,+e.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):"function"==typeof n&&n()}()}function a(e,t,n){e.style.opacity=1;var i=+new Date;!function o(){var r=+e.style.opacity-(new Date-i)/t;r<0&&(r=0),e.style.opacity=r,i=+new Date,+e.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):"function"==typeof n&&n()}()}function c(e){for(var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,o=e.offsetHeight,r=e;r.offsetParent;)t+=(r=r.offsetParent).offsetTop,n+=r.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+o>window.pageYOffset&&n+i>window.pageXOffset}function l(e){var t=window.pageYOffset,n=(window.innerHeight,e.getBoundingClientRect()),i=n.top+t,o=i+n.height,r=(window.pageYOffset-i)/(o-window.innerHeight-i)*100;return r<0?0:r>100?100:r}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l}))},function(e,t,n){"use strict";(function(e){var i=n(41),o=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function s(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,i)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void f((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,p(e)}catch(t){u(e,t)}var i,o}function u(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(s);return c(this,new h(e,t,n)),n},a.prototype.finally=i.a,a.all=function(e){return new a((function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function s(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){s(e,t)}),n)}i[e]=r,0==--o&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)s(a,i[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,o=e.length;i<o;i++)a.resolve(e[i]).then(t,n)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(66).setImmediate)},function(e,t,n){var i=n(6),o=n(10);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var i=n(29);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t,n){var i;!function(o,r){"use strict";var s="model",a="name",c="type",l="vendor",u="version",p="mobile",h="tablet",f="smarttv",d={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function(e,t){for(var n,i,o,r,s,a,c=0;c<t.length&&!s;){var l=t[c],u=t[c+1];for(n=i=0;n<l.length&&!s;)if(s=l[n++].exec(e))for(o=0;o<u.length;o++)a=s[++i],"object"==typeof(r=u[o])&&r.length>0?2==r.length?"function"==typeof r[1]?this[r[0]]=r[1].call(this,a):this[r[0]]=r[1]:3==r.length?"function"!=typeof r[1]||r[1].exec&&r[1].test?this[r[0]]=a?a.replace(r[1],r[2]):void 0:this[r[0]]=a?r[1].call(this,a,r[2]):void 0:4==r.length&&(this[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):void 0):this[r]=a||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(d.has(t[n][i],e))return"?"===n?void 0:n}else if(d.has(t[n],e))return"?"===n?void 0:n;return e}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[a,u],[/(konqueror)\/([\w\.]+)/i],[[a,"Konqueror"],u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(Avast)\/([\w\.]+)/i],[[a,"Avast Secure Browser"],u],[/(AVG)\/([\w\.]+)/i],[[a,"AVG Secure Browser"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(windowswechat qbcore)\/([\w\.]+)/i],[[a,"WeChat(Win) Desktop"],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[a,u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[a,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[a,"Sailfish Browser"],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[a,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,b.str,g.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[s,l,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"],[c,f]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[c,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[l,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,b.str,g.device.amazon.model],[l,"Amazon"],[c,p]],[/android.+aft([bms])\sbuild/i],[s,[l,"Amazon"],[c,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[c,p]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[c,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[c,p]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[c,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[s,[l,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[c,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,"Sony"],[c,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,b.str,g.device.sprint.vendor],[s,b.str,g.device.sprint.model],[c,p]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[c,p]],[/(nexus\s9)/i],[s,[l,"HTC"],[c,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[s,[l,"Huawei"],[c,p]],[/android.+(bah2?-a?[lw]\d{2})/i],[s,[l,"Huawei"],[c,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,s,[c,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[l,"Motorola"],[c,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[c,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,d.trim],[s,d.trim],[c,f]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,f]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,f]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[c,h]],[/smart-tv.+(samsung)/i],[l,[c,f],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[c,p]],[/sie-(\w*)/i],[s,[l,"Siemens"],[c,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],s,[c,p]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[l,"Acer"],[c,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[l,"LG"],[c,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[c,h]],[/(lg) netcast\.tv/i],[l,s,[c,f]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[l,"LG"],[c,p]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[l,s,[c,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[c,h]],[/(lenovo)[_\s-]?([\w-]+)/i],[l,s,[c,p]],[/linux;.+((jolla));/i],[l,s,[c,p]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[c,p]],[/crkey/i],[[s,"Chromecast"],[l,"Google"],[c,f]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[s,[l,"Google"],[c,h]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[s,[l,"Google"],[c,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[l,"Meizu"],[c,p]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],s,[c,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[s,[l,"OnePlus"],[c,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[l,"RCA"],[c,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[l,"Dell"],[c,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[l,"Verizon"],[c,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],s,[c,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[l,"NuVision"],[c,h]],[/android.+;\s(k88)\sbuild/i],[s,[l,"ZTE"],[c,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[l,"Swiss"],[c,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[l,"Swiss"],[c,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[l,"Zeki"],[c,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[c,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[c,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[l,"NextBook"],[c,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],s,[c,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],s,[c,p]],[/android.+;\s(PH-1)\s/i],[s,[l,"Essential"],[c,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[l,"Envizen"],[c,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,s,[c,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[l,"MachSpeed"],[c,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,s,[c,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[l,"Rotor"],[c,h]],[/android.+(KS(.+))\s+build/i],[s,[l,"Amazon"],[c,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,s,[c,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,d.lowerize],l,s],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,f]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,b.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,b.str,g.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,u]]},_=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof _))return new _(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),i=t?d.extend(m,t):m;return this.getBrowser=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,n,i.browser),e.major=d.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return b.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return b.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return b.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};_.VERSION="0.7.21",_.BROWSER={NAME:a,MAJOR:"major",VERSION:u},_.CPU={ARCHITECTURE:"architecture"},_.DEVICE={MODEL:s,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:p,SMARTTV:f,TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},_.ENGINE={NAME:a,VERSION:u},_.OS={NAME:a,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=_),t.UAParser=_):void 0===(i=function(){return _}.call(t,n,t,e))||(e.exports=i);var v=o&&(o.jQuery||o.Zepto);if(v&&!v.ua){var w=new _;v.ua=w.getResult(),v.ua.get=function(){return w.getUA()},v.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var n in t)v.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(5),o=n.n(i),r=n(13),s=n.n(r),a=n(9),c=n.n(a),l=n(14),u=n.n(l),p=function(e){function t(){return o()(this,t),s()(this,c()(t).apply(this,arguments))}return u()(t,e),t}(n(4).a)},function(e,t,n){"use strict";var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(0),c=n(30),l=n(2),u=function(){function e(t){o()(this,e),this.config=t;try{if("localStorage"in window&&(t.cleverpushDomain&&(t.cleverpushDomain&&localStorage.getItem("cleverpush-subscription-id")&&!localStorage.getItem("cleverpush-domain")&&localStorage.setItem("cleverpush-domain","cleverpush.com"),localStorage.getItem("cleverpush-domain")&&(this.config.cleverpushDomain=localStorage.getItem("cleverpush-domain"))),localStorage.getItem("push-subscription-status")&&!localStorage.getItem("cleverpush-subscription-status")&&localStorage.setItem("cleverpush-subscription-status",localStorage.getItem("push-subscription-status")),localStorage.getItem("push-subscription-id")&&!localStorage.getItem("cleverpush-subscription-id")&&localStorage.setItem("cleverpush-subscription-id",localStorage.getItem("push-subscription-id")),"allowed"!==localStorage.getItem("cleverpush-subscription-status")&&"unsubscribed"!==localStorage.getItem("cleverpush-subscription-status"))){var n=Date.now();void 0===this.config.alertHoursDeny&&(this.config.alertHoursDeny=8760);var i=!1,r=!1;if(localStorage.getItem("cleverpush-deny-time")&&this.config.alertHoursDeny>0){var s=parseInt(localStorage.getItem("cleverpush-deny-time"),10),a=parseInt(this.config.alertHoursDeny,10);isNaN(s)||isNaN(a)||s+60*a*60*1e3<n&&(i=!0)}if(localStorage.getItem("cleverpush-deny-sessions")&&this.config.alertSessionsDeny>0){var c=parseInt(localStorage.getItem("cleverpush-deny-sessions"),10);isNaN(c)||(sessionStorage.getItem("cleverpush-deny-session-counted")||(c+=1,localStorage.setItem("cleverpush-deny-sessions",c)),c>=this.config.alertSessionsDeny&&(r=!0))}!i&&!r||this.config.alertHoursDeny&&!i||this.config.alertSessionsDeny&&!r||(localStorage.removeItem("push-subscription-status"),localStorage.removeItem("cleverpush-deny-time"),localStorage.removeItem("cleverpush-deny-sessions"),"denied"===localStorage.getItem("cleverpush-subscription-status")?localStorage.setItem("cleverpush-subscription-status","was-denied"):localStorage.removeItem("cleverpush-subscription-status"));var l=!1,u=!1;if(localStorage.getItem("cleverpush-close-time")&&this.config.alertHoursClose>0){var p=parseInt(localStorage.getItem("cleverpush-close-time"),10),h=parseInt(this.config.alertHoursClose,10);isNaN(p)||isNaN(h)||p+60*h*60*1e3<n&&(l=!0)}if(localStorage.getItem("cleverpush-close-sessions")&&this.config.alertSessionsClose>0){var f=parseInt(localStorage.getItem("cleverpush-close-sessions"),10);isNaN(f)||(sessionStorage.getItem("cleverpush-close-session-counted")||(f+=1,localStorage.setItem("cleverpush-close-sessions",f)),f>=this.config.alertSessionsClose&&(u=!0))}!l&&!u||this.config.alertHoursClose&&!l||this.config.alertSessionsClose&&!u||(localStorage.removeItem("push-subscription-status"),localStorage.removeItem("cleverpush-subscription-status"),localStorage.removeItem("cleverpush-close-time"),localStorage.removeItem("cleverpush-close-sessions"))}}catch(e){}}return s()(e,[{key:"dbOpenError",value:function(e){var t=this;e.message&&e.message.toString().indexOf("VersionError")>-1?(a.b.info("deleting db"),window.indexedDB.deleteDatabase("cleverpush").onsuccess=function(){var e=t.db.open();e.onsuccess=function(){return t.dbOpenSuccess(e)},e.onerror=function(e){a.b.warn(e)}}):e.name&&"NoSuchDatabaseError"===e.name||a.b.warn(e)}},{key:"dbOpenSuccess",value:function(e){var t=this;this.db=e.result,this.db.onerror=function(e){a.b.warn("IndexedDB error occured",e)},this.db.onversionchange=function(e){if(null===e.newVersion)e.target.close();else{t.db.close();var n=window.indexedDB.open("cleverpush",40);n.onsuccess=function(){return t.dbOpenSuccess(n)},n.onerror=t.dbOpenError}}}},{key:"initDb",value:function(){var e=this;if(!this.db&&window.indexedDB)try{var t=window.indexedDB.open("cleverpush",40);t.onsuccess=function(){return e.dbOpenSuccess(t)},t.onerror=this.dbOpenError,t.onupgradeneeded=function(e){var t=e.target.result,n=t.createObjectStore("notifications",{keyPath:"id"});n.createIndex("id","id",{unique:!0}),n.createIndex("url","url",{unique:!1}),n.createIndex("clicked","clicked",{unique:!1}),n.createIndex("title","title",{unique:!1}),n.createIndex("text","text",{unique:!1}),n.createIndex("icon","icon",{unique:!1}),n.createIndex("subscriptionId","subscriptionId",{unique:!1}),n.createIndex("channelId","channelId",{unique:!1}),n.createIndex("autoHide","autoHide",{unique:!1}),n.createIndex("markedAsDelivered","markedAsDelivered",{unique:!1}),n.createIndex("markedAsClicked","markedAsClicked",{unique:!1}),n.createIndex("clickedAction","clickedAction",{unique:!1}),n.createIndex("deliveredAt","deliveredAt",{unique:!1});var i=t.createObjectStore("subscription",{keyPath:"id"});i.createIndex("id","id",{unique:!0}),i.createIndex("channelId","channelId",{unique:!1})}}catch(e){a.b.info("initDb err",e)}}},{key:"getNotifications",value:function(e){var t=this;return new Promise((function(n){var i=[];if(t.db){var o=t.db.transaction(["notifications"],"readonly").objectStore("notifications").index("deliveredAt"),r=(IDBKeyRange.lowerBound(0),o.openCursor(null,"prev"));r.onsuccess=function(t){var o=t.target.result;!1==!!o||i.length>=(e||50)?n(i):(i.push(o.value),o.continue())},r.onerror=function(){return n(i)}}else n(i)}))}},{key:"getNotification",value:function(e){var t=this;return new Promise((function(n){if(t.db){var i=t.db.transaction(["notifications"]).objectStore("notifications").get(e);i.onsuccess=function(e){var t=e.target.result;n(t)},i.onerror=function(){return n(null)}}else n(null)}))}},{key:"addNotification",value:function(e){var t=this;return new Promise((function(n,i){if(t.db){var o=t.db.transaction(["notifications"],"readwrite").objectStore("notifications").put(e);o.onsuccess=n,o.onerror=i}else n(null)}))}},{key:"deleteNotification",value:function(e){var t=this;return new Promise((function(n,i){if(t.db){var o=t.db.transaction(["notifications"],"readwrite").objectStore("notifications").delete(e);o.onsuccess=n,o.onerror=i}else n(null)}))}},{key:"canSubscribe",value:function(){try{return new Promise((function(e){try{var t=localStorage.getItem("cleverpush-subscription-status"),n=sessionStorage.getItem("cleverpush-subscription-status");e("denied"!==t&&"unsubscribed"!==t&&"pending"!==t&&"denied"!==n)}catch(t){e(!0)}}))}catch(e){return Promise.resolve(!0)}}},{key:"isSubscribed",value:function(e,t,n){var i=this;try{if(void 0!==t&&t){var o=localStorage.getItem("cleverpush-subscription-status");return!(!o||"denied"===o||"unsubscribed"===o||"pending"===o)&&(!!e||!!this.getSubscriptionId())}return new Promise((function(t){try{var o=localStorage.getItem("cleverpush-subscription-status");if(o&&"denied"!==o&&"unsubscribed"!==o&&"pending"!==o){var r="granted"===localStorage.getItem("amp-web-push-notification-permission");t(!(!e&&!r)||!!i.getSubscriptionId())}else t(!(void 0===n||!n)&&!!i.getSubscriptionId())}catch(e){t(!1)}}))}catch(e){return Promise.resolve(!0)}}},{key:"getSubscriptionId",value:function(){var e;try{(e=localStorage.getItem("cleverpush-subscription-id"))||(e=sessionStorage.getItem("cleverpush-subscription-id"))}catch(e){}if(!e&&Object(l.l)()){var t=new URLSearchParams(location.search.slice(1));t&&(e=t.get("subscriptionId"))}return e}},{key:"setClickedNotification",value:function(e){try{localStorage.setItem("cleverpush-notification-clicked",JSON.stringify({id:e,date:Date.now()}))}catch(e){}}},{key:"getClickedNotification",value:function(){try{var e=localStorage.getItem("cleverpush-notification-clicked"),t=JSON.parse(e);if(t&&t.id&&t.date&&parseInt(t.date,10)+36e5>Date.now())return t.id}catch(e){}return null}},{key:"getLastSession",value:function(){var e;try{e=localStorage.getItem("cleverpush-last-session")}catch(e){}var t={};if(e)try{t=JSON.parse(e)}catch(e){}return t}},{key:"setLastSession",value:function(e){try{localStorage.setItem("cleverpush-last-session",JSON.stringify(e))}catch(e){}}},{key:"setSubscribed",value:function(e,t){var n=this;if(e&&(localStorage.setItem("cleverpush-subscription-id",e),localStorage.setItem("cleverpush-domain",this.config.cleverpushDomain||"cleverpush.com"),void 0!==t&&t||localStorage.setItem("cleverpush-subscription-status","allowed"),this.db))try{this.db.transaction(["subscription"],"readwrite").objectStore("subscription").clear().onsuccess=function(){n.db.transaction(["subscription"],"readwrite").objectStore("subscription").put({id:e,channelId:n.config.channelId})}}catch(e){a.b.info("setSubscribed db error",e)}}},{key:"getFacebookUserRef",value:function(){try{return localStorage.getItem("cleverpush-facebook-user-ref")}catch(e){}}},{key:"setFacebookUserRef",value:function(e){e&&localStorage.setItem("cleverpush-facebook-user-ref",e)}},{key:"setAllowed",value:function(){localStorage.setItem("cleverpush-subscription-status","allowed")}},{key:"setPending",value:function(){localStorage.setItem("cleverpush-subscription-status","pending")}},{key:"setDenied",value:function(){localStorage.setItem("cleverpush-deny-time",Date.now()),localStorage.setItem("cleverpush-subscription-status","denied"),this.config.alertSessionsDeny>0&&(localStorage.setItem("cleverpush-deny-sessions","0"),sessionStorage.setItem("cleverpush-deny-session-counted","true"))}},{key:"setClosed",value:function(){localStorage.setItem("cleverpush-close-time",Date.now()),this.config.alertHoursClose>0||this.config.alertSessionsClose>0?localStorage.setItem("cleverpush-subscription-status","denied"):localStorage.removeItem("cleverpush-subscription-status"),this.config.alertSessionsClose>0&&(localStorage.setItem("cleverpush-close-sessions","0"),sessionStorage.setItem("cleverpush-close-session-counted","true"))}},{key:"setUnsubscribed",value:function(e){if(localStorage.removeItem("push-subscription-id"),localStorage.removeItem("cleverpush-subscription-id"),localStorage.removeItem("cleverpush-last-sync"),localStorage.removeItem("cleverpush-last-session"),localStorage.removeItem("cleverpush-last-worker-update"),localStorage.removeItem("cleverpush-last-worker-version"),localStorage.removeItem("cleverpush-domain"),localStorage.removeItem("cleverpush-facebook-user-ref"),localStorage.removeItem("cleverpush-topics"),localStorage.removeItem("cleverpush-topics-version"),localStorage.removeItem("cleverpush-tags"),localStorage.removeItem("cleverpush-attributes"),localStorage.removeItem("cleverpush-visits"),e||(localStorage.setItem("cleverpush-subscription-status","unsubscribed"),localStorage.setItem("cleverpush-deny-time",Date.now())),Object.keys(localStorage).forEach((function(e){(e&&e.startsWith("cleverpush-tag")||e.startsWith("cleverpush-attribute"))&&localStorage.removeItem(e)})),this.db)try{this.db.transaction(["subscription"],"readwrite").objectStore("subscription").clear()}catch(e){a.b.info("setUnsubscribed db error",e)}}},{key:"checkIfShouldSync",value:function(){var e=this;return new Promise((function(t){try{var n=localStorage.getItem("cleverpush-last-sync");if(e.getSubscriptionId())if(n){var i=parseInt(n,10);isNaN(i)?t(!0):t(i+1728e5<=Date.now())}else t(!0);else t(!0)}catch(e){t(!0)}}))}},{key:"setSynced",value:function(){localStorage.setItem("cleverpush-last-sync",Date.now())}},{key:"checkIfShouldUpdateWorker",value:function(){return new Promise((function(e){try{var t=localStorage.getItem("cleverpush-last-worker-update"),n=localStorage.getItem("cleverpush-last-worker-version");if(t)e("0.6.1"!==n);else e(!0)}catch(t){e(!0)}}))}},{key:"setWorkerUpdated",value:function(){localStorage.setItem("cleverpush-last-worker-update",Date.now()),localStorage.setItem("cleverpush-last-worker-version","0.6.1")}},{key:"getVisits",value:function(){var e;try{e=localStorage.getItem("cleverpush-visits")}catch(e){}var t=0;return e&&(t=parseInt(e,10),isNaN(t)&&(t=0)),t}},{key:"incrementVisits",value:function(){var e=this.getVisits();e+=1,localStorage.setItem("cleverpush-visits",e)}},{key:"setTopics",value:function(e){return a.b.debug("storageManager.setTopics",e),new Promise((function(t){e&&e.length?localStorage.setItem("cleverpush-topics",JSON.stringify(e)):e&&localStorage.removeItem("cleverpush-topics"),t(!0)}))}},{key:"getTopics",value:function(){var e=localStorage.getItem("cleverpush-topics");if(!e)return Promise.resolve([]);try{var t=JSON.parse(e);return Promise.resolve(t||[])}catch(e){return Promise.resolve([])}}},{key:"getTagDates",value:function(){var e={};if(localStorage.getItem("cleverpush-tag-dates"))try{e=JSON.parse(localStorage.getItem("cleverpush-tag-dates"))}catch(e){}return e}},{key:"getTagDate",value:function(e){var t=(this.getTagDates()||{})[e];return t?new Date(t):null}},{key:"setTags",value:function(e){var t=this;return new Promise((function(n){localStorage.setItem("cleverpush-tags",JSON.stringify(e));var i=t.getTagDates()||{};e.forEach((function(e){i[e]=(new Date).toISOString()})),localStorage.setItem("cleverpush-tag-dates",JSON.stringify(i)),n(!0)}))}},{key:"addTag",value:function(e){var t=this;return this.getTags().then((function(n){return n.indexOf(e)<0&&n.push(e),t.setTags(n)}))}},{key:"removeTag",value:function(e){var t=this;return this.getTags().then((function(n){var i=n.indexOf(e);return i>-1?(n.splice(i,1),t.setTags(n)):Promise.resolve()}))}},{key:"getTags",value:function(){var e=localStorage.getItem("cleverpush-tags");if(!e)return Promise.resolve([]);try{var t=JSON.parse(e);return Promise.resolve(t||[])}catch(e){return Promise.resolve([])}}},{key:"hasTag",value:function(e){return this.getTags().then((function(t){return Promise.resolve(t.indexOf(e)>-1)}))}},{key:"setTempBlocked",value:function(){sessionStorage.setItem("cleverpush-subscription-status","denied")}}]),e}(),p=n(3),h=n(4),f=n(1);n.d(t,"a",(function(){return d}));var d=function(){function e(t,n,i){var r=this;o()(this,e),this.config=t,this.api=n,this.triggerEvent=i,this.storageManager=new u(t),this.subscribed=!1,this.initialTags=[];try{this.getTopics().then((function(e){return r.topics=e}))}catch(e){}}return s()(e,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){return"PREVIEW"===e.config.env?t(!1):"granted"===window.Notification.permission&&navigator.serviceWorker?e.getActiveWorkerRegistration().then((function(n){return n.pushManager.getSubscription().then((function(n){if(n)return e.storageManager.isSubscribed().then((function(n){a.b.debug("manager subscribed = "+n+" (2)"),e.subscribed=n,t(n)}));a.b.debug("manager subscribed = false (1)"),e.subscribed=!1,t(!1)}))})).catch((function(n){n&&a.b.error(n),a.b.debug("manager subscribed = false (3)"),e.subscribed=!1,t(!1)})):(a.b.debug("manager subscribed = false (4)"),e.subscribed=!1,void t(!1))}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,n){e.storageManager.canSubscribe().then((function(i){i?e.isSubscribed().then((function(e){e?n(new h.a("User is already subscribed","subscribed")):"denied"===Notification.permission?n(new h.a("User denied notifications","denied")):t(!0)})):n(new h.a("User has manually unsubscribed or denied notifications","unsubscribed"))})).catch((function(e){n(e)}))}))}},{key:"subscribe",value:function(){}},{key:"subscribeForce",value:function(){this.subscribe()}},{key:"showUnsubscribeFeedback",value:function(){var e=this;if(!this.config.unsubscribeFeedbackDisabled){var t=[];this.config.optOutFeedbackAnswers&&this.config.optOutFeedbackAnswers.length?(this.config.optOutFeedbackAnswers.forEach((function(e){return t.push({title:e.title,id:e.id,icon:e.icon})})),this.config.optOutFeedbackCustomText&&t.push({title:Object(f.b)("unsubscribe.reasonOther"),id:"other",icon:""})):t.push({title:Object(f.b)("unsubscribe.reasonQuantity"),id:"quantity",icon:""},{title:Object(f.b)("unsubscribe.reasonContent"),id:"content",icon:""},{title:Object(f.b)("unsubscribe.reasonOther"),id:"other",icon:""});var n=document.createElement("div");n.className="cleverpush-confirm cleverpush-confirm-default cleverpush-uf-box",n.innerHTML='\n    <div class="cleverpush-confirm-text">\n    <span class="cleverpush-confirm-title">'.concat(Object(f.b)("unsubscribe.feedback"),'</span>\n    </div>\n    <div style="margin-top: 10px; margin-bottom: 5px; padding-top: 10px;">\n    ').concat(t.map((function(e){return'<button type="button" class="cleverpush-confirm-btn cleverpush-uf-button" style="text-transform: none; margin-bottom: 10px !important;" data-reason="'.concat(e.id,'">').concat(e.icon?"<img src=".concat(e.icon,' style="margin-right: 10px; float: left;" width="25" heigh="25">'):"").concat(e.title,"</button>")})).join(""),"\n    </div>\n    "),document.body.appendChild(n);for(var i=n.querySelectorAll(".cleverpush-confirm-btn"),o=0;o<i.length;o++){i[o].addEventListener("click",(function(t){t.preventDefault(),"other"===t.currentTarget.dataset.reason&&e.config.optOutFeedbackCustomText?e.showCustomText(n):(e.api.unsubscribeFeedback(t.currentTarget.dataset.reason),n.parentNode.removeChild(n))}))}}}},{key:"showCustomText",value:function(e){var t=this;e.innerHTML='\n    <div class="cleverpush-confirm-text">\n    <span class="cleverpush-confirm-title">'.concat(Object(f.b)("unsubscribe.enterReason"),'</span>\n    </div>\n    <div style="margin-top: 10px; margin-bottom: 5px;">\n      <div style="text-align: center; padding: 12px;">\n        <textarea style="width: 100%; margin-bottom: 10px;"></textarea>\n        <button type="button" class="cleverpush-confirm-btn cleverpush-uf-button" style="text-transform: none;, margin-bottom: 10px !important;" data-reason="other">').concat(Object(f.b)("unsubscribe.submit"),"</button>\n      </div>\n    </div>\n    "),e.querySelector(".cleverpush-confirm-btn").addEventListener("click",(function(n){n.preventDefault();var i=e.querySelector("textarea").value;t.api.unsubscribeFeedback(n.currentTarget.dataset.reason,i),e.parentNode.removeChild(e)}))}},{key:"unsubscribe",value:function(e,t){var n=this,i=function(){return n.storageManager.setUnsubscribed(e),n.topics=[],n.triggerEvent(p.a.UNSUBSCRIBED),navigator.serviceWorker?n.getActiveWorkerRegistration().then((function(e){return e.pushManager})).then((function(e){return e.getSubscription()})).then((function(e){if(e)return e.unsubscribe().then((function(){return Promise.resolve()}))})):Promise.resolve()},o=this.storageManager.getSubscriptionId();return!o||void 0!==t&&t===o?i().then((function(){return n.showUnsubscribeFeedback(),Promise.resolve()})):this.api.unsubscribe(o).then((function(){return i().then((function(){return n.showUnsubscribeFeedback(),Promise.resolve()}))}))}},{key:"getWorkerPath",value:function(){return Object(l.k)()?"/cleverpush-worker.js":this.config.serviceWorkerFile||"/worker.js"}},{key:"getWorkerScope",value:function(){var e=this.getWorkerPath();return e.indexOf("?")>-1&&(e=e.split("?")[0]),e.substr(0,e.lastIndexOf("/")+1)||"/"}},{key:"getServiceWorker",value:function(e){return e.active||e.waiting||e.installing}},{key:"getActiveWorkerRegistration",value:function(){var e=this;return new Promise((function(t,n){if(navigator.serviceWorker)if(navigator.serviceWorker.getRegistration){var i=e.getWorkerScope(),o=e.config.serviceWorkerFile;navigator.serviceWorker.getRegistration(i).then((function(i){i&&e.getServiceWorker(i)&&(!o||!e.getServiceWorker(i).scriptURL||e.getServiceWorker(i).scriptURL.indexOf(o)>-1)?t(i):"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then((function(i){var r=!1;(i||[]).forEach((function(n){r||(n&&e.getServiceWorker(n)&&(!o||!e.getServiceWorker(n).scriptURL||e.getServiceWorker(n).scriptURL.indexOf(o)>-1)?(r=!0,t(n)):a.b.debug("worker: getActiveWorkerRegistration:",n,e.getServiceWorker(n)))})),r||(a.b.debug("worker: getActiveWorkerRegistration: !found"),n())})).catch(n):navigator.serviceWorker.controller?(a.b.debug("worker: getActiveWorkerRegistration: waiting for worker to be ready"),navigator.serviceWorker.ready.then(t).catch(n)):(a.b.debug("worker: getActiveWorkerRegistration: last reject 1"),n())})).catch(n)}else navigator.serviceWorker.controller?(a.b.debug("worker: getActiveWorkerRegistration: waiting for worker to be ready"),navigator.serviceWorker.ready.then(t).catch(n)):(a.b.debug("worker: getActiveWorkerRegistration: last reject 2"),n());else a.b.debug("worker: getActiveWorkerRegistration: !navigator.serviceWorker"),n()}))}},{key:"registerWorker",value:function(){var e=this;return new Promise((function(t,n){a.b.debug("registering worker");var i=function(){var i=e.getWorkerPath(),o=e.getWorkerScope();navigator.serviceWorker.register(i,{scope:o,updateViaCache:"none"}).then((function(i){a.b.debug("worker registered",i),i.active?(a.b.debug("worker is active"),t(i)):i.installing?(a.b.debug("worker is installing"),i.installing.addEventListener("statechange",(function(e){a.b.debug("worker: onstatechange",e.target.state),"activated"===e.target.state&&t(i)}))):i.waiting?(a.b.debug("worker is waiting"),i.installing.addEventListener("statechange",(function(e){a.b.debug("worker: onstatechange",e.target.state),"activated"===e.target.state&&t(i)}))):(a.b.debug("worker: getActiveWorkerRegistration"),e.getActiveWorkerRegistration().then(t).catch(n))})).catch((function(e){a.b.error("error registering worker",e),n(e)}))};e.getActiveWorkerRegistration().then((function(e){e&&e.active?(a.b.debug("worker was already registered",e),t(e)):i()})).catch(i)}))}},{key:"unregisterOtherPushSubscriptions",value:function(e){var t=this;Object(a.c)("unregisterOtherPushSubscriptions",e.scriptURL),this.config.importedSubscriptionsProvider&&"function"==typeof navigator.serviceWorker.getRegistrations&&navigator.serviceWorker.getRegistrations().then((function(n){(n||[]).forEach((function(n){t.getServiceWorker(n)&&t.getServiceWorker(n).scriptURL!==e.scriptURL&&t.getServiceWorker(n).scriptURL&&t.getServiceWorker(n).scriptURL.indexOf(t.config.serviceWorkerFile)<0&&t.getServiceWorker(n).scriptURL.indexOf("cleverpush")<0&&n.pushManager.getSubscription().then((function(e){a.b.debug("unsubscribing:",e),e&&(e.unsubscribe(),t.migratedSubscription=!0)}))}))}))}},{key:"tryWorkerUpdate",value:function(e){var t=this;Object(a.c)("tryWorkerUpdate",e),this.storageManager.checkIfShouldUpdateWorker().then((function(n){e&&n&&(a.b.debug("updating worker now"),e.update(),t.storageManager.setWorkerUpdated())})),this.unregisterOtherPushSubscriptionsCalled||(this.unregisterOtherPushSubscriptionsCalled=!0,this.unregisterOtherPushSubscriptions(e))}},{key:"sync",value:function(e,t){var n=this;Object(a.c)("sync",e);var i=void 0!==t?t:this.topics;return new Promise((function(t){if(n.syncInProgress)return a.b.debug("sync: resolved because syncInProgress was true"),void t();n.syncInProgress=!0;var o=e;n.getSubscriptionId().then((function(e){var r=function(){var r={};e&&(r.subscriptionId=e),n.existingPermission&&(r.existingPermission=!0),n.isReSubscribe&&(r.isReSubscribe=!0),n.migratedSubscription&&(r.migratedSubscription=!0),n.api.syncSubscription(o,i,n.initialTags,r).then((function(e){var i=e.id;if(n.initialTags=[],n.storageManager.setSubscribed(i),n.iframeMessenger&&n.iframeMessenger.setSubscribed(i),n.storageManager.setSynced(),(e.topics||[]).length&&(n.storageManager.setTopics(e.topics),n.triggerEvent(p.a.TOPICS_SET)),e.topicsVersion)try{localStorage.setItem("cleverpush-topics-version",e.topicsVersion+"")}catch(e){}n.config.channelTags&&n.config.channelTags.length&&!n.existingPermission&&!r.subscriptionId&&n.config.channelTags.forEach((function(e){e.autoAssignOptInPath&&new RegExp(e.autoAssignOptInPath).test(location.pathname)&&CleverPush.tagSubscription(e._id)})),n.syncInProgress=!1,t()})).catch((function(e){void 0!==e?404===e?(n.storageManager.setUnsubscribed(!0),n.iframeMessenger&&n.iframeMessenger.setUnsubscribed(!0),n.subscribe()):a.b.error(e):a.b.error("Unknown Error occured while syncing"),n.syncInProgress=!1,t()}))};void 0!==o&&o?r():(o=e)?r():(n.syncInProgress=!1,t())})).catch((function(e){n.syncInProgress=!1}))}))}},{key:"getSubscriptionId",value:function(){var e=this.storageManager.getSubscriptionId();return e?a.b.debug("subscriptionId",e):a.b.debug("subscriptionId not found"),Promise.resolve(e)}},{key:"hasNotificationPermission",value:function(){return"PREVIEW"===this.config.env?Promise.resolve(!1):Promise.resolve("granted"===window.Notification.permission)}},{key:"getNotificationPermission",value:function(e){try{if("Firefox"===l.a.name&&"denied"===sessionStorage.getItem("cleverpush-subscription-status")&&void 0===e)return"denied"}catch(e){}return window.Notification.permission}},{key:"setConfirm",value:function(e){this.confirm=e}},{key:"setTopics",value:function(e){return a.b.debug("setTopics",e),this.topics=e,this.storageManager.setTopics(e)}},{key:"getTopics",value:function(){return this.storageManager.getTopics()}},{key:"getStoredNotifications",value:function(){var e=this,t="/channel/"+this.api.channelId+"/received-notifications";return this.getTopics().then((function(n){return n&&n.length&&(t+="?"+n.map((function(e){return"topics[]="+e})).join("&")),e.api.request("GET",t).then((function(e){return new Promise((function(t){e&&e.notifications?t(e.notifications.filter((function(e){return e.createdAt})).sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})).map((function(e){return Object.assign({},e,{title:e.title||(e.testVariants&&e.testVariants.length&&e.testVariants[0]?e.testVariants[0].title:""),text:e.text||(e.testVariants&&e.testVariants.length&&e.testVariants[0]?e.testVariants[0].text:""),mediaUrl:e.mediaUrl||(e.testVariants&&e.testVariants.length&&e.testVariants[0]?e.testVariants[0].mediaUrl:""),url:e.url||(e.testVariants&&e.testVariants.length&&e.testVariants[0]?e.testVariants[0].url:"")})}))):t([])}))}))}))}},{key:"deleteStoredNotification",value:function(e){var t=this;return new Promise((function(n,i){t.storageManager.db?t.storageManager.deleteNotification(e).then((function(){n()})).catch((function(e){i(e)})):n()}))}},{key:"getPushManagerSubscribeOptions",value:function(){var e={userVisibleOnly:!0};if(this.config.vapidPublicKey&&this.config.vapidPublicKey.length){var t=Object(c.a)(this.config.vapidPublicKey);t&&(e.applicationServerKey=t)}return e}},{key:"setClickedNotification",value:function(e){return this.storageManager.setClickedNotification(e),Promise.resolve()}},{key:"getClickedNotification",value:function(){var e=this;return new Promise((function(t){t(e.storageManager.getClickedNotification())}))}}]),e}()},function(e,t,n){var i=n(37);function o(t,n,r){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=i(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}},o(t,n,r||t)}e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var i="message";t.ERR_CONNECTION_DESTROYED="ConnectionDestroyed";t.ERR_CONNECTION_TIMEOUT="ConnectionTimeout";t.ERR_NOT_IN_IFRAME="NotInIframe";t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM="IframeAlreadyAttachedToDom";var o,r={"http:":"80","https:":"443"},s=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/,a={ERR_CONNECTION_DESTROYED:"ConnectionDestroyed",ERR_CONNECTION_TIMEOUT:"ConnectionTimeout",ERR_NOT_IN_IFRAME:"NotInIframe",ERR_IFRAME_ALREADY_ATTACHED_TO_DOM:"IframeAlreadyAttachedToDom",Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},c=(o=0,function(){return++o}),l=function(){if(a.debug){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).log.apply(e,["[Penpal]"].concat(n))}},u=function(e){var t=[];return e((function(){t.forEach((function(e){e()}))})),{then:function(e){t.push(e)}}},p=function(e){return{name:e.name,message:e.message,stack:e.stack}},h=function(e){var t=new Error;return Object.keys(e).forEach((function(n){return t[n]=e[n]})),t},f=function(e,t,n,o,r){var s=t.localName,u=t.local,p=t.remote,f=t.remoteOrigin,d=!1;l("".concat(s,": Connecting call sender"));r.then((function(){d=!0})),n.reduce((function(e,t){return e[t]=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(l("".concat(s,": Sending ").concat(e,"() call")),p.closed&&o(),d){var b=new Error("Unable to send ".concat(e,"() call due ")+"to destroyed connection");throw b.code="ConnectionDestroyed",b}return new a.Promise((function(t,o){var r=c();u.addEventListener(i,(function n(a){if(a.source===p&&a.origin===f&&"reply"===a.data.penpal&&a.data.id===r){l("".concat(s,": Received ").concat(e,"() reply")),u.removeEventListener(i,n);var c=a.data.returnValue;a.data.returnValueIsError&&(c=h(c)),("fulfilled"===a.data.resolution?t:o)(c)}})),p.postMessage({penpal:"call",id:r,methodName:e,args:n},f)}))}}(t),e}),e)},d=function(e,t,n){var o=e.localName,r=e.local,s=e.remote,c=e.remoteOrigin,u=!1;l("".concat(o,": Connecting call receiver"));var h=function(e){if(e.source===s&&e.origin===c&&"call"===e.data.penpal){var n=e.data,i=n.methodName,r=n.args,h=n.id;if(l("".concat(o,": Received ").concat(i,"() call")),i in t){var f=function(e){return function(t){if(l("".concat(o,": Sending ").concat(i,"() reply")),u)l("".concat(o,": Unable to send ").concat(i,"() reply due to destroyed connection"));else{var n={penpal:"reply",id:h,resolution:e,returnValue:t};"rejected"===e&&t instanceof Error&&(n.returnValue=p(t),n.returnValueIsError=!0);try{s.postMessage(n,c)}catch(e){throw"DataCloneError"===e.name&&s.postMessage({penpal:"reply",id:h,resolution:"rejected",returnValue:p(e),returnValueIsError:!0},c),e}}}};new a.Promise((function(e){return e(t[i].apply(t,r))})).then(f("fulfilled"),f("rejected"))}}};r.addEventListener(i,h),n.then((function(){u=!0,r.removeEventListener(i,h)}))};a.connectToChild=function(e){var t,n=e.url,o=e.appendTo,c=e.iframe,p=e.methods,h=void 0===p?{}:p,b=e.timeout;if(c&&c.parentNode){var g=new Error("connectToChild() must not be called with an iframe already attached to DOM");throw g.code="IframeAlreadyAttachedToDom",g}var m=new u((function(e){t=e})),_=window;(c=c||document.createElement("iframe")).src=n;var v=function(e){var t,n,i,o=document.location,a=s.exec(e);if(a?(t=a[1]?a[1]:o.protocol,n=a[2],i=a[4]):(t=o.protocol,n=o.hostname,i=o.port),"file:"===t)return"null";var c=i&&i!==r[t]?":".concat(i):"";return"".concat(t,"//").concat(n).concat(c)}(n);return{promise:new a.Promise((function(e,n){var r;void 0!==b&&(r=setTimeout((function(){var e=new Error("Connection to child timed out after ".concat(b,"ms"));e.code="ConnectionTimeout",n(e),t()}),b));var s,a,p={},g=function(n){var i=c.contentWindow;if(n.source===i&&n.origin===v&&"handshake"===n.data.penpal){l("Parent: Received handshake, sending reply");var o="null"===n.origin?"*":n.origin;n.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(h)},o);var b={localName:"Parent",local:_,remote:i,remoteOrigin:o};a&&a();var g=new u((function(e){m.then(e),a=e}));d(b,h,g),s&&s.forEach((function(e){delete p[e]})),s=n.data.methodNames,f(p,b,s,t,m),clearTimeout(r),e(p)}};_.addEventListener(i,g),l("Parent: Loading iframe"),(o||document.body).appendChild(c);var w=setInterval((function(){document.contains(c)||(clearInterval(w),t())}),6e4);m.then((function(){c.parentNode&&c.parentNode.removeChild(c),_.removeEventListener(i,g),clearInterval(w);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",n(e)}))})),iframe:c,destroy:t}},a.connectToParent=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parentOrigin,o=void 0===n?"*":n,r=t.methods,s=void 0===r?{}:r,c=t.timeout;if(window===window.top){var p=new Error("connectToParent() must be called within an iframe");throw p.code="NotInIframe",p}var h=new u((function(t){e=t})),b=window,g=b.parent,m=new a.Promise((function(t,n){var r;void 0!==c&&(r=setTimeout((function(){var t=new Error("Connection to parent timed out after ".concat(c,"ms"));t.code="ConnectionTimeout",n(t),e()}),c));var a=function n(a){if(("*"===o||o===a.origin)&&a.source===g&&"handshake-reply"===a.data.penpal){l("Child: Received handshake reply"),b.removeEventListener(i,n);var c={localName:"Child",local:b,remote:g,remoteOrigin:a.origin},u={};d(c,s,h),f(u,c,a.data.methodNames,e,h),clearTimeout(r),t(u)}};b.addEventListener(i,a),h.then((function(){b.removeEventListener(i,a);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",n(e)})),l("Child: Sending handshake"),g.postMessage({penpal:"handshake",methodNames:Object.keys(s)},o)}));return{promise:m,destroy:e}};var b=a;t.default=b},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var i,o,r={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),c=null,l=0,u=[],p=n(74);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(_(i.parts[s],t))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(_(i.parts[s],t));r[i.id]={id:i.id,refs:1,parts:a}}}}function f(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(s):t.push(n[r]={id:r,parts:[s]})}return t}function d(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function b(e){e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",m(t,e.attrs),d(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function _(e,t){var n,i,o;if(t.singleton){var r=l++;n=c||(c=g(t)),i=y.bind(null,n,r,!1),o=y.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",m(t,e.attrs),d(e,t),t}(t),i=M.bind(null,n,t),o=function(){b(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),i=x.bind(null,n),o=function(){b(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=s()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=f(e);return h(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var s=n[o];(a=r[s.id]).refs--,i.push(a)}e&&h(f(e),t);for(o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete r[a.id]}}}};var v,w=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function y(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function x(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function M(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=p(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(e,t,n){var i=n(63),o=n(64),r=n(65);e.exports=function(e){return i(e)||o(e)||r()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(13),c=n.n(a),l=n(9),u=n.n(l),p=n(14),h=n.n(p),f=n(17),d=n(3),b=(n(16),n(0)),g=n(4),m=function(e){function t(e,n,i){var r;return o()(this,t),r=c()(this,u()(t).call(this,e,n,i)),e.multiChannels&&e.multiChannels.facebookChannel&&e.multiChannels.facebookChannel._id!==e.channelId&&(e.channelId=e.multiChannels.facebookChannel._id,n.channelId=e.channelId),r.triggerEvent(d.a.INITIALIZED),r}return h()(t,e),s()(t,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){e.subscribed=!!e.storageManager.getFacebookUserRef()||!!e.storageManager.isSubscribed(!0,!0),t(e.subscribed)}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,n){"true"!==new URLSearchParams(location.search.slice(1)).get("cleverPushFacebookClick")?"denied"!==localStorage.getItem("cleverpush-subscription-status")?e.isSubscribed().then((function(e){e?n(new g.a("User is already subscribed","subscribed")):t(!0)})).catch(n):n(new g.a("User has manually unsubscribed or denied notifications","unsubscribed")):n(new g.a("User is already subscribed","subscribed"))}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"setFacebookUserRef",value:function(e){var t=this;this.storageManager.setFacebookUserRef(e),this.sync({facebookUserRef:e}).then((function(){t.isSubscribing=!1,t.triggerEvent(d.a.SUBSCRIBED,t.storageManager.getSubscriptionId()),t.resolveSubscribe&&t.resolveSubscribe("granted")}))}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,n){e.config.facebookAppId&&e.config.facebookPageId?(window.open("https://m.me/".concat(e.config.facebookPageId),"_blank"),localStorage.setItem("cleverpush-subscription-status","allowed"),e.triggerEvent(d.a.SUBSCRIBED,null),t()):(b.b.warn("Facebook App ID or Page ID missing"),n()),e.confirm&&e.confirm.hideBackdrop()}))}},{key:"unsubscribe",value:function(e){var t=this,n=this.storageManager.getSubscriptionId();return n?this.api.unsubscribe(n).then((function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(d.a.UNSUBSCRIBED)})):Promise.resolve()}},{key:"hasNotificationPermission",value:function(){return Promise.resolve(!!this.storageManager.getFacebookUserRef())}},{key:"getNotificationPermission",value:function(){return Promise.resolve(this.storageManager.getFacebookUserRef()?"granted":"default")}}],[{key:"initFacebook",value:function(e){if(t.facebookInitialized)e();else{window.fbAsyncInit=function(){b.b.debug("window.fbAsyncInit"),FB.init({appId:CleverPush.config.facebookAppId,version:"v2.9"}),t.facebookInitialized=!0,e()};var n="en_US",i=(navigator.language||navigator.userLanguage||"").replace("-","_").substr(0,5);i&&i!==n&&["en_US","ca_ES","cs_CZ","cx_PH","cy_GB","da_DK","de_DE","eu_ES","en_UD","es_LA","es_ES","gn_PY","fi_FI","fr_FR","gl_ES","hu_HU","it_IT","ja_JP","ko_KR","nb_NO","nn_NO","nl_NL","fy_NL","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","th_TH","tr_TR","ku_TR","zh_CN","zh_HK","zh_TW","af_ZA","sq_AL","hy_AM","az_AZ","be_BY","bn_IN","bs_BA","bg_BG","hr_HR","nl_BE","en_GB","et_EE","fo_FO","fr_CA","ka_GE","el_GR","gu_IN","hi_IN","is_IS","id_ID","ga_IE","jv_ID","kn_IN","kk_KZ","lv_LV","lt_LT","mk_MK","mg_MG","ms_MY","mt_MT","mr_IN","mn_MN","ne_NP","pa_IN","sr_RS","so_SO","sw_KE","tl_PH","ta_IN","te_IN","ml_IN","uk_UA","uz_UZ","vi_VN","km_KH","tg_TJ","ar_AR","he_IL","ur_PK","fa_IR","ps_AF","my_MM","qz_MM","or_IN","si_LK","rw_RW","cb_IQ","ha_NG","ja_KS","br_FR","tz_MA","co_FR","as_IN","ff_NG","sc_IT","sz_PL"].forEach((function(e){e!==i&&e.substr(0,2)!==i.substr(0,2)||(n=e)})),o=document,r="script",s="facebook-jssdk",c=o.getElementsByTagName(r)[0],o.getElementById(s)||((a=o.createElement(r)).id=s,a.src="//connect.facebook.net/"+n+"/sdk.js",c.parentNode.insertBefore(a,c))}var o,r,s,a,c}}]),t}(f.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Panel}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_utils_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_utils_translate__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_utils_debug__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_const_event__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),Panel=function(){function Panel(e,t,n,i){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Panel),this.config=e,this.subscriptionManager=t,this.triggerEvent=n,this.api=i,__webpack_require__(72),this.tab=e.hidePanelNotifications?"settings":"notifications"}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Panel,[{key:"show",value:function(){if(!this.panel){var e="cleverpush-panel";e+=" cleverpush-panel-position-"+(this.config.notificationBellPosition||"left"),document.querySelector("body").appendChild(Object(_utils_dom__WEBPACK_IMPORTED_MODULE_2__.a)('<div class="'+e+'"><button class="cleverpush-panel-close" type="button">&times;</button><div class="cleverpush-panel-content"></div></div>'))}this.panel=document.querySelector(".cleverpush-panel"),this.closeButton=this.panel.querySelector(".cleverpush-panel-close"),this.closeButton&&this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.showPanelContent(),this.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_5__.a.PANEL_SHOWN),this.api&&this.api.trackPanel(null,"opened")}},{key:"hide",value:function(){this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.panel=null,this.closeButton=null,this.footerCloseButton=null,this.tabButtons=null,this.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_5__.a.PANEL_HIDDEN)}},{key:"onCloseClick",value:function(e){e.preventDefault(),this.hide()}},{key:"onUnsubscribeClick",value:function(e){confirm(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("unsubscribe.confirm"))&&(this.onCloseClick(e),this.subscriptionManager.unsubscribe())}},{key:"setTab",value:function(e){this.tab=e,this.showPanelContent()}},{key:"onTabButtonClick",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("onTabButtonClick",e.currentTarget.dataset.tab),e.preventDefault(),this.setTab(e.currentTarget.dataset.tab||"notifications")}},{key:"openNotification",value:function(e){e.preventDefault(),window.open(e.currentTarget.dataset.url,"_blank"),this.api&&this.api.trackPanel(e.currentTarget.dataset.id,"clicked")}},{key:"timeString",value:function(e){var t=e.toISOString().substring(0,10);t+=" ";var n=e.getHours();n<10&&(n="0"+n);var i=e.getMinutes();return i<10&&(i="0"+i),t+=n+":"+i}},{key:"showPanelContent",value:function showPanelContent(){var _this=this,panelContent=this.panel.querySelector(".cleverpush-panel-content"),content=this.config.hidePanelNotifications?"":'<div class="cleverpush-panel-buttons">\n<button type="button" class="cleverpush-panel-button'.concat("notifications"===this.tab?" active":"",'" data-tab="notifications">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.notifications"),"</button>")+'<button type="button" class="cleverpush-panel-button'.concat("settings"===this.tab?" active":"",'" data-tab="settings">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.settings"),"</button>")+"</div>";this.config.notificationBellColor&&(content+="<style>.cleverpush-panel-button.active, .cleverpush-panel-button:hover, .cleverpush-panel-settings button, .cleverpush-panel-settings button:hover, .cleverpush-panel-footer button, .cleverpush-panel-footer button:hover { background-color: "+this.config.notificationBellColor+"; }</style>"),content+='\n    <div class="cleverpush-panel-header" style="border-bottom-color: '.concat(this.config.notificationBellColor||"",'"><img src="').concat(this.config.channelIcon,'"></div>\n    ');var setPanelContent=function(e){panelContent.innerHTML=e+'<div class="cleverpush-panel-footer"><button type="button" class="cleverpush-panel-footer-close">'.concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.close"),'</button><div class="cleverpush-panel-branding">').concat(_this.getBrandingLinks(),"</div></div>"),_this.footerCloseButton=_this.panel.querySelector(".cleverpush-panel-footer-close"),_this.footerCloseButton&&_this.footerCloseButton.addEventListener("click",_this.onCloseClick.bind(_this)),_this.tabButtons=_this.panel.querySelectorAll(".cleverpush-panel-button");for(var t=0;t<_this.tabButtons.length;t+=1){_this.tabButtons[t].addEventListener("click",_this.onTabButtonClick.bind(_this))}_this.notificationItems=_this.panel.querySelectorAll(".cleverpush-panel-notification");for(var n=0;n<_this.notificationItems.length;n+=1){_this.notificationItems[n].addEventListener("click",_this.openNotification.bind(_this))}};if("notifications"===this.tab)content+='<div class="cleverpush-panel-spinner"><div class="spinner">\n                <div class="double-bounce1"></div>\n                <div class="double-bounce2"></div>\n            </div></div>',setPanelContent(content),this.subscriptionManager.getStoredNotifications().then((function(e){e.length?(content+='<div class="cleverpush-panel-notifications" style="display: none;">',e.slice(0,50).forEach((function(e){e.testVariants&&e.testVariants.length&&e.testVariants[0]&&(!e.title&&e.testVariants[0].title&&(e.title=e.testVariants[0].title),!e.text&&e.testVariants[0].text&&(e.text=e.testVariants[0].text),e.testVariants[0].url&&(e.url=e.testVariants[0].url)),content+='<div class="cleverpush-panel-notification" data-url="'.concat(e.url,'" data-id="').concat(e._id,'">'),content+='<div class="cleverpush-panel-notification-image" style="background-image: url(\''.concat(e.mediaUrl||e.iconUrl||_this.config.channelIcon,"');\"></div>"),content+='<div class="cleverpush-panel-notification-title">'.concat(e.title,"</div>"),e.text&&(e.text.length>100&&(e.text=e.text.substr(0,100)+"…"),content+='<div class="cleverpush-panel-notification-text">'.concat(e.text,"</div>")),e.createdAt&&(content+='<div class="cleverpush-panel-notification-time">'.concat(_this.timeString(new Date(e.queuedAt||e.scheduledAt||e.createdAt)),"</div>")),content+="</div>"})),content+="</div>"):content+='<div class="cleverpush-panel-notifications-empty">'.concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.notificationsEmpty"),"</div>"),setPanelContent(content);var t=panelContent.querySelector(".cleverpush-panel-spinner"),n=panelContent.querySelector(e.length?".cleverpush-panel-notifications":".cleverpush-panel-notifications-empty");t&&n&&Object(_utils_dom__WEBPACK_IMPORTED_MODULE_2__.e)(t,150,(function(){t.style.display="none",n.style.opacity=0,n.style.display="block",Object(_utils_dom__WEBPACK_IMPORTED_MODULE_2__.d)(n,150)}))}));else if("settings"===this.tab){var topicsContent,setSettingsContent=function setSettingsContent(){if(content+='<div class="cleverpush-panel-settings">'.concat(topicsContent||"",'<div class="cleverpush-panel-unsubscribe">')+'<button type="button" class="cleverpush-panel-unsubscribe-button">'+Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("unsubscribe.title")+"</button></div></div>",setPanelContent(content),_this.unsubscribeButton=_this.panel.querySelector(".cleverpush-panel-unsubscribe-button"),_this.unsubscribeButton&&_this.unsubscribeButton.addEventListener("click",_this.onUnsubscribeClick.bind(_this)),topicsContent){if(_this.config.topicsTemplateFunction&&topicsContent){var topicsDiv=panelContent.querySelector(".cleverpush-topics");if(topicsDiv)try{var templateFunc=eval("("+_this.config.topicsTemplateFunction+")");"function"==typeof templateFunc&&_this.subscriptionManager.getTopics().then((function(e){templateFunc(topicsDiv,_this.config,e,"panel"),_this.topicCheckboxes=_this.panel.querySelectorAll('.cleverpush-panel-topics input[type="'+(_this.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'"]')}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.error(e)}}else _this.topicCheckboxes=_this.panel.querySelectorAll('.cleverpush-panel-topic-selection input[type="'+(_this.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'"]');_this.saveTopicsButton=_this.panel.querySelector(".cleverpush-panel-save-topics-button"),_this.saveTopicsButton&&_this.saveTopicsButton.addEventListener("click",_this.saveTopics.bind(_this))}};this.config.channelTopics&&this.config.channelTopics.length?this.config.topicsTemplateFunction?(topicsContent="<div><h3>".concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.editTopics"),'</h3><div class="cleverpush-topics cleverpush-panel-topics"></div><div class="cleverpush-panel-save-topics"><button type="button" class="cleverpush-panel-save-topics-button">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.save"),"</div></button>"),setSettingsContent()):this.subscriptionManager.getTopics().then((function(e){var t=_this.config.channelTopics.filter((function(e){return!e.parentTopic}));topicsContent="".concat('<div class="cleverpush-topics cleverpush-panel-topics"><h3>'+Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.editTopics")+'</h3><div class="cleverpush-panel-topic-selection">').concat(t.sort((function(e,t){return e.sort-t.sort})).map((function(t){var n=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)(t.name),i=_this.config.channelTopics.filter((function(e){return e.parentTopic===t._id})),o='<div class="cleverpush-panel-topic '.concat(i.length?"topic-has-children":"",'"><label><input type="').concat(_this.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(t._id,'"').concat(e&&e.indexOf(t._id)>-1?' checked="checked"':"","> ").concat(n,"</label></div>");return i.length&&i.forEach((function(n){var i=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)(n.name),r=_this.config.confirmAlertRadioButtonTopics||t.childTopicsRadioButtons?"radio":"checkbox";o+='<div class="topic-child" data-parent-topic="'.concat(t._id,'" style="margin-left: 20px; font-size: 90%; ').concat("",'"><label><input type="').concat(r,'" name="topics[]" value="').concat(n._id,'" ').concat(e&&e.indexOf(n._id)>-1?' checked="checked"':"","> ").concat(i,"</label></div>")})),o})).join(""),'</div><button type="button" class="cleverpush-panel-save-topics-button">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.save"),"</button>")+"</div>",setSettingsContent()})):setSettingsContent()}}},{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||("convertpush.io"===this.config.cleverpushDomain?e.push('<a href="https://convertpush.io/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">Powered by ConvertPush</a>')):e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">Powered by CleverPush</a>'))),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.privacyPolicyText||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0;var n=[];if(this.topicCheckboxes=this.panel.querySelectorAll('.cleverpush-panel-topics input[type="'+(this.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'"]'),this.topicCheckboxes&&this.topicCheckboxes.length)for(var i=0;i<this.topicCheckboxes.length;i+=1){var o=this.topicCheckboxes[i];o.checked&&n.push(o.value)}var r=function(e){t.saveTopicsButton.disabled=!1,e?(t.saveTopicsButton.innerHTML="<span>".concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.successfullySaved"),"</span>"),setTimeout((function(){t.saveTopicsButton.innerHTML=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.save"),t.savingTopics=!1}),2e3)):(t.saveTopicsButton.innerHTML=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.b)("panel.save"),t.savingTopics=!1)};this.subscriptionManager.setTopics(n).then((function(){t.subscriptionManager.sync().then((function(){r(!0)})).catch((function(){r(!1)}))})).catch((function(){r(!1)}))}}}]),Panel}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(4);function o(e){return new Promise((function(t){return e.json().then((function(n){return t({status:e.status,ok:e.ok,json:n})})).catch((function(){return t({status:e.status,ok:e.ok,json:null})}))}))}function r(e,t){return new Promise((function(n,r){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("request timeout"))}),n)}))])})(e,t,t.timeout||1e4).then(o).then((function(e){return e.ok?n(e.json):r(new i.a(e.json?e.json.error:"HTTP Error",e.status))})).catch((function(e){return r(e)}))}))}},function(e,t,n){"use strict";function i(e,t){return!!(void 0!==t&&t&&t.length&&(t||[]).indexOf(e._id)>-1)||(!e.defaultUnchecked||e.matchPathChecked&&e.matchPathChecked&&location.pathname&&new RegExp(e.matchPathChecked).test(location.pathname))}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(11),o=n(0),r=n(2),s=function(e){var t=e.subscriptionManager,n=e.config,s=e.subscribe,a=e.showBackdrop,c=e.setShowBackdrop,l=e.showSilentAlert;if("safari"===n.browserType){o.b.debug("starting safariBlurChecker"),function e(n){"default"===t.getNotificationPermission()&&(document.hasFocus()?n<300?setTimeout((function(){e(n+1)}),100):o.b.debug("safariBlurChecker waited 30 secs without success"):(o.b.debug("safariBlurChecker success"),a()))}(0),s&&s()}else{var u=function(){Object(i.b)().then((function(){var e=!0;if("PREVIEW"===n.env)a();else{var t=!1,i=function n(){t||(o.b.debug("Blur checker fired"),clearTimeout(c),window.removeEventListener("blur",n),t=!0,e&&a())};window.addEventListener("blur",i);var c=setTimeout((function(){o.b.debug("Blur checker cancelled"),window.removeEventListener("blur",i),!l||"mobile"===r.d.type||["Firefox","Mozilla"].includes(r.a.name)||"Edge"===r.a.name&&!n.showSilentPromptTutorial||l()}),2e3)}s&&s((function(){e=!1}))}))};"w3c"===n.browserType&&"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then((function(e){e.quota<=120*Math.pow(2,20)?(c&&c(!1),o.b.debug("We are *probably* in incognito (used chrome 76 detection method). Will not show backdrop + layer."),s&&Object(i.b)().then((function(){s()}))):u()})):u()}}},function(e,t,n){var i,o;void 0===(o="function"==typeof(i=function(e,t,n){return function(e,t){"use strict";var n=t||{},i=n.aggressive||!1,o=d(n.sensitivity,20),r=d(n.timer,1e3),s=d(n.delay,0),a=n.callback||function(){},c=b(n.cookieExpire)||"",l=n.cookieDomain?";domain="+n.cookieDomain:"",u=n.cookieName?n.cookieName:"viewedOuibounceModal",p=!0===n.sitewide?";path=/":"",h=null,f=document.documentElement;function d(e,t){return void 0===e?t:e}function b(e){var t=24*e*60*60*1e3,n=new Date;return n.setTime(n.getTime()+t),"; expires="+n.toUTCString()}function g(e){e.clientY>o||(h=setTimeout(x,s))}function m(){h&&(clearTimeout(h),h=null)}setTimeout((function(){y()||(f.addEventListener("mouseleave",g),f.addEventListener("mouseenter",m),f.addEventListener("keydown",v))}),r);var _=!1;function v(e){_||e.metaKey&&76===e.keyCode&&(_=!0,h=setTimeout(x,s))}function w(e,t){return function(){for(var e=document.cookie.split("; "),t={},n=e.length-1;n>=0;n--){var i=e[n].split("=");t[i[0]]=i[1]}return t}()[e]===t}function y(){return w(u,"true")&&!i}function x(){y()||(e&&(e.style.display="block"),a(),M())}function M(e){var t=e||{};void 0!==t.cookieExpire&&(c=b(t.cookieExpire)),!0===t.sitewide&&(p=";path=/"),void 0!==t.cookieDomain&&(l=";domain="+t.cookieDomain),void 0!==t.cookieName&&(u=t.cookieName),document.cookie=u+"=true"+c+l+p,f.removeEventListener("mouseleave",g),f.removeEventListener("mouseenter",m),f.removeEventListener("keydown",v)}return{fire:x,disable:M,isDisabled:y}}})?i.call(t,n,t,e):i)||(e.exports=o)},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);function i(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length),o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}},function(e,t,n){var i,o;!function(r,s){"use strict";void 0===(o="function"==typeof(i=function(){var e=function(){},t="undefined",n=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(t,i){for(var o=0;o<n.length;o++){var r=n[o];this[r]=o<t?e:this.methodFactory(r,t,i)}this.log=this.debug}function r(e,n,i){return function(){typeof console!==t&&(o.call(this,n,i),this[e].apply(this,arguments))}}function s(n,o,s){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&(void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}(n)||r.apply(this,arguments)}function a(e,i,r){var a,c=this,l="loglevel";function u(){var e;if(typeof window!==t){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=n.indexOf(encodeURIComponent(l)+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}e&&(l+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=r||s,c.getLevel=function(){return a},c.setLevel=function(i,r){if("string"==typeof i&&void 0!==c.levels[i.toUpperCase()]&&(i=c.levels[i.toUpperCase()]),!("number"==typeof i&&i>=0&&i<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+i;if(a=i,!1!==r&&function(e){var i=(n[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[l]=i)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+i+";"}catch(e){}}}(i),o.call(c,i,e),typeof console===t&&i<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){u()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var p=u();null==p&&(p=null==i?"WARN":i),c.setLevel(p,!1)}var c=new a,l={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new a(e,c.getLevel(),c.methodFactory)),t};var u=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=u),c},c.getLoggers=function(){return l},c})?i.call(t,n,t,e):i)||(e.exports=o)}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Confirm}));var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),ua_parser_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15),ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_3__),_utils_debug__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_utils_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_utils_translate__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(23),_utils_topics__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(26),_utils_env__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),_utils_detect__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(27),Confirm=function(){function Confirm(e,t){var n=this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,Confirm),this.autoHideBackdrop=!0,this.cleverpush=e,this.config=e.config,this.subscriptionManager=t,this.id=document.querySelectorAll(".cleverpush-confirm").length+1,this.visible=!1,this.channelTopics=(this.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.parent.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.parent.location.pathname)),t})),this.facebookEnabled=!1,this.config.facebookPageId&&this.config.facebookPageId.length&&this.config.facebookCheckboxEnabled&&(this.facebookEnabled=!0,this.facebookUserRef=this.subscriptionManager.storageManager.getFacebookUserRef(),this.facebookUserRef||(this.facebookUserRef="".concat(this.config.channelId,"-"),this.facebookUserRef+=Math.random().toString(36).slice(2))),__webpack_require__(36),window.addEventListener("beforeunload",(function(){n.autoHideBackdrop=!0,n.hide()}))}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Confirm,[{key:"getArrowNode",value:function(e,t){var n="own"===e?t:Object.assign({},function(){var t=(new ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default.a).getBrowser().name;if(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info("getArrowNode browser",t),"grant"===e){if("Chrome"===t||"Chromium"===t)return{x:347,y:92,padding:20};if("Firefox"===t)return{x:311,y:148,padding:20}}else if("denied"===e){if("Chrome"===t||"Chromium"===t)return{x:131,y:0,padding:0};if("Firefox"===t)return{x:60,y:0,padding:0}}else if("silentPrompt"===e&&("Chrome"===t||"Chromium"===t||"Edge"===t))return{x:window.innerWidth-250,y:0,padding:0};return null}(),t||{});if(!n)return null;var i=n.textNode||document.querySelector(".cleverpush-backdrop-text h2");if(i&&i.getBoundingClientRect){var o=i.getBoundingClientRect(),r=n.position||{x:window.innerWidth/2,y:(window.innerHeight-o.height)/2},s=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2)),a=Math.max(.1*s,15),c=n.x,l=n.y+a+n.padding,u=r.x-15,p=Math.max(r.y+20+o.height,l+40),h=u-c,f=p-l,d="M ".concat(u," ").concat(p," q ").concat(-1*h," ").concat(f,", ").concat(-1*h," ").concat(-1*f),b="M ".concat(c-a," ").concat(l+a," q ").concat(a," ").concat(-3*a,", ").concat(2*a," 0");_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info("getArrowNode",{type:e,i:n,o:r,r:s,S:a,s:c,C:l,posX:u,posY:p,l:h,h:f,_:d,c:b});var g='<div class="cleverpush-backdrop-arrow"><svg width="'.concat(window.innerWidth,'px" height="').concat(window.innerHeight,'px" viewBox="0 0 ').concat(window.innerWidth," ").concat(window.innerHeight,'" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke-width="5" stroke-linecap="round" fill="none" fill-rule="evenodd"><path d="').concat(d,'" id="tail" stroke="#FFFFFF"></path><path d="').concat(b,'" id="head" stroke="#FFFFFF"></path></g></svg></div></div>');return Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.a)(g)}}},{key:"removeConfirmBox",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("removeConfirmBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-confirm");if(e.length){var t=e[e.length-1];(!this.withTopics||t.className.indexOf("cleverpush-topic-box")<0)&&t.className.indexOf("cleverpush-attributes-box")<0&&t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"removeBrandingBox",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("removeBrandingBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-branding-box");if(e.length){var t=e[e.length-1];t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"hide",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("hide"),this.autoHideBackdrop&&this.hideBackdrop(),this.removeConfirmBox(),this.removeBrandingBox()}},{key:"onCloseClick",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("closeConfirmBox"),e.preventDefault(),this.hide(),this.hideBackdrop();try{this.subscriptionManager.storageManager.setClosed(),this.subscriptionManager.iframeMessenger&&this.subscriptionManager.iframeMessenger.setClosed&&this.subscriptionManager.iframeMessenger.setClosed()}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.error(e)}}},{key:"onAllowClick",value:function(e){var t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("onAllowClick"),e.preventDefault();var n=this.getSelectedTopics(),i=this.hasTopicCheckboxes(!0);if(this.config.confirmAlertRequireChannelTopics&&!n.length&&i&&this.withTopics)alert(this.config.confirmAlertRequireChannelTopicsTitle||"Bitte wähle mindestens eine Kategorie aus.");else if("function"!=typeof this.allowCallback||(this.allowCallback(!0,n),this.allowCallback=void 0,this.withTopics)){if(!this.withTopics&&this.config.showConfirmAlert&&this.config.confirmAlertDouble){if("Android"===_utils_env__WEBPACK_IMPORTED_MODULE_9__.m.name||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_9__.d.type||"PREVIEW"===this.config.env&&this.config.mobilePreview)return this.hide(),this.hideBackdrop(),this.appendDoubleBox(),void this.subscriptionManager.api.confirmAlertShown(this.subscriptionManager.existingPermission,"confirm");var o=document.querySelector(".cleverpush-backdrop");if(o){var r=this.getArrowNode("grant",{textNode:{},position:{x:window.innerWidth/2,y:window.innerHeight/2}});r&&o.appendChild(r)}}if(this.confirmBox||(this.confirmBox=document.querySelector(".cleverpush-confirm-".concat(this.id))),this.confirmBox)for(var s=this.confirmBox.querySelectorAll('input[name="topics[]"]'),a=0;a<s.length;a+=1)if(s[a].checked&&s[a].dataset&&"true"===s[a].dataset.childTopicsRequired){var c=this.confirmBox.querySelectorAll('.topic-child[data-parent-topic="'+s[a].value+'"] input');if(c.length){for(var l=0,u=0;u<c.length;u+=1)c[u].checked&&(l+=1);if(0===l)return void alert("Bitte wähle mindestens eine Kategorie in "+(s[a].parentNode.innerText||"").trim()+" aus.")}}if(this.subscriptionManager.setTopics(n),this.withTopics&&this.config.confirmAlertSelectTopicsLater&&i)return this.subscriptionManager.sync(),this.withTopics=!1,this.hide(),this.subscribeCallback&&this.subscribeCallback(!1),void(this.subscriptionManager.registerForPushLater&&this.subscriptionManager.registerForPush());if(this.config.showUnblockTutorial){this.hide(),this.showBackdrop(void 0,"denied",Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("popup.info").formatCleverPush("<strong>"+(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allow"))+"</strong>"));try{sessionStorage.setItem("cleverpush-subscription-status","denied")}catch(e){}}else{this.config.showSilentPromptTutorial&&(this.hide(),this.config.confirmAlertHideArrow=!1,this.showBackdrop(void 0,"silentPrompt",Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.silentPromptInfo")));var p=!1;if(this.config.ownDomain&&("https:"===window.parent.location.protocol||"localhost"===window.parent.location.hostname)&&this.config.showConfirmAlert?(this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-confirm-backdrop-text"!==this.config.confirmAlertNativeTheme?(this.removeConfirmBox(),p=!0):this.hide(),this.subscriptionManager.api.confirmAlertShown(this.subscriptionManager.existingPermission,"confirm")):this.hide(),localStorage.setItem("cleverpush-subscription-status","allowed"),"PREVIEW"===this.config.env){var h=document.getElementById("cleverpush-preview-native");if(h)return void(h.style.display="block")}var f=!1;Object(_utils_detect__WEBPACK_IMPORTED_MODULE_10__.a)({subscriptionManager:this.subscriptionManager,config:this.config,subscribe:function(){t.subscriptionManager.subscribeForce(!1).then((function(e){f=!0,t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(!1,e)})).catch((function(e){f=!0,t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(e)}))},showBackdrop:function(){p&&t.appendConfirmBox("".concat(t.config.confirmAlertNativeTheme," ").concat(t.config.confirmAlertNativeTheme,"-native"))},setShowBackdrop:function(e){return showBackdrop=e},showSilentAlert:function(){f||(t.hide(),t.config.confirmAlertHideArrow=!1,t.showBackdrop(void 0,"silentPrompt",Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.silentPromptInfo")))}}),this.confirmFacebook()}}else this.hide()}},{key:"appendDoubleBox",value:function(){this.getLocalization({});var e=Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.a)('\n      <div class="cleverpush-confirm-double cleverpush-confirm-double-'.concat(this.id,'">\n        <div class="cleverpush-confirm-double-above">\n          ').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.doubleText").formatCleverPush("<strong>"+(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allow"))+"</strong>"),'\n        </div>\n        <div class="cleverpush-confirm-double-content">\n          <div class="cleverpush-confirm-double-text">\n            <div class="cleverpush-confirm-double-bell">\n              <svg height="512pt" viewBox="-21 0 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg">\n              <path d="m434.753906 360.8125c-32.257812-27.265625-50.753906-67.117188-50.753906-109.335938v-59.476562c0-75.070312-55.765625-137.214844-128-147.625v-23.042969c0-11.796875-9.558594-21.332031-21.332031-21.332031-11.777344 0-21.335938 9.535156-21.335938 21.332031v23.042969c-72.253906 10.410156-128 72.554688-128 147.625v59.476562c0 42.21875-18.496093 82.070313-50.941406 109.503907-8.300781 7.105469-13.058594 17.429687-13.058594 28.351562 0 20.589844 16.746094 37.335938 37.335938 37.335938h352c20.585937 0 37.332031-16.746094 37.332031-37.335938 0-10.921875-4.757812-21.246093-13.246094-28.519531zm0 0"/><path d="m234.667969 512c38.632812 0 70.953125-27.542969 78.378906-64h-156.757813c7.421876 36.457031 39.742188 64 78.378907 64zm0 0"/></svg>\n            </div>\n            <div class="cleverpush-confirm-double-title">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.nativeTitle").formatCleverPush(location.hostname||this.config.domain),'</div>\n          </div>\n          <div class="cleverpush-confirm-double-buttons">\n            <button type="button" class="cleverpush-confirm-double-btn">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allow"),'</button>\n          </div>\n        </div>\n        <div class="cleverpush-confirm-double-below">\n          <div class="cleverpush-confirm-double-arrow"></div>\n        </div>\n      </div>\n      ')),t=e.querySelector(".cleverpush-confirm-double-content").getBoundingClientRect(),n=e.querySelector(".cleverpush-confirm-double-arrow");if(n){var i=this.getArrowNode("own",{x:window.innerWidth-55,y:window.innerHeight/2+t.height/2+65,padding:0,textNode:e.querySelector(".cleverpush-confirm-double-below")});console.log(i),i&&n.appendChild(i)}var o=e.querySelector(".cleverpush-confirm-double-btn");o&&o.addEventListener("click",this.onDoubleAllowClick.bind(this)),document.body.appendChild(e),this.doubleBox=document.body.querySelector(".cleverpush-confirm-double")}},{key:"onDoubleAllowClick",value:function(e){var t=this;e.preventDefault(),Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("onDoubleAllowClick"),this.doubleBox&&this.doubleBox.parentNode.removeChild(this.doubleBox),this.subscriptionManager.subscribeForce(!1).then((function(e){t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(!1,e)})).catch((function(e){t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(e)}))}},{key:"confirmFacebook",value:function(){this.facebookEnabled&&!this.facebookConfirmed&&"undefined"!=typeof FB&&(this.facebookConfirmed=!0,FB.AppEvents.logEvent("MessengerCheckboxUserConfirmation",null,{app_id:this.config.facebookAppId,page_id:this.config.facebookPageId,ref:this.config.channelId,user_ref:this.facebookUserRef}),this.facebookCheckboxChecked&&"function"==typeof this.subscriptionManager.setFacebookUserRef&&this.subscriptionManager.setFacebookUserRef(this.facebookUserRef))}},{key:"onDenyClick",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("denyPush"),e.preventDefault();try{this.subscriptionManager.storageManager.setDenied(),this.subscriptionManager.iframeMessenger&&this.subscriptionManager.iframeMessenger.setDenied&&this.subscriptionManager.iframeMessenger.setDenied()}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.error(e)}this.autoHideBackdrop=!0,this.hide(),!this.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.parent.location.hostname||this.showDenyAlert(),"function"==typeof this.allowCallback&&(this.allowCallback(!1,[]),this.allowCallback=void 0)}},{key:"hasTopicCheckboxes",value:function(e){if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("hasTopicCheckboxes"),this.config.confirmAlertSelectTopicsLater&&!this.withTopics&&void 0===e)return!0;var t=document.querySelector(".cleverpush-confirm");return!!t&&t.querySelectorAll('input[name="topics[]"]').length>0}},{key:"getSelectedTopics",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("getSelectedTopics");var e=(this.channelTopics||[]).filter(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a).map((function(e){return e._id})),t=document.querySelector(".cleverpush-confirm");if(t){var n=t.querySelectorAll('input[name="topics[]"]');if(n&&n.length){e=[];for(var i=0;i<n.length;i+=1)"checkbox"!==n[i].type&&"radio"!==n[i].type||!n[i].checked||e.push(n[i].value)}}return e}},{key:"showDenyAlert",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showDenyAlert")}},{key:"onClickToCloseDenyAlert",value:function(e){this.denyAlert&&e.target!==this.denyAlert&&e.target.parentNode!==this.denyAlert&&(document.removeEventListener("click",this.onClickToCloseDenyAlertListener),document.removeEventListener("touchstart",this.onClickToCloseDenyAlertListener),this.onDenyAlertClick())}},{key:"onDenyAlertClick",value:function(e){void 0!==e&&e.preventDefault(),Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("onDenyAlertClick");var t=document.getElementsByClassName("cleverpush-deny-alert")[0];t.parentNode.removeChild(t),this.denyAlert=null}},{key:"showBrandingBox",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showBrandingBox"),document.body.appendChild(Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.a)('<div class="cleverpush-branding-box cleverpush-branding-box-'.concat(this.id,'"><div class="cleverpush-branding-box-text">').concat(this.getBrandingLinks(),'</div><button class="cleverpush-branding-box-close">&times;</button></div>'))),this.brandingBox=document.querySelector(".cleverpush-branding-box-".concat(this.id)),this.brandingBoxCloseButton=this.brandingBox.querySelector(".cleverpush-branding-box-close"),this.brandingBoxCloseButton&&this.brandingBoxCloseButton.addEventListener("click",this.removeBrandingBox.bind(this))}},{key:"getBrandingLinks",value:function(){var e=[],t=this.config.confirmAlertThemeLinkColor;return this.config.confirmAlertLinkStyle&&this.config.confirmAlertLinkStyle.color&&(t=this.config.confirmAlertLinkStyle.color),this.config.hideBranding||("convertpush.io"===this.config.cleverpushDomain?e.push('<a href="https://convertpush.io/" target="_blank" style="'.concat(t?"color: "+t+" !important":"",'">Powered by ConvertPush</a>')):e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(t?"color: "+t+" !important":"",'">Powered by CleverPush</a>'))),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(t?"color: "+t+" !important":"",'">').concat(this.config.privacyPolicyText||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(t?"color: "+t+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"showBackdrop",value:function(e,t,n){var i=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showBackdrop");var o="grant";if(void 0!==t&&("denied"!==t&&"silentPrompt"!==t||(o=t)),"denied"===o||"silentPrompt"===o||this.config.hideNativeConfirmAlert||this.config.showConfirmAlert||!this.config.confirmAlertNativeTheme||"cleverpush-confirm-default"===this.config.confirmAlertNativeTheme||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme||!this.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.parent.location.hostname||(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug("appending native backdrop",this.config.showConfirmAlert),this.appendConfirmBox("".concat(this.config.confirmAlertNativeTheme," ").concat(this.config.confirmAlertNativeTheme,"-native"))),this.config.confirmAlertBackdrop||this.config.showConfirmAlert||this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme||this.config.hideBranding||this.showBrandingBox(),"denied"===o||"silentPrompt"===o||void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop){var r=this.config.alertLocalization||{},s=(navigator.language||navigator.userLanguage||"").substr(0,2);this.config.alertLocalizationTranslations&&s&&this.config.alertLocalizationTranslations[s]&&(r=Object.assign({},r,this.config.alertLocalizationTranslations[s])),Object.keys(r).forEach((function(e){r[e]&&(r[e]=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)(r[e]))}));var a="";if(this.config.ownDomain&&("https:"===window.parent.location.protocol||"localhost"===window.parent.location.hostname)){if("denied"===o||"silentPrompt"===o||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme)if("grant"===o)a+='<div class="cleverpush-backdrop-text" style="'.concat(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor:"",'">\n').concat(this.config.channelIcon&&!this.config.confirmAlertHideChannelIcon?'<p class="cleverpush-backdrop-icon"><img src="'.concat(this.config.channelIcon,'" alt="').concat(this.config.channelName,'"></p>'):"","\n<h2>").concat(r.title||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("popup.info").formatCleverPush("<strong>".concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allow"),"</strong>")),"</h2>\n<p>").concat(r.info||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("popup.text").formatCleverPush("<strong>".concat(this.config.channelName,"</strong>")),"</p>\n</div>");else if("silentPrompt"===o)a+='<div class="cleverpush-backdrop-text"><h2>'.concat(n,"</h2></div>");else{var c=new ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default.a,l=c.getBrowser().name,u=c.getOS().name;l=l.toLowerCase().replace(/\s/g,"").replace("chromium","chrome"),u=u.toLowerCase().replace(/\s/g,"").replace("macos","mac");var p="";"chrome"!==l&&"firefox"!==l&&"safari"!==l||"android"!==u&&"windows"!==u&&"mac"!==u||(p="chrome"===l&&"android"===u?'<div><video src="https://static.cleverpush.com/app/images/unblock-tutorial/'.concat(l,"-").concat(u,'.mp4" width="100%" autoplay loop muted playsinline /></div>'):'<div><img src="https://static.cleverpush.com/app/images/unblock-tutorial/'.concat(l,"-").concat(u,'.gif" /></div>')),a+='<div class="cleverpush-backdrop-text"><h2>'.concat(p?Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("unblock.title"):n,"</h2>").concat(p,"</div>")}this.config.hideNativeConfirmAlert||this.config.showConfirmAlert&&(!this.config.confirmAlertNativeTheme||this.config.confirmAlertNativeTheme)}var h=document.getElementsByClassName("cleverpush-backdrop");if(h&&h.length)for(var f=0;f<h.length;f+=1){var d=h[f];d&&d.parentNode&&d.parentNode.removeChild(d)}var b=document.createElement("div");if(b.className="cleverpush-backdrop",b.style.display="none",b.innerHTML=a,this.config.confirmAlertBackdropOpacity&&"denied"!==o&&"silentPrompt"!==o&&(b.style.backgroundColor="rgba(0, 0, 0, ".concat(this.config.confirmAlertBackdropOpacity,")")),this.config.confirmAlertBackdropBlur&&(b.className+=" cleverpush-backdrop-blur"),b.addEventListener("click",(function(e){e.preventDefault(),i.hideBackdrop(o)})),document.body&&(document.body.appendChild(b),document.body.classList?(document.body.classList.add("has-cleverpush-backdrop"),this.config.confirmAlertBackdropBlur&&document.body.classList.add("has-cleverpush-backdrop-blur")):(document.body.className+=" has-cleverpush-backdrop",this.config.confirmAlertBackdropBlur&&(document.body.className+=" has-cleverpush-backdrop-blur"))),a&&a.length&&!this.config.confirmAlertHideArrow){var g=this.getArrowNode(o);g&&b.appendChild(g)}Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.d)(b,200,void 0!==e?e:function(){})}else"function"==typeof e&&e()}},{key:"hideBackdrop",value:function(e){if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("hideBackdrop"),this.removeBrandingBox(),document.body&&(document.body.classList?(this.config.confirmAlertBackdropBlur&&document.body.classList.remove("has-cleverpush-backdrop-blur"),document.body.classList.remove("has-cleverpush-backdrop")):(this.config.confirmAlertBackdropBlur&&(document.body.className=document.body.className.replace("has-cleverpush-backdrop-blur","")),document.body.className=document.body.className.replace("has-cleverpush-backdrop",""))),!this.config.hideNativeConfirmAlert&&this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-backdrop-text"!==this.config.confirmAlertNativeTheme&&this.removeConfirmBox(),void 0!==e&&"denied"===e||void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop||this.config.showSilentPromptTutorial){for(var t=document.getElementsByClassName("cleverpush-backdrop"),n=0;n<t.length;n+=1){!function(e){Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.e)(e,200,(function(){e&&e.parentNode&&e.parentNode.removeChild(e)}))}(t[n])}void 0!==e&&"granted"===e&&this.confirmFacebook()}}},{key:"camelCaseToDash",value:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{key:"getLocalization",value:function(e){var t=this.config.alertLocalization||{},n=(navigator.language||navigator.userLanguage||"").substr(0,2);this.config.alertLocalizationTranslations&&n&&this.config.alertLocalizationTranslations[n]&&(t=Object.assign({},t,this.config.alertLocalizationTranslations[n])),t=Object.assign({},t,e.customLocalization),e.topicsRequired&&(this.config.confirmAlertRequireChannelTopics=!0);var i={title:t.title||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.title").formatCleverPush(this.config.channelName),info:t.info||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.info"),deny:t.deny||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.deny"),allow:t.allow||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allow"),confirmInfo:t.confirmInfo||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("popup.info").formatCleverPush(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.allowBrowser"))};return Object.keys(i).forEach((function(e){i[e]&&(i[e]=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)(i[e]))})),i}},{key:"appendConfirmBox",value:function appendConfirmBox(confirmAlertThemeParam,withTopicsParam,configParam,allowCallback){var _this5=this;if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("appendConfirmBox",confirmAlertThemeParam,withTopicsParam,configParam),!this.confirmBox){this.withTopics="boolean"==typeof withTopicsParam&&withTopicsParam,"function"==typeof allowCallback&&(this.allowCallback=allowCallback);var confirmConfig="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(configParam)?configParam:{},localization=this.getLocalization(confirmConfig),confirmClass="cleverpush-confirm-default",confirmStyle="",confirmAlertTheme=void 0!==confirmAlertThemeParam?confirmAlertThemeParam:this.config.confirmAlertTheme;confirmAlertTheme&&(confirmClass=confirmAlertTheme);var parser=new ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default.a;this.config.confirmAlertThemeVariant&&"cleverpush-confirm-auto"!==this.config.confirmAlertThemeVariant?confirmClass+=" ".concat(this.config.confirmAlertThemeVariant):"Mac OS"===parser.getOS().name?confirmClass+=" cleverpush-confirm-mac":"Windows"===parser.getOS().name&&(confirmClass+=" cleverpush-confirm-chrome"),"Firefox"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-firefox"),"Opera"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-opera"),"Safari"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-safari"),"Chrome"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-chrome"),"Edge"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-edge"),this.config.confirmAlertStyle&&this.config.confirmAlertStyle.color&&(this.config.confirmAlertThemeTextColor=this.config.confirmAlertStyle.color),this.config.confirmAlertThemeBackgroundColor?(confirmStyle+="background-color: "+this.config.confirmAlertThemeBackgroundColor+";",this.config.confirmAlertThemeTextColor&&(confirmStyle+="color: "+this.config.confirmAlertThemeTextColor+";")):this.config.confirmAlertThemeBackground&&(confirmClass+=" ".concat(this.config.confirmAlertThemeBackground)),this.config.confirmAlertHideChannelIcon&&(confirmClass+=" cleverpush-confirm-hide-channel-icon"),this.config.confirmAlertHideArrow&&(confirmClass+=" cleverpush-confirm-hide-arrow"),"PREVIEW"===this.config.env&&(confirmClass+=" cleverpush-confirm-preview"),confirmClass+=" cleverpush-confirm-".concat(this.id);var topicSelection="",parentContainer;if(!confirmConfig.topicsLayer||this.withTopics)if(this.config.topicsTemplateFunction)topicSelection='<div class="cleverpush-topics cleverpush-confirm-topics"></div>';else if(this.channelTopics&&this.channelTopics.length&&!this.config.confirmAlertHideChannelTopics){var _topics=this.channelTopics.filter((function(e){return!e.parentTopic}));confirmConfig&&confirmConfig.parentTopic&&(_topics=this.channelTopics.filter((function(e){return e.parentTopic===confirmConfig.parentTopic}))),topicSelection+='<div class="cleverpush-topics cleverpush-confirm-topics">',_topics.sort((function(e,t){return e.sort-t.sort})).forEach((function(e){var t=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)(e.name),n=_this5.channelTopics.filter((function(t){return t.parentTopic===e._id}));topicSelection+='<div class="'.concat(n.length?"topic-has-children":"",'"><label style="').concat(_this5.config.confirmAlertThemeTextColor?"color: "+_this5.config.confirmAlertThemeTextColor+";":"",'"><input type="').concat(_this5.config.confirmAlertRadioButtonTopics||confirmConfig.topicsRadioButtons?"radio":"checkbox",'" name="topics[]" value="').concat(e._id,'" ').concat(Object(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a)(e,_this5.subscribedTopics)?"checked":""," ").concat(e.childTopicsRequired?' data-child-topics-required="true"':"","> ").concat(t,"</label></div>"),n.length&&n.forEach((function(t){var n=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)(t.name),i=_this5.config.confirmAlertRadioButtonTopics||e.childTopicsRadioButtons?"radio":"checkbox";topicSelection+='<div class="topic-child" data-parent-topic="'.concat(e._id,'" style="margin-left: 20px; font-size: 90%; ').concat(Object(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a)(e,_this5.subscribedTopics)?"":"display: none;",'"><label><input type="').concat(i,'" name="topics[]" value="').concat(t._id,'" ').concat(Object(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a)(t,_this5.subscribedTopics)?"checked":"","> ").concat(n,"</label></div>")}))})),topicSelection+="</div>"}this.config.appendConfirmBoxTo&&(parentContainer=document.querySelector(this.config.appendConfirmBoxTo)),parentContainer?confirmClass+="cleverpush-confirm-static":(this.config.appendConfirmBoxTo&&_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.error("appendConfirmBoxTo: container not found. Falling back to default."),parentContainer=document.body);var showLinks=!0;if(!this.withTopics&&("https:"===window.parent.location.protocol||"localhost"===window.parent.location.hostname)){var isNativeBox=confirmAlertThemeParam&&"cleverpush-confirm-default cleverpush-confirm-default-native"!==confirmAlertThemeParam&&"cleverpush-confirm-backdrop-text cleverpush-confirm-backdrop-text-native"!==confirmAlertThemeParam;if(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug("isNativeBox",isNativeBox),this.config.confirmAlertSelectTopicsLater)topicSelection="";else if(this.config.showConfirmAlert&&this.config.isSafari_12_1)isNativeBox&&(topicSelection="");else if(this.config.showConfirmAlert){var canHideTopics=this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme;isNativeBox?canHideTopics&&this.config.showConfirmAlertMobile&&(topicSelection=""):canHideTopics&&!this.config.showConfirmAlertMobile&&(topicSelection="")}else isNativeBox&&this.config.confirmAlertSelectTopicsLater&&this.config.ownDomain&&(topicSelection="")}this.facebookEnabled&&!this.config.facebookButtonOptIn&&(this.config.facebookDoubleOptIn&&!this.facebookDoubleOptInConfirmed&&(topicSelection+='\n        <div style="margin-top: 15px; margin-bottom: 0; font-weight: bold;" class="cleverpush-confirm-messenger-title cleverpush-topics cleverpush-confirm-topics">Facebook Messenger</div>\n        <div class="cleverpush-topics cleverpush-confirm-topics"><div style="margin-top: 5px;"><label style="line-height: 1.5;"><input type="checkbox" id="cleverpush-facebook-checkbox"> Ich möchte den Facebook-Newsletter und akzeptiere die <a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank">Datenschutzerklärung</a></label></div></div>')),topicSelection+='<div class="fb-messenger-checkbox-wrap"><div class="fb-messenger-checkbox" origin="'.concat(location.origin,'" page_id="').concat(this.config.facebookPageId,'" messenger_app_id="').concat(this.config.facebookAppId,'" user_ref="').concat(this.facebookUserRef,'" prechecked="true" allow_login="true" size="large" style="margin-top: 10px; margin-left: -14px;"></div></div>')),this.withTopics&&!confirmConfig.customLocalization&&(confirmClass+=" cleverpush-topic-box",localization.title=this.config.confirmAlertSelectTopicsLaterTitle||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("confirm.selectTopics")||localization.title,this.config.confirmAlertSelectTopicsLaterTitle&&(localization.title=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)(localization.title)),localization.info="",localization.allow=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.b)("panel.save"));var confirm=Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.a)('<div class="cleverpush-confirm '.concat(confirmClass,'" style="').concat(confirmStyle,'">\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-top" style="display: none; border-bottom-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-bottom" style="display: none; border-top-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        ').concat(this.config.confirmAlertCloseButton?'<button type="button" class="cleverpush-confirm-hide">&times;</button>':"",'\n        <div class="cleverpush-confirm-wrap">\n            ').concat("cleverpush-confirm-topbar cleverpush-confirm-topbar-native"===confirmAlertThemeParam?'<div class="cleverpush-confirm-topbar-arrow"></div>':"",'\n            <div class="').concat("cleverpush-confirm-icon"+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":""),'"><img src="').concat(this.config.channelIcon,'"></div>\n          <div class="cleverpush-confirm-text" style="').concat(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor+";":"",'"><span class="cleverpush-confirm-title" style="').concat(this.config.confirmAlertThemeTitleColor?"color: "+this.config.confirmAlertThemeTitleColor+";":"",'">').concat(localization.title,'</span>\n            <p class="cleverpush-confirm-info">').concat(localization.info,"</p>\n            ").concat(showLinks?'<div class="cleverpush-confirm-branding"><span>'.concat(this.getBrandingLinks(),"</span></div>"):"","\n            ").concat(topicSelection,'\n            </div>\n          <div class="cleverpush-clearfix cleverpush-clearfix-bottom">\n            <div class="cleverpush-confirm-buttons">\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-deny">').concat(localization.deny,'</button>\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-allow" style="').concat(this.config.confirmAlertThemeButtonTextColor?"color: "+this.config.confirmAlertThemeButtonTextColor+";":""," ").concat(this.config.confirmAlertThemeButtonBackgroundColor?"border-color: transparent !important; background: none; background-color: "+this.config.confirmAlertThemeButtonBackgroundColor+";":"",'">').concat(localization.allow,'</button></div>\n            <div class="cleverpush-clearfix"></div>\n          </div>\n          ').concat(localization.confirmInfo?'<div class="cleverpush-confirm-bottom-info" style="display: none;">\n            <div class="'.concat("cleverpush-confirm-icon"+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":""),'"><img src="').concat(this.config.channelIcon,'"></div>\n            <div class="cleverpush-confirm-bottom-info-text">').concat(localization.confirmInfo,'</div>\n            <div class="cleverpush-clearfix"></div>\n          </div>'):"","\n        </div>\n      </div>"));if(parentContainer.appendChild(confirm),this.confirmBox=document.querySelector(".cleverpush-confirm-".concat(this.id)),this.confirmBox&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertStyle))for(var property in this.config.confirmAlertStyle)this.config.confirmAlertStyle.hasOwnProperty(property)&&(this.confirmBox.style[property]=this.config.confirmAlertStyle[property]);if(this.confirmBoxTitle=document.querySelector(".cleverpush-confirm-".concat(this.id," .cleverpush-confirm-title")),this.confirmBoxTitle&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertTitleStyle))for(var _property in this.config.confirmAlertTitleStyle)this.config.confirmAlertTitleStyle.hasOwnProperty(_property)&&(this.confirmBoxTitle.style[_property]=this.config.confirmAlertTitleStyle[_property]);try{!(this.config.confirmAlertButtonStyle||{}).backgroundColor||(this.config.confirmAlertAllowButtonStyle||{}).backgroundColor&&(this.config.confirmAlertAllowButtonStyle||{}).backgroundColor!==(this.config.confirmAlertButtonStyle||{}).backgroundColor||((this.config.confirmAlertAllowButtonStyle||{}).backgroundColor=(this.config.confirmAlertButtonStyle||{}).backgroundColor,delete(this.config.confirmAlertButtonStyle||{}).backgroundColor),!(this.config.confirmAlertButtonStyle||{}).color||(this.config.confirmAlertAllowButtonStyle||{}).color&&(this.config.confirmAlertAllowButtonStyle||{}).color!==(this.config.confirmAlertButtonStyle||{}).color||((this.config.confirmAlertAllowButtonStyle||{}).color=(this.config.confirmAlertButtonStyle||{}).color,delete(this.config.confirmAlertButtonStyle||{}).color)}catch(e){}if((this.cleverpush.config.customCss||"").replace(/\r?\n|\r/g,"").replace(/\s/g,"").indexOf(".cleverpush-confirm-btn { width: 100% !important; }".replace(/\r?\n|\r/g,"").replace(/\s/g,""))>-1&&(this.config.confirmAlertAllowButtonStyle||(this.config.confirmAlertAllowButtonStyle={}),this.config.confirmAlertAllowButtonStyle.marginLeft="0px"),this.allowButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-allow"),this.allowButton){if(this.allowButton.addEventListener("click",this.onAllowClick.bind(this),!0),"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertButtonStyle))for(var _property2 in this.config.confirmAlertButtonStyle.backgroundColor&&!this.config.confirmAlertButtonStyle.borderColor&&(this.config.confirmAlertButtonStyle.borderColor="transparent"),this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(_property2)&&this.allowButton.style.setProperty(this.camelCaseToDash(_property2),this.config.confirmAlertButtonStyle[_property2],"important");if("object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertAllowButtonStyle))for(var _property3 in this.config.confirmAlertAllowButtonStyle)this.config.confirmAlertAllowButtonStyle.backgroundColor&&!this.config.confirmAlertAllowButtonStyle.borderColor&&(this.config.confirmAlertAllowButtonStyle.borderColor="transparent"),this.config.confirmAlertAllowButtonStyle.hasOwnProperty(_property3)&&this.allowButton.style.setProperty(this.camelCaseToDash(_property3),this.config.confirmAlertAllowButtonStyle[_property3],"important")}if(this.denyButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-deny"),this.denyButton&&(this.denyButton.addEventListener("click",this.onDenyClick.bind(this)),"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertButtonStyle)))for(var _property4 in this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(_property4)&&this.denyButton.style.setProperty(this.camelCaseToDash(_property4),this.config.confirmAlertButtonStyle[_property4],"important");this.closeButton=this.confirmBox.querySelector(".cleverpush-confirm-hide"),this.closeButton&&(this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.confirmBox&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertStyle)&&this.config.confirmAlertStyle.color&&(this.closeButton.style.color=this.config.confirmAlertStyle.color));for(var topics=this.confirmBox.querySelectorAll('input[name="topics[]"]'),topicIndex=0;topicIndex<topics.length;topicIndex+=1)topics[topicIndex].addEventListener("change",(function(e){_this5.confirmBox||(_this5.confirmBox=document.querySelector(".cleverpush-confirm-".concat(_this5.id)));for(var t=_this5.confirmBox.querySelectorAll('.topic-child[data-parent-topic="'+e.target.value+'"]'),n=0;n<t.length;n+=1)t[n].style.display=e.target.checked?"block":"none"}));if(this.config.topicsTemplateFunction&&topicSelection){var topicsDiv=parentContainer.querySelector(".cleverpush-confirm .cleverpush-confirm-topics");if(topicsDiv)try{var templateFunc=eval("("+this.config.topicsTemplateFunction+")");"function"==typeof templateFunc?(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug("calling templateFunc"),templateFunc(topicsDiv,this.config,[],"confirm")):_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn("typeof templateFunc is not function")}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn(e)}else _utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn(".cleverpush-topics div not found")}if(this.facebookEnabled&&!this.config.facebookButtonOptIn){var loadFbSdk=function(){_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_7__.a.initFacebook((function(){"undefined"!=typeof FB&&(FB.Event.subscribe("messenger_checkbox",(function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info('FB - Event "messenger_checkbox"',e),"rendered"===e.event?_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info('FB - Event "messenger_checkbox" - successfully rendered'):"checkbox"===e.event?(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info("FB - Checkbox state:",e.state),_this5.facebookCheckboxChecked="checked"===e.state):"not_you"===e.event?_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info("FB - User clicked 'not you'"):"hidden"===e.event&&_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn("FB - Plugin was hidden. This usually means a problem in FB or integration or your browser settings. Did you whitelist your domain? When using a FB dev app is your FB account registered developer/tester/admin? Have generated a unique `user_ref` for this render? Do you have disabled third-party tracking in your browser settings?")})),FB.XFBML.parse())}))};this.config.facebookDoubleOptIn?(this.facebookDoubleOptInConfirmed=!0,this.facebookConfirmCheckbox=this.confirmBox.querySelector("#cleverpush-facebook-checkbox"),this.facebookConfirmCheckbox&&this.facebookConfirmCheckbox.addEventListener("click",(function(){loadFbSdk()}))):loadFbSdk()}}}},{key:"show",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showConfirmBox"),"function"==typeof e&&(this.subscribeCallback=e),this.visible||(this.visible=!0,this.appendConfirmBox(),this.showBackdrop())}},{key:"setAutoHideBackdrop",value:function(e){this.autoHideBackdrop=e}}]),Confirm}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=(n(1),n(0),function(){function e(t,i,r,s){o()(this,e),this.notification=t,this.config=i,this.subscriptionManager=r,this.api=s,this.element=null,n(84)}return s()(e,[{key:"show",value:function(){this.element=document.createElement("div"),this.element.className="cleverpush-page-banner-notification",this.notification.pageBannerPosition&&(this.element.className+=" "+this.element.className+"-"+this.notification.pageBannerPosition),this.notification.pageBannerTimeout&&(this.element.style.animationDelay=this.notification.pageBannerTimeout+"s"),this.element.innerHTML='\n      <div class="pull-right text-muted notification-preview-windows-icons close-btn"><span>&times;</span></div>\n      <div class="notification-icon" style="background-image: url(\''.concat(this.notification.iconUrl||this.config.channelIcon,'\');"></div>\n      <div class="notification-content">\n      <p class="notification-title">').concat(this.notification.title,"</p>\n      ").concat(this.notification.text?'<p class="notification-text">'.concat(this.notification.text,"</p>"):"","\n      ").concat(this.notification.mediaUrl?'<p class="notification-media"><img src="'.concat(this.notification.mediaUrl,'"></p>'):"",'\n      <p class="notification-origin text-muted">').concat(location.hostname,'</p>\n      </div>\n      <div class="cleverpush-clearfix"></div>\n    '),this.element.addEventListener("click",this.onClick.bind(this)),this.element.addEventListener("touchstart",this.onClick.bind(this)),document.body&&(document.body.appendChild(this.element),this.closeButton=this.element.querySelector(".close-btn"),this.closeButton&&(this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.closeButton.addEventListener("touchstart",this.onCloseClick.bind(this)))),this.notification._id&&this.api.request("POST","/notification/page-banner-delivered",{notificationId:this.notification._id})}},{key:"onClick",value:function(e){if(e.preventDefault(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.notification._id&&this.api.request("POST","/notification/page-banner-clicked",{notificationId:this.notification._id}),this.element.style.display="none",this.notification.url)try{window.open(this.notification.url,"_blank")||(location.href=this.notification.url)}catch(e){location.href=this.notification.url}}},{key:"onCloseClick",value:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none"}}]),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(6),o=n.n(i),r=n(5),s=n.n(r),a=n(8),c=n.n(a),l=(n(1),n(0),function(){function e(t,i,o,r){s()(this,e),this.webBanner=t,this.config=i,this.subscriptionManager=o,this.api=r,this.element=null,n(86)}return c()(e,[{key:"show",value:function(){var e=this;this.element=document.createElement("div"),this.element.className="cleverpush-banner",this.element.innerHTML='\n      <div class="banner-content">\n        <button type="button" class="banner-close">&times;</button>\n        <iframe frameborder="0" scrolling="no" allowtransparency></iframe>\n      </div>\n    ';var t=document.body;if(this.webBanner.appendToSelector&&(t=document.querySelector(this.webBanner.appendToSelector)),this.webBanner.customCss){var n=document.createElement("style");n.innerHTML=this.webBanner.customCss,document.head.appendChild(n)}if(t){if(t.appendChild(this.element),this.closeButton=this.element.querySelector(".overlay-close"),this.closeButton&&this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.content=this.element.querySelector(".banner-content"),this.content&&(this.iframe=this.content.querySelector("iframe"),this.iframe)){var i=this.webBanner.content||"";i+="\n          <style>\n            body, body > table {\n              background-color: transparent !important;\n            }\n          </style>\n\n          <script>\n            var bannerCloseLinks = document.querySelectorAll('a[href=\"#close\"]');\n            for (var i = 0; i < bannerCloseLinks.length; i++) {\n              bannerCloseLinks[i].addEventListener('click', function(e) {\n                e.preventDefault();\n                for (var bannerIndex = 0; bannerIndex < window.top.CleverPush.webBanners.length; bannerIndex++) {\n                  window.top.CleverPush.webBanners[bannerIndex].element.style.display = 'none';\n                }\n              });\n            }\n          <\/script>\n          ",this.iframe.contentWindow.document.write(i),this.iframe.contentWindow.document.close();var r=0;!function t(){window.requestAnimationFrame((function(){e.iframe.style.height=0,e.iframe.style.height=e.iframe.contentWindow.document.body.scrollHeight+"px",++r<10&&setTimeout(t,100)}))}()}if(this.webBanner.darkenBackground?this.element.style.backgroundColor="rgba(0,0,0,.75)":(this.element.style.pointerEvents="none",this.content.style.pointerEvents="initial"),this.content.style.backgroundColor="transparent",this.element.addEventListener("click",(function(t){t.target===t.currentTarget&&(e.element.style.display="none")})),"object"===o()(this.webBanner.style)){for(var s in"top"===this.webBanner.style.align&&(this.content.style.top=0),"bottom"===this.webBanner.style.align&&(this.content.style.bottom=0),"left"===this.webBanner.style.align&&(this.content.style.left=0),"right"===this.webBanner.style.align&&(this.content.style.right=0),"top"===this.webBanner.style.align&&(delete this.webBanner.style.bottom,this.webBanner.style.top&&(this.content.style.maxHeight="calc(100vh - ".concat(this.webBanner.style.top,"px)"))),"bottom"===this.webBanner.style.align&&(delete this.webBanner.style.top,this.webBanner.style.bottom&&(this.content.style.maxHeight="calc(100vh - ".concat(this.webBanner.style.bottom,"px)"))),"left"===this.webBanner.style.align&&delete this.webBanner.style.right,"right"===this.webBanner.style.align&&delete this.webBanner.style.left,this.webBanner.style)if(this.webBanner.style.hasOwnProperty(s)){var a=this.webBanner.style[s];"backgroundImage"===s&&a.indexOf("url(")<0&&(a="url("+a+")"),this.content.style[s]="number"==typeof a?a+"px":a}this.content.style.align&&"center"!==this.content.style.align||(this.content.style.margin="50px auto 0",this.content.style.maxHeight="calc(100% - 100px)"),this.content.style.fullWidth?this.content.style.width="100%":this.webBanner.style.align&&"center"!==this.webBanner.style.align?this.content.style.width=(this.webBanner.style.width||600)+"px":(this.content.style.left="50%",this.content.style.width=(this.webBanner.style.width||600)+"px",this.content.style.marginLeft=-1*(this.webBanner.style.width||600)/2+"px")}this.closeButton=this.element.querySelector(".banner-close"),this.closeButton&&(this.closeButton.addEventListener("click",(function(){return e.element.style.display="none"})),this.webBanner.style&&this.webBanner.style.color&&(this.closeButton.style.color=this.webBanner.style.color))}}},{key:"onClick",value:function(e){if(e.preventDefault(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none",this.webBanner.buttonUrl)try{window.open(this.webBanner.buttonUrl,"_blank")||(location.href=this.webBanner.buttonUrl)}catch(e){location.href=this.webBanner.buttonUrl}}},{key:"onCloseClick",value:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none"}}]),e}())},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(77);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(9);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},function(e,t,n){"use strict";n.r(t);var i=n(6),o=n.n(i),r=n(5),s=n.n(r),a=n(8),c=n.n(a),l=n(15),u=n.n(l);function p(){var e=new Date;return e.setHours(0,0,0,0),e}function h(e,t){return(e&&e.toDateString())===(t&&t.toDateString())}function f(e,t,n){var i=(e=new Date(e)).getDate(),o=e.getMonth()+t;return e.setDate(1),e.setMonth(n?(12+o)%12:o),e.setDate(i),e.getDate()<i&&e.setDate(0),e}function d(e,t){return(e=new Date(e)).setFullYear(e.getFullYear()+t),e}function b(e){return function(t){return function(e){return(e=new Date(e)).setHours(0,0,0,0),e}("string"==typeof t?e(t):t)}}function g(e,t,n){return e<t?t:e>n?n:e}function m(e,t){var n=void 0;return function(){clearTimeout(n),n=setTimeout(t,e)}}function _(){}function v(){for(var e=arguments,t=e[0],n=1;n<e.length;++n){var i=e[n]||{};for(var o in i)t[o]=i[o]}return t}var w={days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close"};function y(e){e=e||{};var t=b((e=v({lang:w,mode:"dp-modal",hilightedDate:p(),format:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:function(e){var t=new Date(e);return isNaN(t)?p():t},dateClass:function(){},inRange:function(){return!0},appendTo:document.body},e)).parse);return e.lang=v(w,e.lang),e.parse=t,e.inRange=function(e){var t=e.inRange;return function(n,i){return t(n,i)&&e.min<=n&&e.max>=n}}(e),e.min=t(e.min||d(p(),-100)),e.max=t(e.max||d(p(),100)),e.hilightedDate=e.parse(e.hilightedDate),e}var x={left:37,up:38,right:39,down:40,enter:13,esc:27};function M(e,t,n){return t.addEventListener(e,n,!0),function(){t.removeEventListener(e,n,!0)}}var E=function(){var e=window.CustomEvent;"function"!=typeof e&&((e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype);return e}();var k={day:{onKeyDown:function(e,t){var n=e.keyCode,i=n===x.left?-1:n===x.right?1:n===x.up?-7:n===x.down?7:0;n===x.esc?t.close():i&&(e.preventDefault(),t.setState({hilightedDate:(o=t.state.hilightedDate,r=i,(o=new Date(o)).setDate(o.getDate()+r),o)}));var o,r},onClick:{"dp-day":function(e,t){t.setState({selectedDate:new Date(parseInt(e.target.getAttribute("data-date")))})},"dp-next":function(e,t){var n=t.state.hilightedDate;t.setState({hilightedDate:f(n,1)})},"dp-prev":function(e,t){var n=t.state.hilightedDate;t.setState({hilightedDate:f(n,-1)})},"dp-today":function(e,t){t.setState({selectedDate:p()})},"dp-clear":function(e,t){t.setState({selectedDate:null})},"dp-close":function(e,t){t.close()},"dp-cal-month":function(e,t){t.setState({view:"month"})},"dp-cal-year":function(e,t){t.setState({view:"year"})}},render:function(e){var t=e.opts,n=t.lang,i=e.state,o=n.days,r=t.dayOffset||0,s=i.selectedDate,a=i.hilightedDate,c=a.getMonth(),l=p().getTime();return'<div class="dp-cal"><header class="dp-cal-header"><button tabindex="-1" type="button" class="dp-prev">Prev</button><button tabindex="-1" type="button" class="dp-cal-month">'+n.months[c]+'</button><button tabindex="-1" type="button" class="dp-cal-year">'+a.getFullYear()+'</button><button tabindex="-1" type="button" class="dp-next">Next</button></header><div class="dp-days">'+o.map((function(e,t){return'<span class="dp-col-header">'+o[(t+r)%o.length]+"</span>"})).join("")+function(e,t,n){var i="",o=new Date(e);o.setDate(1),o.setDate(1-o.getDay()+t),t&&o.getDate()===t+1&&o.setDate(t-6);for(var r=0;r<42;++r)i+=n(o),o.setDate(o.getDate()+1);return i}(a,r,(function(n){var i=n.getMonth()!==c,o=!t.inRange(n),r=n.getTime()===l,u="dp-day";return u+=i?" dp-edge-day":"",u+=h(n,a)?" dp-current":"",u+=h(n,s)?" dp-selected":"",u+=o?" dp-day-disabled":"",u+=r?" dp-day-today":"",'<button tabindex="-1" type="button" class="'+(u+=" "+t.dateClass(n,e))+'" data-date="'+n.getTime()+'">'+n.getDate()+"</button>"}))+'</div><footer class="dp-cal-footer"><button tabindex="-1" type="button" class="dp-today">'+n.today+'</button><button tabindex="-1" type="button" class="dp-clear">'+n.clear+'</button><button tabindex="-1" type="button" class="dp-close">'+n.close+"</button></footer></div>"}},year:{render:function(e){var t=e.state,n=t.hilightedDate.getFullYear(),i=t.selectedDate.getFullYear();return'<div class="dp-years">'+function(e,t){for(var n="",i=e.opts.max.getFullYear();i>=e.opts.min.getFullYear();--i)n+=t(i);return n}(e,(function(e){var t="dp-year";return t+=e===n?" dp-current":"",'<button tabindex="-1" type="button" class="'+(t+=e===i?" dp-selected":"")+'" data-year="'+e+'">'+e+"</button>"}))+"</div>"},onKeyDown:function(e,t){var n=e.keyCode,i=t.opts,o=n===x.left||n===x.up?1:n===x.right||n===x.down?-1:0;if(n===x.esc)t.setState({view:"day"});else if(o){e.preventDefault();var r=d(t.state.hilightedDate,o);t.setState({hilightedDate:g(r,i.min,i.max)})}},onClick:{"dp-year":function(e,t){t.setState({hilightedDate:(n=t.state.hilightedDate,i=parseInt(e.target.getAttribute("data-year")),(n=new Date(n)).setFullYear(i),n),view:"day"});var n,i}}},month:{onKeyDown:function(e,t){var n=e.keyCode,i=n===x.left?-1:n===x.right?1:n===x.up?-3:n===x.down?3:0;n===x.esc?t.setState({view:"day"}):i&&(e.preventDefault(),t.setState({hilightedDate:f(t.state.hilightedDate,i,!0)}))},onClick:{"dp-month":function(e,t){t.setState({hilightedDate:(n=t.state.hilightedDate,i=parseInt(e.target.getAttribute("data-month")),f(n,i-n.getMonth())),view:"day"});var n,i}},render:function(e){var t=e.opts.lang.months,n=e.state.hilightedDate.getMonth();return'<div class="dp-months">'+t.map((function(e,t){var i="dp-month";return'<button tabindex="-1" type="button" class="'+(i+=n===t?" dp-current":"")+'" data-month="'+t+'">'+e+"</button>"})).join("")+"</div>"}}};function T(e,t,n){var i,o,r=!1,s={el:void 0,opts:n,shouldFocusOnBlur:!0,shouldFocusOnRender:!0,state:{get selectedDate(){return o},set selectedDate(e){e&&!n.inRange(e)||(e?(o=new Date(e),s.state.hilightedDate=o):o=e,s.updateInput(o),t("select"),s.close())},view:"day"},adjustPosition:_,containerHTML:'<div class="dp"></div>',attachToDom:function(){n.appendTo.appendChild(s.el)},updateInput:function(t){var i=new E("change",{bubbles:!0});i.simulated=!0,e.value=t?n.format(t):"",e.dispatchEvent(i)},computeSelectedDate:function(){return n.parse(e.value)},currentView:function(){return k[s.state.view]},open:function(){r||(s.el||(s.el=function(e,t){var n=document.createElement("div");return n.className=e.mode,n.innerHTML=t,n}(n,s.containerHTML),function(e){var t=e.el,n=t.querySelector(".dp");function i(t){t.target.className.split(" ").forEach((function(n){var i=e.currentView().onClick[n];i&&i(t,e)}))}t.ontouchstart=_,M("blur",n,m(150,(function(){e.hasFocus()||e.close(!0)}))),M("keydown",t,(function(t){t.keyCode===x.enter?i(t):e.currentView().onKeyDown(t,e)})),M("mousedown",n,(function(t){t.target.focus&&t.target.focus(),document.activeElement!==t.target&&(t.preventDefault(),I(e))})),M("click",t,i)}(s)),o=g(s.computeSelectedDate(),n.min,n.max),s.state.hilightedDate=o||n.hilightedDate,s.state.view="day",s.attachToDom(),s.render(),t("open"))},isVisible:function(){return!!s.el&&!!s.el.parentNode},hasFocus:function(){var e=document.activeElement;return s.el&&s.el.contains(e)&&e.className.indexOf("dp-focuser")<0},shouldHide:function(){return s.isVisible()},close:function(n){var i=s.el;if(s.isVisible()){if(i){var o=i.parentNode;o&&o.removeChild(i)}r=!0,n&&s.shouldFocusOnBlur&&function(e){e.focus(),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.blur()}(e),setTimeout((function(){r=!1}),100),t("close")}},destroy:function(){s.close(),i()},render:function(){if(s.el){var e=s.hasFocus(),t=s.currentView().render(s);t&&(s.el.firstChild.innerHTML=t),s.adjustPosition(),(e||s.shouldFocusOnRender)&&I(s)}},setState:function(e){for(var n in e)s.state[n]=e[n];t("statechange"),s.render()}};return i=function(e,t){var n=m(5,(function(){t.shouldHide()?t.close():t.open()})),i=[M("blur",e,m(150,(function(){t.hasFocus()||t.close(!0)}))),M("mousedown",e,(function(){e===document.activeElement&&n()})),M("focus",e,n),M("input",e,(function(e){var n=t.opts.parse(e.target.value);isNaN(n)||t.setState({hilightedDate:n})}))];return function(){i.forEach((function(e){e()}))}}(e,s),s}function I(e){var t=e.el.querySelector(".dp-current");return t&&t.focus()}function O(e,t,n){var i=T(e,t,n);return i.shouldFocusOnBlur=!1,Object.defineProperty(i,"shouldFocusOnRender",{get:function(){return e!==document.activeElement}}),i.adjustPosition=function(){!function(e,t){var n=e.getBoundingClientRect(),i=window;(function(e,t,n){var i=e.el,o=n.pageYOffset,r=o+t.top,s=i.offsetHeight,a=r+t.height+8,c=r-s-8,l=c>0&&a+s>o+n.innerHeight,u=l?c:a;i.classList&&(i.classList.toggle("dp-is-above",l),i.classList.toggle("dp-is-below",!l));i.style.top=u+"px"})(t,n,i),function(e,t,n){var i=e.el,o=n.pageXOffset,r=t.left+o,s=n.innerWidth+o,a=i.offsetWidth,c=s-a,l=r+a>s&&c>0?c:r;i.style.left=l+"px"}(t,n,i),t.el.style.visibility=""}(e,i)},i}function C(e,t,n){return e=e&&e.tagName?e:document.querySelector(e),"dp-modal"===n.mode?function(e,t,n){var i=T(e,t,n);return e.readonly=!0,i.containerHTML+='<a href="#" class="dp-focuser">.</a>',i}(e,t,n):"dp-below"===n.mode?O(e,t,n):"dp-permanent"===n.mode?function(e,t,n){var i=T(e,t,n);return i.close=_,i.shouldFocusOnRender=n.shouldFocusOnRender,i.computeSelectedDate=function(){return n.hilightedDate},i.attachToDom=function(){n.appendTo.appendChild(i.el)},i.open(),i}(e,t,n):void 0}function P(){var e={};function t(t,n){(e[t]=e[t]||[]).push(n)}return{on:function(e,n){return n?t(e,n):function(e){for(var n in e)t(n,e[n])}(e),this},emit:function(t,n){(e[t]||[]).forEach((function(e){e(t,n)}))},off:function(t,n){return t?e[t]=n?(e[t]||[]).filter((function(e){return e!==n})):[]:e={},this}}}var S=n(0),D=n(11),A=n(1);n.d(t,"default",(function(){return B}));var L=/^\s*(3[01]|[12][0-9]|0?[1-9])\.(1[012]|0?[1-9])\.((?:19|20)\d{2})\s*$/g,B=function(){function e(t,i){s()(this,e),this.autoHideBackdrop=!0,this.config=t,this.subscriptionManager=i,this.id=document.querySelectorAll(".cleverpush-confirm").length+1,this.visible=!1,n(36),n(78)}return c()(e,[{key:"removeConfirmBox",value:function(){Object(S.c)("removeConfirmBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-attributes-box");if(e.length){var t=e[e.length-1];t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"hide",value:function(){Object(S.c)("hide"),this.autoHideBackdrop&&this.hideBackdrop(),this.removeConfirmBox()}},{key:"onCloseClick",value:function(e){Object(S.c)("closeConfirmBox"),e.preventDefault(),this.hide(),this.hideBackdrop()}},{key:"onAllowClick",value:function(e){Object(S.c)("allowPush"),e.preventDefault();for(var t=document.querySelectorAll(".cleverpush-attributes input"),n=0;n<t.length;n+=1){var i=t[n];if("radio"!==i.type&&"checkbox"!==i.type||!i.checked)if("birthdate"===i.name){var o=L.exec(i.value);if(!o)return void alert("Bitte wähle ein Datum aus.");var r=new Date(o[3]+"-"+o[2]+"-"+o[1]+"T12:00:00");CleverPush.setAttribute(i.name,r.toISOString())}else CleverPush.setAttribute(i.name,i.value);else CleverPush.setAttribute(i.name,i.value)}this.hide()}},{key:"showBackdrop",value:function(e,t,n){var i=this;if(Object(S.c)("showBackdrop"),"denied"===(void 0!==t&&"denied"===t?"denied":"grant")||this.config.hideNativeConfirmAlert||this.config.showConfirmAlert||!this.config.confirmAlertNativeTheme||"cleverpush-confirm-default"===this.config.confirmAlertNativeTheme||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme||!this.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname||this.appendConfirmBox("".concat(this.config.confirmAlertNativeTheme," ").concat(this.config.confirmAlertNativeTheme,"-native")),void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop){var o=document.getElementsByClassName("cleverpush-backdrop");if(o&&o.length)for(var r=0;r<o.length;r+=1){var s=o[r];s&&s.parentNode&&s.parentNode.removeChild(s)}var a=document.createElement("div");a.className="cleverpush-backdrop",a.style.display="none",a.innerHTML=backdropText,this.config.confirmAlertBackdropOpacity&&(a.style.backgroundColor="rgba(0, 0, 0, ".concat(this.config.confirmAlertBackdropOpacity,")")),this.config.confirmAlertBackdropBlur&&(a.className+=" cleverpush-backdrop-blur"),a.addEventListener("click",(function(e){e.preventDefault(),i.hideBackdrop()})),document.body&&(document.body.appendChild(a),document.body.classList?(document.body.classList.add("has-cleverpush-backdrop"),this.config.confirmAlertBackdropBlur&&document.body.classList.add("has-cleverpush-backdrop-blur")):(document.body.className+=" has-cleverpush-backdrop",this.config.confirmAlertBackdropBlur&&(document.body.className+=" has-cleverpush-backdrop-blur"))),Object(D.d)(a,200,void 0!==e?e:function(){})}else"function"==typeof e&&e()}},{key:"hideBackdrop",value:function(){if(Object(S.c)("hideBackdrop"),document.body&&(document.body.classList?(this.config.confirmAlertBackdropBlur&&document.body.classList.remove("has-cleverpush-backdrop-blur"),document.body.classList.remove("has-cleverpush-backdrop")):(this.config.confirmAlertBackdropBlur&&(document.body.className=document.body.className.replace("has-cleverpush-backdrop-blur","")),document.body.className=document.body.className.replace("has-cleverpush-backdrop",""))),!this.config.hideNativeConfirmAlert&&this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-backdrop-text"!==this.config.confirmAlertNativeTheme)document.getElementsByClassName("cleverpush-confirm")[0];if(void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop)for(var e=document.getElementsByClassName("cleverpush-backdrop"),t=0;t<e.length;t+=1){!function(e){Object(D.e)(e,200,(function(){e&&e.parentNode&&e.parentNode.removeChild(e)}))}(e[t])}}},{key:"camelCaseToDash",value:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{key:"appendConfirmBox",value:function(e){var t=this;if(Object(S.c)("appendConfirmBox"),!this.confirmBox){var n=this.config.alertLocalization||{},i=(navigator.language||navigator.userLanguage||"").substr(0,2);this.config.alertLocalizationTranslations&&i&&this.config.alertLocalizationTranslations[i]&&(n=Object.assign({},n,this.config.alertLocalizationTranslations[i]));var r={title:n.title||Object(A.b)("confirm.title").formatCleverPush(this.config.channelName),deny:n.deny||Object(A.b)("confirm.deny"),allow:n.allow||Object(A.b)("confirm.allow"),confirmInfo:n.confirmInfo||Object(A.b)("popup.info").formatCleverPush(Object(A.b)("confirm.allowBrowser"))},s="cleverpush-confirm-default",a="",c=void 0!==e?e:this.config.confirmAlertTheme;c&&(s=c);var l=new u.a;this.config.confirmAlertThemeVariant&&"cleverpush-confirm-auto"!==this.config.confirmAlertThemeVariant?s+=" ".concat(this.config.confirmAlertThemeVariant):"Mac OS"===l.getOS().name?s+=" cleverpush-confirm-mac":"Windows"===l.getOS().name?s+=" cleverpush-confirm-chrome":s+=" cleverpush-confirm-material",this.config.confirmAlertStyle&&this.config.confirmAlertStyle.color&&(this.config.confirmAlertThemeTextColor=this.config.confirmAlertStyle.color),this.config.confirmAlertThemeBackgroundColor?(a+="background-color: "+this.config.confirmAlertThemeBackgroundColor+";",this.config.confirmAlertThemeTextColor&&(a+="color: "+this.config.confirmAlertThemeTextColor+";")):this.config.confirmAlertThemeBackground&&(s+=" ".concat(this.config.confirmAlertThemeBackground)),this.config.confirmAlertHideChannelIcon&&(s+=" cleverpush-confirm-hide-channel-icon"),this.config.confirmAlertHideArrow&&(s+=" cleverpush-confirm-hide-arrow"),"PREVIEW"===this.config.env&&(s+=" cleverpush-confirm-preview"),s+=" cleverpush-confirm-".concat(this.id);var p,h=[],f="";this.config.customAttributes&&this.config.customAttributes.length&&!this.config.confirmAlertHideChannelTopics&&(f+='<div class="cleverpush-attributes">',this.config.customAttributes.filter((function(e){return!!e.askAfterOptIn})).forEach((function(e){f+='<div class="cleverpush-attributes-item">',f+='<div class="cleverpush-attributes-title"><strong>'.concat(e.askAfterOptInTitle||e.name,"</strong></div>"),e.possibleValues&&e.possibleValues.length?e.possibleValues.forEach((function(n){f+='<div><label><input type="'.concat(t.config.askAfterOptInInputType||"radio",'" name="').concat(e.id,'" value="').concat(n,'"> ').concat(n,"</label></div>")})):(f+='<input type="'.concat(t.config.askAfterOptInInputType||"text",'" name="').concat(e.id,'" placeholder="').concat("birthdate"===e.id?"TT.MM.JJJJ":"",'">'),"birthdate"===e.id&&(f+='</div><div class="cleverpush-attributes-item"><div class="'.concat("cleverpush-datepicker-"+e.id,'"></div>'),h.push(e.id))),f+="</div>"})),f+="</div>"),this.config.appendConfirmBoxTo&&(p=document.querySelector(this.config.appendConfirmBoxTo)),p?s+="cleverpush-confirm-static":(this.config.appendConfirmBoxTo&&S.b.error("appendConfirmBoxTo: container not found. Falling back to default."),p=document.body),s+=" cleverpush-topic-box",r.title=this.config.confirmAlertSelectTopicsLaterTitle||Object(A.b)("confirm.selectTopics")||r.title,r.allow=Object(A.b)("panel.save");var d=Object(D.a)('<div class="cleverpush-confirm cleverpush-attributes-box '.concat(s,'" style="').concat(a,'">\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-top" style="display: none; border-bottom-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-bottom" style="display: none; border-top-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        <button type="button" class="cleverpush-confirm-hide">&times;</button>\n        <div class="cleverpush-confirm-wrap">\n            ').concat("cleverpush-confirm-topbar cleverpush-confirm-topbar-native"===e?'<div class="cleverpush-confirm-topbar-arrow"></div>':"",'\n            <div class="').concat("cleverpush-confirm-icon"+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":""),'"><img src="').concat(this.config.channelIcon,'"></div>\n          <div class="cleverpush-confirm-text" style="').concat(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor+";":"",'">\n            ').concat(f,'\n            </div>\n          <div class="cleverpush-clearfix cleverpush-clearfix-bottom">\n            <div class="cleverpush-confirm-buttons">\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-deny">').concat(r.deny,'</button>\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-allow" style="').concat(this.config.confirmAlertThemeButtonTextColor?"color: "+this.config.confirmAlertThemeButtonTextColor+";":""," ").concat(this.config.confirmAlertThemeButtonBackgroundColor?"border-color: transparent !important; background: none; background-color: "+this.config.confirmAlertThemeButtonBackgroundColor+";":"",'">').concat(r.allow,'</button></div>\n            <div class="cleverpush-clearfix"></div>\n          </div>\n        </div>\n      </div>'));if(p.appendChild(d),this.confirmBox=document.querySelector(".cleverpush-confirm-".concat(this.id)),this.confirmBox&&"object"===o()(this.config.confirmAlertStyle))for(var b in this.config.confirmAlertStyle)this.config.confirmAlertStyle.hasOwnProperty(b)&&(this.confirmBox.style[b]=this.config.confirmAlertStyle[b]);if(this.confirmBoxTitle=document.querySelector(".cleverpush-confirm-".concat(this.id," .cleverpush-confirm-title")),this.confirmBoxTitle&&"object"===o()(this.config.confirmAlertTitleStyle))for(var g in this.config.confirmAlertTitleStyle)this.config.confirmAlertTitleStyle.hasOwnProperty(g)&&(this.confirmBoxTitle.style[g]=this.config.confirmAlertTitleStyle[g]);if(this.allowButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-allow"),this.allowButton){if(this.allowButton.addEventListener("click",this.onAllowClick.bind(this)),"object"===o()(this.config.confirmAlertButtonStyle))for(var m in this.config.confirmAlertButtonStyle.backgroundColor&&!this.config.confirmAlertButtonStyle.borderColor&&(this.config.confirmAlertButtonStyle.borderColor="transparent"),this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(m)&&this.allowButton.style.setProperty(this.camelCaseToDash(m),this.config.confirmAlertAllowButtonStyle[m],"important");if("object"===o()(this.config.confirmAlertAllowButtonStyle))for(var _ in this.config.confirmAlertAllowButtonStyle)this.config.confirmAlertAllowButtonStyle.backgroundColor&&!this.config.confirmAlertAllowButtonStyle.borderColor&&(this.config.confirmAlertAllowButtonStyle.borderColor="transparent"),this.config.confirmAlertAllowButtonStyle.hasOwnProperty(_)&&this.allowButton.style.setProperty(this.camelCaseToDash(_),this.config.confirmAlertAllowButtonStyle[_],"important")}this.closeButton=this.confirmBox.querySelector(".cleverpush-confirm-hide"),this.closeButton&&(this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.confirmBox&&"object"===o()(this.config.confirmAlertStyle)&&this.config.confirmAlertStyle.color&&(this.closeButton.style.color=this.config.confirmAlertStyle.color)),this.confirmBox&&h.length&&h.forEach((function(e){var n,i,o,r,s,a=(n=t.confirmBox.querySelector('input[name="'+e+'"]'),i={appendTo:t.confirmBox.querySelector(".cleverpush-datepicker-"+e),mode:"dp-permanent",lang:{days:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOffset:0,months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],today:"Heute",clear:"Löschen",close:"Schließen"},format:function(e){var t=e.getDate();1===t.toString().length&&(t="0"+t);var n=e.getMonth()+1;return 1===n.toString().length&&(n="0"+n),t+"."+n+"."+e.getFullYear()},parse:function(e){var t=L.exec(e);return t?new Date(t[3]+"-"+t[2]+"-"+t[1]+"T12:00:00"):new Date}},o=P(),r=C(n,(function(e){o.emit(e,s)}),y(i)),s={get state(){return r.state},on:o.on,off:o.off,setState:r.setState,open:r.open,close:r.close,destroy:r.destroy});console.log(a)}))}}}]),e}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CleverPush}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(14),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_8__),ouibounce__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(28),ouibounce__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(ouibounce__WEBPACK_IMPORTED_MODULE_9__),promise_polyfill__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(12),_utils_polyfills__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(69),_utils_polyfills__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_utils_polyfills__WEBPACK_IMPORTED_MODULE_11__),_bell__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(42),_confirm__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32),_utils_debug__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),_utils_dom__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(11),_api__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(44),_messenger_command__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(45),_utils_request__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(25),_utils_env__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2),_utils_detect__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(27),_const_event__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(3),_subscription_safariManager__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(46),_subscription_httpsManager__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(59),_subscription_httpHostManager__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(60),_subscription_httpIframeManager__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(47),_subscription_httpPopupManager__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(49),_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(23),_subscription_urlSessionManager__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(50),_utils_translate__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1),_widget__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(51),_multiPlatformWidget__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(53),_tagButton__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(54),_topicButton__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(55),_pageBanner__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(33),_webBanner__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(34),_error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(4),_utils_adblock__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(56),_utils_tags__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(57),_panel__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(24),_const_customCssOverrides__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(58),CleverPush=function(_EventEmitter){function CleverPush(){var e;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this,CleverPush),(e=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(CleverPush).call(this))).bell=null,e.config={},e.log=_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b,e.initialized=!1,e.initCalled=!1,e.initFailed=!1,e.initError=null,e.api=null,e.subscriptionManager=null,e.version="0.6.1",e}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(CleverPush,_EventEmitter),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(CleverPush,[{key:"init",value:function init(configParam,callbackParam){var _this2=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("init",configParam),_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.info("Browser:",_utils_env__WEBPACK_IMPORTED_MODULE_19__.a.name,_utils_env__WEBPACK_IMPORTED_MODULE_19__.c);var callback=function(e,t){var n=void 0!==t?t:!e;"function"==typeof callbackParam?callbackParam(e,n):e&&(e.warn||"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.warn(e.message):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error(e)),"function"==typeof window.cleverPushInitCallback&&window.cleverPushInitCallback(e,n),e?("already-initialized"!==e.reason&&"init-already-called"!==e.reason&&(_this2.initFailed=!0,_this2.initError=e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.INITIALIZATION_FAILED),e&&"unsupported-browser"!==e.reason&&"private-mode"!==e.reason&&"already-initialized"!==e.reason&&e.reason):_this2.initFailed=!1};if(this.initCalled)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("Init was already called, please only call init() once.","init-already-called"),!1);else if(this.initCalled=!0,window.addEventListener("message",(function(e){e.data&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(e.data)&&"cleverpush"===e.data.type&&e.data.method&&e.data.arguments&&_this2[e.data.method]&&_this2[e.data.method].apply(_this2,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(e.data.arguments))})),"object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(configParam))callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("Required parameter `config` not given.","invalid-config"));else if(configParam.channelId)if(this.initialized)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("CleverPush SDK was already initialized.","already-initialized"));else{this.api=new _api__WEBPACK_IMPORTED_MODULE_16__.a(configParam.channelId),configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint);var initSubscriptionManager=function(){var e;e="safari"===_this2.browserType?_subscription_safariManager__WEBPACK_IMPORTED_MODULE_22__.a:"facebook"===_this2.browserType?_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_27__.a:"urlSession"===_this2.browserType?_subscription_urlSessionManager__WEBPACK_IMPORTED_MODULE_28__.a:Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.k)(configParam)||"POPUP"===configParam.env?_subscription_httpPopupManager__WEBPACK_IMPORTED_MODULE_26__.a:Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.j)(configParam)?_subscription_httpIframeManager__WEBPACK_IMPORTED_MODULE_25__.a:!_this2.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.parent.location.hostname?_subscription_httpHostManager__WEBPACK_IMPORTED_MODULE_24__.a:_subscription_httpsManager__WEBPACK_IMPORTED_MODULE_23__.a,_this2.subscriptionManager=new e(_this2.config,_this2.api,_this2.trigger.bind(_this2))};if("POPUP"!==configParam.env&&Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.i)(configParam)||"PREVIEW"===configParam.env||"WIDGET"===configParam.env){var loadConfigPromise=new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(e,t){var n=configParam.confirmAlertTestsEnabled&&configParam.confirmAlertTests&&configParam.confirmAlertTests.length;"undefined"!=typeof fetch&&(void 0===configParam.loadConfig||configParam.loadConfig||n)?_this2.api.getChannelConfig(configParam.confirmAlertTestsEnabled).then((function(t){e(t)})).catch(t):configParam.loadConfigUrl?Object(_utils_request__WEBPACK_IMPORTED_MODULE_18__.a)(configParam.loadConfigUrl).then((function(t){e(t||{})})).catch(t):e({})}));configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint),loadConfigPromise.then((function(channelConfig){if(_this2.config=Object.assign({autoRegister:!0,alertTimeout:0,alertMinimumVisits:0,loadIframe:!0,trackSessions:!0},channelConfig,configParam,{confirmAlertTests:channelConfig.confirmAlertTests}),void 0!==_this2.config.channelId&&void 0!==_this2.config.channelName){if("object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(self.cleverPushConfig)&&(_this2.config=Object.assign(_this2.config,self.cleverPushConfig)),_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("Config:",_this2.config),_this2.config.apiEndpoint&&(_this2.api.endpoint=_this2.config.apiEndpoint),_this2.config.regionEnabled&&(_this2.api.regionEnabled=!0),Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.l)()&&(_this2.config.autoRegister=!1),_this2.config.facebookAppId||(_this2.config.facebookAppId="436333683366106"),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));if(params.get("confirmAlertTestId")&&(_this2.config.confirmAlertTestId=params.get("confirmAlertTestId"),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId)),params.get("cpId"))try{sessionStorage.setItem("cleverpush-subscription-id",params.get("cpId"))}catch(e){}}try{sessionStorage.getItem("cleverpush-subscription-id")&&(_this2.urlSession=!0)}catch(e){}try{(_this2.config.trackOptInReferrers||(_this2.config.confirmAlertFilters||[]).find((function(e){return"referrer"===e.type}))||_this2.config.bounceEnabled&&(_this2.config.bounceFilters||[]).find((function(e){return"direct"===e.source})))&&!sessionStorage.getItem("cleverpush-referrer")&&document.referrer&&sessionStorage.setItem("cleverpush-referrer",document.referrer.split("?")[0]),_this2.referrer=sessionStorage.getItem("cleverpush-referrer")}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}var supportsPushOrFbMessenger=function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(e,t){var n=function(n){if(_this2.urlSession&&"unsupported-browser"===n.reason)_this2.config.multiChannels&&_this2.config.multiChannels.telegramChannel&&_this2.config.multiChannels.telegramChannel._id!==_this2.config.channelId?(_this2.config.channelId=_this2.config.multiChannels.telegramChannel._id,_this2.api.channelId=_this2.config.multiChannels.telegramChannel._id):_this2.config.multiChannels&&_this2.config.multiChannels.facebookChannel&&_this2.config.multiChannels.facebookChannel._id!==_this2.config.channelId&&(_this2.config.channelId=_this2.config.multiChannels.facebookChannel._id,_this2.api.channelId=_this2.config.multiChannels.facebookChannel._id),e("urlSession");else{if(_this2.config.facebookAppId&&_this2.config.facebookPageId&&_this2.config.facebookCheckboxEnabled&&"unsupported-browser"===n.reason)return _this2.config.multiChannels&&_this2.config.multiChannels.facebookChannel&&_this2.config.multiChannels.facebookChannel._id!==_this2.config.channelId&&(_this2.config.channelId=_this2.config.multiChannels.facebookChannel._id,_this2.config.alertLocalization=Object.assign({},_this2.config.alertLocalization,_this2.config.multiChannels.facebookChannel.alertLocalization),_this2.api.channelId=_this2.config.multiChannels.facebookChannel._id),_this2.config.hideNotificationBellSubscribed=!0,_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("showConfirmAlert = true 1"),_this2.config.showConfirmAlert=!0,"cleverpush-confirm-backdrop-text"===_this2.config.confirmAlertNativeTheme&&(_this2.config.confirmAlertNativeTheme=""),_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("UAParser Browser:",_utils_env__WEBPACK_IMPORTED_MODULE_19__.a),_this2.config.facebookButtonOptIn=!0,_this2.config.facebookCheckboxEnabled=!1,void e("facebook");t(n)}};_this2.config.multiChannels&&_this2.config.multiChannels.facebookChannel&&_this2.config.multiChannels.facebookChannel.facebookPage&&!_this2.config.facebookPageId&&(_this2.config.facebookPageId=_this2.config.multiChannels.facebookChannel.facebookPage.id||_this2.config.multiChannels.facebookChannel.facebookPageId,_this2.config.facebookCheckboxEnabled=_this2.config.multiChannels.facebookChannel.facebookCheckboxEnabled,_this2.config.facebookCheckboxOnlyUnsupported=_this2.config.multiChannels.facebookChannel.facebookCheckboxOnlyUnsupported,_this2.config.facebookDoubleOptIn=_this2.config.multiChannels.facebookChannel.facebookDoubleOptIn),Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.n)().then((function(t){_this2.config.facebookCheckboxOnlyUnsupported&&_this2.config.facebookPageId&&(_this2.config.facebookPageId=null),"safari"!==t||_this2.config.safariWebsitePushId?e(t):n(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("Safari Web Push not set up","unsupported-browser"))})).catch(n)}))};_this2.initWebBanners(),_this2.initBounces(),Object(_utils_dom__WEBPACK_IMPORTED_MODULE_15__.c)().then((function(){_this2.initMultiPlatformWidgets()})),supportsPushOrFbMessenger().then((function(browserType){if(_this2.browserType=browserType,_this2.config.browserType=browserType,!_this2.config.desktopOnly||"Android"!==_utils_env__WEBPACK_IMPORTED_MODULE_19__.m.name&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_19__.d.type){if(_this2.config.confirmAlertTestsEnabled&&_this2.config.confirmAlertTests&&_this2.config.confirmAlertTests.length>0){var availableConfirmAlertTests=_this2.config.confirmAlertTests.filter((function(e){return!(e.config||{}).alertPathname||(e.config||{}).alertPathname&&new RegExp((e.config||{}).alertPathname).test(window.location.pathname)})),test;if(_this2.config.confirmAlertTestId){var testIndex=availableConfirmAlertTests.findIndex((function(e){return(e||{}).id===_this2.config.confirmAlertTestId}));testIndex>=0&&(test=availableConfirmAlertTests[testIndex])}if(!test){var defaultPercent=100/availableConfirmAlertTests.length,tests=availableConfirmAlertTests.map((function(e){return Object.assign({},e,{percentage:e.percentage||defaultPercent})})),i,randomNr=Math.random(),threshold=0;for(i=0;i<tests.length;i+=1)if(tests[i].percentage){if(threshold+=tests[i].percentage/100,threshold>randomNr){test=tests[i];break}test||(test=tests.filter((function(e){return!e.percentage})))}}test&&test.config&&(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("Split-Test:",test),_this2.config=Object.assign({},_this2.config,test.config,{confirmAlertTestId:test.id,customCss:(test.config.customCss||"")+(_this2.config.topicsTemplateFunction&&_this2.config.customCss?_this2.config.customCss:"")}),test.alertLocalization||(_this2.config.alertLocalization||(_this2.config.alertLocalization={}),_this2.config.alertLocalization={allow:test.config.alertLocalizationAllow||_this2.config.alertLocalization.allow,deny:test.config.alertLocalizationDeny||_this2.config.alertLocalization.deny,confirmInfo:test.config.alertLocalizationConfirmInfo||_this2.config.alertLocalization.confirmInfo,title:test.config.alertLocalizationTitle||_this2.config.alertLocalization.title,info:test.config.alertLocalizationInfo||_this2.config.alertLocalization.info}),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId))}var language=(navigator.language||navigator.userLanguage||"").substr(0,2);if(_this2.config.alertLocalizationTranslations&&language&&_this2.config.alertLocalizationTranslations[language]){var translation=_this2.config.alertLocalizationTranslations[language];translation.privacyPolicyUrl&&(_this2.config.privacyPolicyUrl=translation)}_this2.config.channelTopics&&_this2.config.channelTopics.length&&(_this2.config.channelTopics=_this2.config.channelTopics.sort((function(e,t){return e.sort-t.sort})));var initSdk=function initSdk(){initSubscriptionManager(),_this2.waitForInit().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("Init done"),_this2.confirm=new _confirm__WEBPACK_IMPORTED_MODULE_13__.a(_this2,_this2.subscriptionManager),_this2.subscriptionManager.setConfirm(_this2.confirm);var isMobile="Android"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.m.name||"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.m.name||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.d.type;_this2.config.showNotificationBell&&(isMobile&&_this2.config.hideNotificationBellMobile||(_this2.bell=new _bell__WEBPACK_IMPORTED_MODULE_12__.a(_this2.config,_this2.subscriptionManager,_this2.api,_this2.confirm,_this2.trigger.bind(_this2))));var fullScreenOptIn=isMobile;fullScreenOptIn&&_this2.config.channelTopics&&_this2.config.channelTopics.length&&(_this2.config.confirmAlertSelectTopicsLater=!0);var isSafariMac="Mac OS"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.m.name&&"Safari"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.a.name;if("PREVIEW"!==_this2.config.env&&(_this2.config.showConfirmAlertMobile&&!_this2.config.confirmAlertSelectTopicsLater&&fullScreenOptIn&&(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("showConfirmAlert = true 2"),_this2.config.showConfirmAlert=!0),isSafariMac&&(_utils_env__WEBPACK_IMPORTED_MODULE_19__.c>12||12===_utils_env__WEBPACK_IMPORTED_MODULE_19__.c&&_utils_env__WEBPACK_IMPORTED_MODULE_19__.b>=1)&&(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("showConfirmAlert = true 3"),_this2.config.showConfirmAlert=!0,_this2.config.isSafari_12_1=!0),"Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.a.name&&_utils_env__WEBPACK_IMPORTED_MODULE_19__.c>=72&&(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("showConfirmAlert = true 4"),_this2.config.showConfirmAlert=!0),"Edge"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.a.name&&_utils_env__WEBPACK_IMPORTED_MODULE_19__.c>=84&&(_this2.config.showSilentPromptTutorial=!0,_this2.config.showConfirmAlert=!0)),_this2.config.confirmAlertHideChannelTopics||!_this2.config.isSafari_12_1&&(_this2.config.channelTopics||[]).length&&(fullScreenOptIn&&!_this2.config.showConfirmAlertMobile||isSafariMac)&&(_this2.config.confirmAlertSelectTopicsLater=!0),_this2.config.customAttributes&&_this2.config.customAttributes.length&&_this2.config.customAttributes.filter((function(e){return!!e.askAfterOptIn})).length&&(_this2.config.confirmAlertSelectAttributesLater=!0),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.SUBSCRIBED,(function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.info("SUBSCRIBED fired"),_this2.bell&&_this2.bell.reset(!0),_this2.confirm&&_this2.confirm.hide(),_this2.initGoogleAnalytics(e)})),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.UNSUBSCRIBED,(function(){_this2.subscriptionManager.subscribed=!1,_this2.bell&&_this2.bell.reset(!1)})),_this2.initWidgets(),_this2.initTagButtons(),_this2.initTopicButtons(),_this2.initPageBanners(),_this2.initTags(),_this2.initTopics(),_this2.initConversions(),_this2.subscriptionManager.isSubscribed().then((function(e){_this2.bell&&(_this2.bell.show(e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.BELL_READY)),e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("main subscribed = true"),_this2.subscriptionManager.subscribed=!0,_this2.subscriptionManager.iframeMessenger&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.subscriptionManager.iframeMessenger.setSubscribed(e)})),_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.initGoogleAnalytics(e)})))})),_this2.config.trackSessions)try{_this2.waitForSubscription().then((function(e){var t=_this2.subscriptionManager.storageManager.getLastSession(),n=function(){if(t&&t.lastInteractionAt&&t.startedAt&&new Date(t.lastInteractionAt)<new Date(Date.now()-108e3)){var n=Math.round((new Date(t.lastInteractionAt).getTime()-new Date(t.startedAt).getTime())/1e3);n>108e3?n=108e3:n<0&&(n=0),_this2.api.endSession(e,{duration:n,visits:t.visits}),t={}}};n(),t.startedAt&&"true"===sessionStorage.getItem("cleverpush-session-counted")||(sessionStorage.setItem("cleverpush-session-counted","true"),_this2.subscriptionManager.storageManager.getNotifications(1).then((function(t){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.info("getNotifications res",t);var n={};t&&t.length&&t[0]&&t[0].id&&(n.lastNotificationId=t[0].id),_this2.api.startSession(e,n)})),t.startedAt=new Date,t.visits=0),t.lastInteractionAt=new Date,t.visits+=1,_this2.subscriptionManager.storageManager.setLastSession(t),window.addEventListener("unload",(function(){(t=_this2.subscriptionManager.storageManager.getLastSession())&&t.lastInteractionAt&&t.startedAt&&!(new Date(t.lastInteractionAt)>=new Date(Date.now()-108e3))||(t.lastInteractionAt=new Date),n(),_this2.subscriptionManager.storageManager.setLastSession(t)}),!1)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.warn(e)}if(_this2.config.confirmAlertFilters&&_this2.config.confirmAlertFilters.length&&"PREVIEW"!==_this2.config.env){var applyFilter=function(e){void 0!==e.autoRegister&&(_this2.config.autoRegister=e.autoRegister),void 0!==e.minimumVisits&&(_this2.config.alertMinimumVisits=e.minimumVisits),void 0!==e.scrollPercentage&&(_this2.config.alertScrollPercentage=e.scrollPercentage),void 0!==e.timeout&&(_this2.config.alertTimeout=1e3*e.timeout),void 0!==e.localizationTitle&&(_this2.config.alertLocalization=Object.assign({},_this2.config.alertLocalization,{title:e.localizationTitle})),void 0!==e.localizationInfo&&(_this2.config.alertLocalization=Object.assign({},_this2.config.alertLocalization,{info:e.localizationInfo})),void 0!==e.radioButtonTopics&&(_this2.config.confirmAlertRadioButtonTopics=e.radioButtonTopics),void 0!==e.requireTopics&&(_this2.config.confirmAlertRequireChannelTopics=e.requireTopics),void 0!==e.nativeTheme&&(_this2.config.confirmAlertNativeTheme=e.nativeTheme),void 0!==e.customCss&&(_this2.config.customCss||(_this2.config.customCss=""),_this2.config.customCss+=e.customCss),"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(e.config)&&(Object.keys(e.config||{}).forEach((function(t){if(_this2.config[t]=e.config[t],0===t.indexOf("alertLocalization")){_this2.config.alertLocalization||(_this2.config.alertLocalization={});var n=t.substr("alertLocalization".length);_this2.config.alertLocalization[n.substr(0,1).toLowerCase()+n.substr(1)]=e.config[t]}})),e.config.alertTimeout&&e.config.alertTimeout<1e3&&(_this2.config.alertTimeout=1e3*e.config.alertTimeout))};_this2.config.confirmAlertFilters.forEach((function(filter){if("device"===filter.type&&("desktop"===filter.value&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_19__.d.type||"mobile"===filter.value&&"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.d.type||"bot"===filter.value&&/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent))&&applyFilter(filter),"referrer"===filter.type&&(_this2.referrer&&new RegExp(filter.value).test(_this2.referrer)||document.referrer&&new RegExp(filter.value).test(document.referrer))&&applyFilter(filter),"path"===filter.type&&location.pathname&&new RegExp(filter.value).test(location.pathname)&&applyFilter(filter),"function"===filter.type&&filter.value)try{var matches=!!eval(filter.value);matches&&applyFilter(filter)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}"userAgent"===filter.type&&navigator.userAgent&&new RegExp(filter.value).test(navigator.userAgent)&&applyFilter(filter),"host"===filter.type&&location.hostname&&new RegExp(filter.value).test(location.hostname)&&applyFilter(filter),"utmSource"===filter.type&&window.location.search&&window.location.search.indexOf("utm_source="+filter.value)>-1&&applyFilter(filter),"utmMedium"===filter.type&&window.location.search&&window.location.search.indexOf("utm_medium="+filter.value)>-1&&applyFilter(filter),"utmCampaign"===filter.type&&window.location.search&&window.location.search.indexOf("utm_campaign="+filter.value)>-1&&applyFilter(filter)}))}if(_this2.config.customCss){var node=document.createElement("style");node.innerHTML=_this2.config.customCss+_const_customCssOverrides__WEBPACK_IMPORTED_MODULE_40__.a,document.body.appendChild(node)}var optInTriggered=!1,optIn=function(){if(!optInTriggered){optInTriggered=!0;var e=function(){_this2.subscriptionManager.storageManager.getVisits()>=_this2.config.alertMinimumVisits&&(setTimeout((function(){_this2.config.preventDuplicateOptIns&&_this2.config.androidPackageName&&"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((function(e){var t=!1;e&&e.forEach((function(e){e.id===_this2.config.androidPackageName&&(t=!0)})),t||(sessionStorage.setItem("cleverpush-alert-shown","true"),_this2.triggerOptIn())})):(sessionStorage.setItem("cleverpush-alert-shown","true"),_this2.triggerOptIn())}),_this2.config.alertTimeout),_this2.optInVisitorTracked||_this2.subscriptionManager.canSubscribe().then((function(e){!0!==e||_this2.optInVisitorTracked||(_this2.optInVisitorTracked=!0,_this2.api.trackOptInVisitor())})).catch((function(e){})))};_this2.config.alertOncePerSession?"true"!==sessionStorage.getItem("cleverpush-alert-shown")&&e():e()}};if(_this2.config.autoRegister)if("PREVIEW"===_this2.config.env)_this2.triggerOptIn();else{if(!isNaN(_this2.config.alertScrollPercentage)&&_this2.config.alertScrollPercentage>0){var scrollListener,checkScroll=function(){Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.f)()>=_this2.config.alertScrollPercentage&&(window.removeEventListener("scroll",scrollListener),optIn())};scrollListener=window.addEventListener("scroll",checkScroll),checkScroll()}else optIn();_this2.config.alertMinimumVisits&&_this2.config.alertMinimumVisits>0&&_this2.subscriptionManager.storageManager.incrementVisits()}if(_this2.config.showConfirmAlert&&_this2.config.disableConfirmAlertSearchTraffic&&_this2.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(_this2.referrer)&&(_this2.config.showConfirmAlert=!1),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.PERMISSION_RE_GRANTED,(function(){_this2.config.autoRegister&&optIn()})),_this2.initialized=!0,_this2.initCalled=!1,callback(!1,!0),_this2.config.exitIntentOptIn){var showExitIntent=!0;try{sessionStorage.getItem("cleverpush-exit-intent-shown")&&(showExitIntent=!1)}catch(e){}showExitIntent&&ouibounce__WEBPACK_IMPORTED_MODULE_9___default()(null,{aggressive:!0,callback:function(){_this2.config.exitIntentOncePerSession&&sessionStorage.setItem("cleverpush-exit-intent-shown",Date.now()),_this2.subscriptionManager.isSubscribed().then((function(e){e||_this2.triggerOptIn(!0)}))}})}if(Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.i)()&&window.location.hash&&0===window.location.hash.indexOf("#cleverPushScroll=")){var split=window.location.hash.split("=");if(split.length>1){var scrollPercent=parseInt(split[1].split("?")[0],10);scrollPercent&&window.scrollTo(0,scrollPercent)}}if(Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.i)()&&"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var _params=new URLSearchParams(location.search.slice(1));"true"===_params.get("cleverPushBypassInactiveFollowUps")&&(_this2.config.bypassInactiveFollowUps=!0);var importedSubscriptionId=_params.get("cleverPushOnesignalSubscriptionId")||_params.get("cleverPushAccengageSubscriptionId")||_params.get("cleverPushImportedSubscriptionId")||localStorage.getItem("cleverpush-onesignal-subscription-id")||localStorage.getItem("cleverpush-imported-subscription-id");if("true"===_params.get("cleverPushDebugRedirect")){var subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;if(subdomain){var status={worker:null,workerScope:null,notification:(window.Notification||{}).permission,localStorage:{"cleverpush-subscription-id":localStorage.getItem("cleverpush-subscription-id"),"cleverpush-subscription-id-old":localStorage.getItem("cleverpush-subscription-id-old"),"cleverpush-subscription-status":localStorage.getItem("cleverpush-subscription-status"),"cleverpush-last-sync":localStorage.getItem("cleverpush-last-sync"),"cleverpush-last-worker-update":localStorage.getItem("cleverpush-last-worker-update"),"cleverpush-last-worker-version":localStorage.getItem("cleverpush-last-worker-version"),"cleverpush-visits":localStorage.getItem("cleverpush-visits"),"cleverpush-close-time":localStorage.getItem("cleverpush-close-time"),"cleverpush-deny-time":localStorage.getItem("cleverpush-deny-time"),"cleverpush-topics":localStorage.getItem("cleverpush-topics"),"cleverpush-tags":localStorage.getItem("cleverpush-tags")}},redirect=function(){location.href="https://".concat(subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/debug?status=").concat(encodeURIComponent(JSON.stringify(status)))},registrationCount=0;navigator.serviceWorker.getRegistrations().then((function(e){e.forEach((function(t,n){var i=_this2.subscriptionManager.getServiceWorker(t);t.pushManager.getSubscription().then((function(t){status["worker"+n+"Url"]=i.scriptURL,status["worker"+n+"Subscription"]=JSON.stringify(t),(registrationCount+=1)>=e.length&&redirect()})).catch((function(){(registrationCount+=1)>=e.length&&redirect()}))}))})).catch(redirect)}}else if("true"===_params.get("cleverPushSubscriptionIdAlert"))_this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(e){prompt("CleverPush Subscription ID:",e)})):alert("Dieser Browser ist keinem Push Abonnement zugeordnet.")}));else if("true"===_params.get("cleverPushUnsubscribe")){var _subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;_subdomain&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.unsubscribe((function(){location.href="https://".concat(_subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/unsubscribe?subscriptionId=").concat(e)}))}))}else if("true"===_params.get("cleverPushTestSubscription"))_this2.api.testSubscription=!0,_this2.subscriptionManager.sync().then((function(){alert("Subscription has been successfully marked as Test Subscription.")}));else if(_params.get("cleverPushWebBannerId")){var banner=(_this2.config.webBanners||[]).find((function(e){return e._id===_params.get("cleverPushWebBannerId")}));if(banner){var webBanner=new _webBanner__WEBPACK_IMPORTED_MODULE_35__.a(banner,_this2.config,_this2.subscriptionManager,_this2.api);webBanner.show(),_this2.webBanners||(_this2.webBanners=[]),_this2.webBanners.push(webBanner)}else _utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.warn("cleverPushWebBannerId parameter given but banner with that ID could not be found")}else if(_params.get("cleverPushNotificationId"))sessionStorage.setItem("cleverpush-notification-id",_params.get("cleverPushNotificationId")),_this2.subscriptionManager.setClickedNotification(_params.get("cleverPushNotificationId"));else if(importedSubscriptionId)localStorage.setItem("cleverpush-imported-subscription-id",importedSubscriptionId),_this2.waitForSubscription().then((function(e){e&&e!==importedSubscriptionId&&(_this2.api.unsubscribe(importedSubscriptionId),localStorage.removeItem("cleverpush-imported-subscription-id"),localStorage.removeItem("cleverpush-onesignal-subscription-id"))}));else if("true"===_params.get("cleverPushOptIn")){var tags;if(_params.get("cleverPushTags")){tags=_params.get("cleverPushTags").split(",");var existingText="Du hast dieses Thema bereits abonniert",keepText="Klicke auf [OK] um fortzufahren oder auf [Abbrechen] um dieses Thema zu deabonnieren.",successText="Du hast dieses Thema erfolgreich abonniert",notSubscribed=function(){tags.forEach((function(e){_this2.tagSubscription(e)})),_this2.subscribe((function(e){e&&"denied"===e.reason?_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("popup.info").formatCleverPush("<strong>"+(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.allow"))+"</strong>")):alert(successText)}))};_this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(){_this2.subscriptionManager.storageManager.getTags().then((function(e){(e||[]).filter((function(e){return tags.indexOf(e)>-1})).length>=tags.length?confirm("".concat(existingText,"\n\n").concat(keepText))||tags.forEach((function(e){_this2.untagSubscription(e)})):(alert(successText),tags.forEach((function(e){_this2.tagSubscription(e)})))}))})):notSubscribed()})).catch((function(){notSubscribed()}))}else _this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(){_this2.subscriptionManager.storageManager.getTopics().then((function(e){var t=(_this2.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.parent.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.parent.location.pathname)),t}));_this2.config.confirmAlertHideChannelTopics||(e||[]).length>=(t||[]).length?alert(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.alreadySubscribed")):((_this2.config.alertLocalization||{}).title=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.selectTopics"),(_this2.config.alertLocalization||{}).info=" ",(_this2.config.alertLocalization||{}).allow=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("panel.save"),_this2.confirm&&(_this2.confirm.subscribedTopics=e),_this2.triggerOptIn(!0))}))})):_this2.triggerOptIn(!0,(function(e){e&&"denied"===e.reason&&_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("popup.info").formatCleverPush("<strong>"+(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.allow"))+"</strong>"))}))})).catch((function(e){_this2.triggerOptIn(!0,(function(e){e&&"denied"===e.reason&&_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("popup.info").formatCleverPush("<strong>"+(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("confirm.allow"))+"</strong>"))}))}))}else"true"===_params.get("cleverPushShowBell")&&(_this2.config.hideNotificationBellSubscribed=!1,_this2.config.hideNotificationBellMobile=!1,_this2.config.showNotificationBell=!0);_params.get("cleverPushReferralSubscriptionId")&&!sessionStorage.getItem("cleverpush-referral-subscription-id")&&sessionStorage.setItem("cleverpush-referral-subscription-id",_params.get("cleverPushReferralSubscriptionId"));var clickedFollowUpCampaignId=_params.get("cleverPushFollowUpCampaignId")||sessionStorage.getItem("cleverPushFollowUpCampaignId");clickedFollowUpCampaignId&&(sessionStorage.setItem("cleverPushFollowUpCampaignId",clickedFollowUpCampaignId),_this2.config.clickedFollowUpCampaignId=clickedFollowUpCampaignId)}else sessionStorage.getItem("cleverPushFollowUpCampaignId")&&(_this2.config.clickedFollowUpCampaignId=sessionStorage.getItem("cleverPushFollowUpCampaignId"));_this2.initFollowUpCampaigns()}))};_this2.config.initSdkBeforeOnLoad,Object(_utils_dom__WEBPACK_IMPORTED_MODULE_15__.c)().then(initSdk).catch((function(e){callback(e)}))}})).catch((function(e){_this2.initPageBanners(),_this2.initWebBanners();for(var t=document.querySelectorAll(".cleverpush-hide-unsupported"),n=0;n<t.length;n+=1){t[n].style.display="none"}e.warn=!0,callback(e)}))}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("`channelId` or `channelName` not found in config.","invalid-config"))})).catch((function(e){callback(e)}))}else if(Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.j)(configParam)||Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.k)(configParam)||"POPUP"===configParam.env){if(this.config=configParam,"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));params.get("confirmAlertTestId")&&(this.config.confirmAlertTestId=params.get("confirmAlertTestId"),this.api.setConfirmAlertTestId(this.config.confirmAlertTestId))}initSubscriptionManager(),_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("Init done"),this.initialized=!0,this.initCalled=!1,callback(!1,!0)}}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("Required attribute `channelId` in `config` not given.","invalid-config"))}},{key:"initHttpIframe",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initHttpIframe",e),this.init(e)}},{key:"initWidget",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initWidget",e),this.init(Object.assign({},e,{env:"WIDGET"}))}},{key:"initHttpPopup",value:function(e){var t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initHttpPopup",e),"Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.a.name&&_utils_env__WEBPACK_IMPORTED_MODULE_19__.c>=72&&(e.showConfirmAlert=!0,e.showConfirmAlertForce=!0),_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("initHttpPopup calling init…"),this.init(e,(function(e){if(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error("initHttpPopup err",e);var n=document.findElementById("status");n?n.innerText=e.message||e.reason||e:window.opener?window.close():history.back()}else"Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.a.name&&_utils_env__WEBPACK_IMPORTED_MODULE_19__.c>=72&&(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("showConfirmAlert = true 5"),t.config.showConfirmAlert=!0,t.config.showConfirmAlertForce=!0,t.confirm=new _confirm__WEBPACK_IMPORTED_MODULE_13__.a(t,t.subscriptionManager),t.subscriptionManager.setConfirm(t.confirm),Object(_utils_dom__WEBPACK_IMPORTED_MODULE_15__.b)().then((function(){t.confirm.appendConfirmBox("".concat(t.config.confirmAlertNativeTheme," ").concat(t.config.confirmAlertNativeTheme,"-native")),t.confirm.denyButton&&(t.confirm.denyButton.style.display="none");var e=t.confirm.confirmBox.querySelector(".cleverpush-confirm-info");e&&(e.style.display="none")}))),window.onbeforeunload=function(){return Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)("windowclose.confirm")}}))}},{key:"initContentButtons",value:function(){return this.initWidgets()}},{key:"initWidgets",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initWidgets"),this.widgets=this.widgets||[],(this.config.widgets||[]).filter((function(e){return"selector"===e.autoAppendType})).forEach((function(e){try{if(e.autoAppendPath&&!new RegExp(notification.pageBannerMatchPath).test(window.location.pathname))return;if(e.autoAppendSelector){var t=document.querySelector(e.autoAppendSelector);if(t){var n=document.createElement("div");n.className="cleverpush-widget",n.dataset.id=e._id,e.autoAppendPosition&&"top"!==e.autoAppendPosition?"bottom"===e.autoAppendPosition&&t.appendChild(n):t.insertBefore(n,t.firstChild)}}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.warn("Failed appending widget",e)}}));for(var t=document.querySelectorAll(".cleverpush-content-button, .cleverpush-widget"),n=function(n){var i=t[n],o=new _widget__WEBPACK_IMPORTED_MODULE_30__.a(n,i,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.SUBSCRIBED,(function(){o.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.TOPICS_SET,(function(){o.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.UNSUBSCRIBED,(function(){o.show(!1)})),e.widgets.push(o)},i=0;i<t.length;i+=1)n(i)}},{key:"initMultiPlatformWidgets",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initMultiPlatformWidgets"),this.multiPlatformWidgets=this.multiPlatformWidgets||[];for(var t=document.querySelectorAll(".cleverpush-multi-platform-widget"),n=function(n){var i=t[n],o=new _multiPlatformWidget__WEBPACK_IMPORTED_MODULE_31__.a(n,i,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.SUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.UNSUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!1)})),e.waitForInit().then((function(){o.subscriptionManager=e.subscriptionManager,e.subscriptionManager.isSubscribed().then((function(t){o.show("facebook"!==e.browserType,t)})).catch((function(){o.show("facebook"!==e.browserType,!1)}))})).catch((function(){o.show(!1,!1)})),e.multiPlatformWidgets.push(o)},i=0;i<t.length;i+=1)n(i)}},{key:"initTagButtons",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initTagButtons"),this.tagButtons=this.tagButtons||[];for(var t=document.querySelectorAll(".cleverpush-tag-buttons"),n=function(n){var i=t[n],o=new _tagButton__WEBPACK_IMPORTED_MODULE_32__.a(n,i,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.UNSUBSCRIBED,(function(){o.reset(!1)})),e.tagButtons.push(o)},i=0;i<t.length;i+=1)n(i)}},{key:"initTopicButtons",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initTopicButtons"),this.topicButtons=this.topicButtons||[];for(var t=document.querySelectorAll(".cleverpush-topic-button"),n=function(n){var i=t[n],o=new _topicButton__WEBPACK_IMPORTED_MODULE_33__.a(n,i,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.UNSUBSCRIBED,(function(){o.reset(!1)})),e.topicButtons.push(o)},i=0;i<t.length;i+=1)n(i)}},{key:"initPageBanners",value:function(){var e,t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initPageBanners"),this.pageBanners=this.pageBanners||[],this.subscriptionManager&&this.subscriptionManager.storageManager&&(e=this.subscriptionManager.storageManager),(this.config.pageBannerNotifications||[]).reduce((function(t,n){return t.then((function(t){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(i){e?e.getNotification(n._id).then((function(e){i(e?t:t.concat(n))})).catch((function(){i(t.concat(n))})):i(t.concat(n))}))}))}),promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a.resolve([])).then((function(n){n.forEach((function(n){var i=new _pageBanner__WEBPACK_IMPORTED_MODULE_34__.a(n,t.config,t.subscriptionManager,t.api);if((!n.scheduledAt||n.scheduledAt&&n.scheduledAt<new Date)&&(!n.expiresAt||n.expiresAt>new Date)){var o=!0;o&&n.pageBannerMatchPath&&(o=new RegExp(n.pageBannerMatchPath).test(window.location.pathname)),o&&n.pageBannerNotMatchPath&&(o=!new RegExp(n.pageBannerNotMatchPath).test(window.location.pathname)),o&&(!0,i.show(),e&&(i.onClickCallback=function(){return e.addNotification({id:n._id,url:n.url,title:n.title,text:n.text,icon:n.iconUrl,media:n.mediaUrl,autoHide:n.autoHide,subscriptionId:"",channelId:t.config.channelId,scheduledAt:n.scheduledAt,createdAt:n.createdAt,expiresAt:n.expiresAt,clicked:0,markedAsDelivered:1})}))}t.pageBanners.push(i)}))})),this.config.pageBannerAdblockEnabled&&Object(_utils_adblock__WEBPACK_IMPORTED_MODULE_37__.a)((function(e){e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("AdBlock detected"),new _pageBanner__WEBPACK_IMPORTED_MODULE_34__.a({id:"adblockNotification",title:t.config.pageBannerAdblockTitle||"",text:t.config.pageBannerAdblockText||"",url:t.config.pageBannerAdblockUrl},t.config,t.subscriptionManager,t.api).show())}))}},{key:"initWebBanners",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("initWebBanners");var t,n="cleverpush-webbanners-shown",i=localStorage.getItem(n);if(i)try{t=JSON.parse(i)}catch(e){}t||(t=[]);var o=sessionStorage.getItem(n);if(o)try{t=t.concat(JSON.parse(o))}catch(e){}this.webBanners=this.webBanners||[],this.subscriptionManager&&this.subscriptionManager.storageManager&&this.subscriptionManager.storageManager;var r=!1;if((this.config.webBanners||[]).filter((function(e){return!t.includes(e._id)&&"draft"!==e.status})).forEach((function(i){var o=new _webBanner__WEBPACK_IMPORTED_MODULE_35__.a(i,e.config,e.subscriptionManager,e.api);if((!i.startsAt||new Date(i.startsAt)<new Date)&&(!i.endsAt||new Date(i.endsAt)>new Date))if(i.exitIntent){if(r)return;r=!0,ouibounce__WEBPACK_IMPORTED_MODULE_9___default()(null,{aggressive:!0,callback:function(){o.show(),t.push(i._id),"once"===i.frequency?localStorage.setItem(n,JSON.stringify(t)):"oncePerSession"===i.frequency&&sessionStorage.setItem(n,JSON.stringify(t))}})}else{(function(){var t=!0;if(t&&i.matchPath&&(t=new RegExp(i.matchPath).test(window.location.pathname)),t&&i.notMatchPath&&(t=!new RegExp(i.notMatchPath).test(window.location.pathname)),t&&i.matchDomain&&(t=!new RegExp(i.matchDomain).test(window.location.hostname||window.location.host)),t&&i.matchQuery&&Object.keys(i.matchQuery||{}).forEach((function(e){i.matchQuery[e]&&(t=t&&window.location.search&&window.location.search.indexOf(e+"="+i.matchQuery[e])>-1)})),t&&i.minimumVisits){var n=localStorage.getItem("cleverpush-banner-"+i._id+"-visits"),o=0;if(n)try{var r=parseInt(n,10);isNaN(r)||(o=parseInt(r,10))}catch(e){}o+=1,localStorage.setItem("cleverpush-banner-"+i._id+"-visits",o+""),t=t&&o>=i.minimumVisits}var s=function(){var n=[promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a.resolve(t)],o=function(e){return e},r=function(e){switch(e){case"and":return"every";case"or":default:return"some"}};if(i.showOnlySubscribers&&n.push(new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a(e.isSubscribed)),i.topics&&i.topics.length>0){var s=new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(t){return e.getTopics((function(e,n){t(i.topics[r(i.topicsLogic)]((function(e){return n.includes(e)})))}))}));n.push(s)}if(i.tags&&i.tags.length>0){var a=promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a.all(i.tags.map((function(t){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(n){return e.hasTag(t,n)}))}))).then((function(e){return e[r(i.tagsLogic)](o)}));n.push(a)}return promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a.all(n).then((function(e){return e.every(o)}))};return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(e){if(t&&!isNaN(i.scrollPercentage)&&i.scrollPercentage>0){var n,o=function(){Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.f)()>=i.scrollPercentage&&(window.removeEventListener("scroll",n),s().then(e))};n=window.addEventListener("scroll",o),o()}else s().then(e)}))})().then((function(e){e&&setTimeout((function(){o.show(),t.push(i._id),"once"===i.frequency?localStorage.setItem(n,JSON.stringify(t)):"oncePerSession"===i.frequency&&sessionStorage.setItem(n,JSON.stringify(t))}),1e3*(i.timeout||0))}))}e.webBanners.push(o)})),this.config.appDownloadBannerEnabled&&(this.config.appDownloadBannerAndroidId&&"Android"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.m.name||this.config.appDownloadBannerAppleId&&"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_19__.m.name)){if(this.config.appDownloadBannerAndroidId){var s=document.createElement("meta");s.name="google-play-app",s.content="app-id="+this.config.appDownloadBannerAndroidId,document.head.appendChild(s);var a=document.querySelector('link[rel="android-touch-icon"]');a||((a=document.createElement("link")).rel="android-touch-icon",a.href=this.config.channelIcon,document.head.appendChild(a))}if(this.config.appDownloadBannerAppleId){var c=document.createElement("meta");c.name="apple-itunes-app",c.content="app-id="+this.config.appDownloadBannerAppleId,document.head.appendChild(c);var l=document.querySelector('link[rel="apple-touch-icon"]');l||((l=document.createElement("link")).rel="apple-touch-icon",l.href=this.config.channelIcon,document.head.appendChild(l))}var u=document.createElement("link");u.rel="stylesheet",u.href="https://cdnjs.cloudflare.com/ajax/libs/smart-app-banner/2.0.0/smart-app-banner.css",document.head.appendChild(u);var p=document.createElement("script");p.async=!0,p.src="https://cdnjs.cloudflare.com/ajax/libs/smart-app-banner/2.0.0/smart-app-banner.js",p.onload=function(){new SmartBanner({daysHidden:15,daysReminder:90,title:e.config.appDownloadBannerTitle||"",author:e.config.appDownloadBannerAuthor||"",button:"DOWNLOAD",store:{ios:"App Store",android:"Google Play",windows:"Windows store"},price:{ios:"GRATIS",android:"GRATIS",windows:"GRATIS"}})},document.head.appendChild(p)}}},{key:"initTags",value:function(){var e=this;this.subscriptionManager.storageManager.getTags().then((function(t){var n=e.config.channelTags;Object(_utils_tags__WEBPACK_IMPORTED_MODULE_38__.a)(n,t,e.tagSubscription.bind(e),e.waitForSubscription.bind(e),location.pathname)}))}},{key:"showTopicLayer",value:function(e){var t=this;this.waitForSubscription().then((function(){t.subscriptionManager.storageManager.getTopics().then((function(n){var i=t.config.channelTopics||[],o="string"==typeof e?i.find((function(t){return t._id===e})):e;if(o){var r="cleverpush-topic-layerShown-"+o._id,s=(o._id,{title:o.layerTitle||"Möchtest du Neuigkeiten zu ".concat(o.name," erhalten?"),deny:o.layerDenyText||"Nein",allow:o.layerAllowText||"Ja",info:" "});Object.keys(s).forEach((function(e){void 0===s[e]&&delete s[e]}));var a=i.filter((function(e){return e.parentTopic===o._id})).length>0;t.subscriptionManager.confirm.appendConfirmBox(t.config.layerTheme||t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",a,{topicsLayer:!0,customLocalization:s,parentTopic:o._id,topicsRadioButtons:o.childTopicsRadioButtons,topicsRequired:o.childTopicsRequired},(function(e,i){e&&i?(t.setTopics([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(n),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(i),[o._id])),localStorage.setItem(r,"true")):sessionStorage.setItem(r,"true")}))}}))}))}},{key:"initTopics",value:function initTopics(){var _this12=this;this.waitForSubscription().then((function(){_this12.subscriptionManager.storageManager.getTopics().then((function(storedTopics){var topics=_this12.config.channelTopics;if(topics&&topics.length&&"undefined"!=typeof localStorage){var topicFound=!1;topics.forEach((function(topic){var topicLayerShownKey="cleverpush-topic-layerShown-"+topic._id,visitsStorageKey="cleverpush-topic-layer-visits-"+topic._id,topicMatches=topic.layerMatchPath&&new RegExp(topic.layerMatchPath).test(location.pathname);if(topic.layerFunction&&topicMatches)try{topicMatches=!!eval(topic.layerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}if(topic.layerEnabled&&"true"!==localStorage.getItem(topicLayerShownKey)&&"true"!==sessionStorage.getItem(topicLayerShownKey)&&storedTopics.indexOf(topic<-1)&&topicMatches){if(topicFound)return;var finalizeShow=function(){_this12.showTopicLayer(topic)},show=function(){if(topicFound=!0,!isNaN(topic.layerScrollPercentage)&&topic.layerScrollPercentage>0){var e,t=function(){Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.f)()>=topic.layerScrollPercentage&&(window.removeEventListener("scroll",e),finalizeShow())};e=window.addEventListener("scroll",t),t()}else finalizeShow()},visitsNeeded=isNaN(topic.layerMinimumVisits)?0:topic.layerMinimumVisits,visitsStorage=localStorage,visitsStr=visitsStorage.getItem(visitsStorageKey),visits=0;"string"!=typeof visitsStr||isNaN(visitsStr)||(visits=parseInt(visitsStr,10)),visits>=visitsNeeded?!isNaN(topic.layerTimeout)&&topic.layerTimeout?setTimeout((function(){show()}),1e3*topic.layerTimeout):show():(visits+=1,visitsStorage.setItem(visitsStorageKey,visits.toString()))}}))}}))}))}},{key:"triggerPathAndQuery",value:function(e){var t=e.split("?"),n=new RegExp(t[0]).test(location.pathname);if(n&&t.length>1&&"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var i=new URLSearchParams(t[1]),o=new URLSearchParams(location.search.slice(1));i.forEach((function(e,t){o.get(t)!==e&&e&&(n=!1)}))}return n}},{key:"initConversions",value:function initConversions(){var _this13=this;(this.config.channelEvents||[]).forEach((function(event){if(event&&event._id)if("path"===event.triggerType&&event.triggerPath&&_this13.triggerPathAndQuery(event.triggerPath))_this13.trackConversion(event._id);else if("function"===event.triggerType&&event.triggerFunction)try{var trigger=!!eval(event.triggerFunction);if(trigger){if(event.amountFunction)try{var amount=eval(event.amountFunction);return void _this13.trackConversion(event._id,amount)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}_this13.trackConversion(event._id)}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}}))}},{key:"getNotificationPermission",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(t){e.config.ownDomain&&"https:"===location.protocol?"safari"===e.browserType?e.config.safariWebsitePushId?t(window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("Safari website push ID is unknown."):"facebook"===e.browserType?t("default"):t(window.Notification.permission):e.iframeMessenger.message(_messenger_command__WEBPACK_IMPORTED_MODULE_17__.a.REMOTE_NOTIFICATION_PERMISSION,null,(function(e){var n=e.data;t(n)}))}))}))}},{key:"push",value:function(e){if("function"==typeof e)e();else if("string"==typeof e)this.push(arguments);else{var t=e.shift();this[t].apply(this,e)}}},{key:"executeFunction",value:function(){var e=[],t=this[(e=arguments&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(arguments[0])?arguments[0]:arguments)[0]];"function"==typeof t&&t.apply(this,Array.prototype.slice.call(e,1))}},{key:"waitForInit",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(t,n){e.initFailed?n(e.initError):e.initialized?t():(e.once(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.INITIALIZED,t),e.once(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.INITIALIZATION_FAILED,n))}))}},{key:"waitForSubscription",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(t,n){e.waitForInit().then((function(){e.subscriptionManager.isSubscribed().then((function(n){n?e.subscriptionManager.getSubscriptionId().then((function(e){t(e)})):e.once(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.SUBSCRIBED,t)}))})).catch(n)}))}},{key:"waitForBell",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(t){e.bell?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.BELL_READY,t)}))}))}},{key:"isSubscribed",value:function(e){var t=this;return this.waitForInit().then((function(){return t.subscriptionManager.isSubscribed().then((function(t){return e(t)}))})).catch((function(){return e(!1)}))}},{key:"getSubscriptionId",value:function(e){var t=this;return this.waitForInit().then((function(){t.subscriptionManager.isSubscribed().then((function(n){n?t.subscriptionManager.getSubscriptionId().then((function(t){e(t)})):e(!1)}))})).catch((function(){e(!1)}))}},{key:"subscribe",value:function(e){var t=this;return this.initialized?this.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))})).catch((function(t){return e(t)})):this.waitForInit().then((function(){return t.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))}))})).catch((function(t){return e(t)}))}},{key:"triggerOptIn",value:function(e,t){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("triggerOptIn");var i="function"==typeof t?t:e,o="boolean"==typeof e&&e,r="function"==typeof i?i:function(e){e&&("unsubscribed"!==e.reason&&"subscribed"!==e.reason||_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.info(e.message||e),"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason||"unsubscribed"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.warn(e.message||e):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error(e.message||e))};return this.waitForInit().then((function(){var e=function(){n.subscriptionManager.getSubscriptionId().then((function(e){r(!1,e)}))};(o?promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a.resolve(!0):n.subscriptionManager.canSubscribe()).then((function(t){if(!0===t){var i=n.subscriptionManager.getNotificationPermission();if(n.confirm&&(n.config.showConfirmAlert||!n.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.top.location.hostname))_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("this.confirm.show 1"),n.confirm.setAutoHideBackdrop("granted"===i||Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.g)()),n.confirm.show(r);else if(!n.subscriptionManager.isSubscribing){var o="default"===i||"PREVIEW"===n.config.env;_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("showBackdrop",o);var s=function(t){"PREVIEW"!==n.config.env&&n.subscriptionManager.subscribe().then((function(i){"function"==typeof t&&t(),n.confirm&&o&&n.confirm.hideBackdrop(i),"denied"===i?(n.confirm&&"safari"!==n.browserType&&n.confirm.showDenyAlert(),r(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("Permission for notifications was denied",i))):e()})).catch((function(e){"function"==typeof t&&t(),n.confirm&&o&&n.confirm.hideBackdrop("denied"),r(e)}))};n.confirm&&o?Object(_utils_detect__WEBPACK_IMPORTED_MODULE_20__.a)({subscriptionManager:n.subscriptionManager,config:n.config,subscribe:s,showBackdrop:o,setShowBackdrop:function(e){return o=e}}):s()}var a="granted"===i;n.subscriptionManager.existingPermission=a,n.config.noExistingPermissionOptIns&&a||(n.optInVisitorTracked||(n.optInVisitorTracked=!0,n.api.trackOptInVisitor()),n.api.confirmAlertShown(n.subscriptionManager.existingPermission),n.trigger(_const_event__WEBPACK_IMPORTED_MODULE_21__.a.OPTIN_SHOWN))}else r(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_36__.a("Can not subscribe because of an unknown error","cannot-subscribe"))})).catch((function(t){t&&"subscribed"===t.reason?(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("running successCallback()"),e()):r(t)}))})).catch((function(e){return r(e)}))}},{key:"unsubscribe",value:function(e,t){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("unsubscribe");var i="function"==typeof e?e:function(e){e&&_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error(e.stack||e.message||e)},o="boolean"==typeof t&&t;this.waitForInit().then((function(){n.subscriptionManager.unsubscribe(o).then((function(){i(!1,!0)})).catch((function(e){i(e)}))}))}},{key:"tagSubscription",value:function(e){var t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("tagSubscription",e),this.waitForInit().then((function(){t.subscriptionManager&&t.subscriptionManager.initialTags.push(e),t.waitForSubscription().then((function(n){e?t.subscriptionManager.storageManager.getTags().then((function(i){var o=t.subscriptionManager.storageManager.getTagDate(e);i.indexOf(e)<0||!o||o.getTime()<Date.now()-432e5?(t.subscriptionManager.storageManager.setTags([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(i),[e])),t.api.tagSubscription(n,e)):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("tag is already in stored tags")})):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error("tag id not specified")}))}))}},{key:"untagSubscription",value:function(e){var t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("untagSubscription",e),this.waitForInit().then((function(){t.waitForSubscription().then((function(n){e?(t.subscriptionManager.storageManager.getTags().then((function(n){n.splice(n.indexOf(e),1),t.subscriptionManager.storageManager.setTags(n)})),t.api.untagSubscription(n,e)):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error("tag id not specified")}))}))}},{key:"hasTag",value:function(e,t){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("hasTag",e),this.waitForInit().then((function(){e?n.subscriptionManager.storageManager.hasTag(e).then((function(e){"function"==typeof t&&t(e)})):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error("tag id not specified")}))}},{key:"setTopics",value:function(e,t){var n=this;return Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("setTopics",e),this.waitForInit().then((function(){if(n.subscriptionManager)return n.subscriptionManager.setTopics(e),n.subscriptionManager.sync().then((function(){"function"==typeof t&&t()}))}))}},{key:"getTopics",value:function(e){var t=this;if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("getTopics"),"function"==typeof e)return this.waitForInit().then((function(){t.subscriptionManager&&t.subscriptionManager.getTopics().then((function(t){e(null,t)}))}));_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error("Please provide a callback function (err, topics) => {} to getTopics")}},{key:"setAttribute",value:function(e,t){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("setAttribute",e,t);var i=t;"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(i)&&(i=JSON.stringify(i)),this.waitForInit().then((function(){n.waitForSubscription().then((function(o){localStorage.getItem("cleverpush-attribute-"+e)!==i+""&&(localStorage.setItem("cleverpush-attribute-"+e,i),n.api.setSubscriptionAttribute(o,e,t))}))}))}},{key:"incAttribute",value:function(e,t){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("incAttribute",e,t);var i=parseInt(t,10);isNaN(i)&&(i=1);var o=parseInt(localStorage.getItem("cleverpush-attribute-"+e),10)||0;o+=i,this.waitForInit().then((function(){n.waitForSubscription().then((function(t){localStorage.setItem("cleverpush-attribute-"+e,o+""),n.api.setSubscriptionAttribute(t,e,o)}))}))}},{key:"getAttribute",value:function(e,t){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("getAttribute",e),this.waitForInit().then((function(){n.waitForSubscription().then((function(n){t(localStorage.getItem("cleverpush-attribute-"+e))}))}))}},{key:"hasAttributeValue",value:function(e,t,n){var i=t;"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(i)&&(i=JSON.stringify(i));var o=localStorage.getItem("cleverpush-attribute-"+e);if(o)try{var r=JSON.parse(o);if(r&&r.length)return void n(r.indexOf(i)>-1)}catch(e){}n(!1)}},{key:"pushAttributeValue",value:function(e,t,n,i){var o=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("pushAttributeValue",e,r);var r=t;"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(r)&&(r=JSON.stringify(r));var s=i,a={};"function"==typeof n?s=n:"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(n)&&(a=n),this.waitForInit().then((function(){o.waitForSubscription().then((function(n){var i=!1,c=localStorage.getItem("cleverpush-attribute-"+e);if(c)try{var l=JSON.parse(c);l&&l.length?l.indexOf(r)>-1?i=!0:localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(l),[r]))):localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([r]))}catch(t){localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([r]))}else localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([r]));i&&!a.force||o.api.pushSubscriptionAttributeValue(n,e,t).then((function(){"function"==typeof s&&s(!1,!0)}))}))}))}},{key:"pullAttributeValue",value:function(e,t,n){var i=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("pullAttributeValue",e,o);var o=t;"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(o)&&(o=JSON.stringify(o)),this.waitForInit().then((function(){i.waitForSubscription().then((function(r){var s=localStorage.getItem("cleverpush-attribute-"+e);if(s)try{var a=JSON.parse(s);a&&a.length&&a.indexOf(o)>-1&&(a.splice(a.indexOf(o),1),localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify(a)))}catch(e){}i.api.pullSubscriptionAttributeValue(r,e,t).then((function(){"function"==typeof n&&n(!1,!0)}))}))}))}},{key:"trigger",value:function(e,t){if(t||!1===t?_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("%c".concat(e.toUpperCase(),":"),Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.a)("event"),t):_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("%c".concat(e.toUpperCase()),Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.a)("event")),Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.h)()){if(e===_const_event__WEBPACK_IMPORTED_MODULE_21__.a.INITIALIZED){if(this.initialized)return;this.initialized=!0}this.emit(e,t)}}},{key:"triggerBellClick",value:function(){var e=this;this.subscriptionManager.isSubscribed().then((function(t){e.bell?e.bell.onClick():t?e.panel?e.panel.show():(e.panel=new _panel__WEBPACK_IMPORTED_MODULE_39__.a(e.config,e.subscriptionManager,e.trigger.bind(e),e.api),e.panel.show()):e.subscriptionManager.subscribeForce(!1).then((function(t){"denied"!==t&&"default"!==t&&(e.panel?e.panel.show():(e.panel=new _panel__WEBPACK_IMPORTED_MODULE_39__.a(e.config,e.subscriptionManager,e.trigger.bind(e),e.api),e.panel.show()))}))}))}},{key:"hidePanel",value:function(){this.panel&&this.panel.hide()}},{key:"translate",value:function(e){return Object(_utils_translate__WEBPACK_IMPORTED_MODULE_29__.b)(e)}},{key:"triggerFollowUpEvent",value:function(e,t,n){var i=this,o="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(n)?n:{};if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("triggerFollowUpEvent",e,t,o),this.config.clickedFollowUpCampaignId!==e){var r=function(n){if(n){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("triggerFollowUpEvent waitForSubscription done",n);var r=i.config.clickedFollowUpCampaignId===e,s="undefined"!=typeof sessionStorage?sessionStorage.getItem("cleverpush-notification-id"):void 0;i.api.triggerFollowUpEvent(n,e,s,t,Object.assign({url:location.href},o),r,i.config.bypassInactiveFollowUps)}};this.waitForInit().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug("triggerFollowUpEvent waitForInit done"),i.config.autoRegister?i.waitForSubscription().then(r):i.subscriptionManager.getSubscriptionId().then(r)}))}}},{key:"initBounces",value:function(){var e=this;try{if(Object(_utils_env__WEBPACK_IMPORTED_MODULE_19__.i)()&&"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var t=new URLSearchParams(location.search.slice(1)),n=t.get("cleverPushBounceUrl");n&&n.length&&this.initBounce(n,t.get("cleverPushNotificationId"))}if(this.config&&this.config.bounceEnabled&&this.config.bounceFilters&&this.config.bounceFilters.length){var i=document.referrer&&(document.referrer.endsWith("cleverpush.com/worker.js")||document.referrer.endsWith(this.config.serviceWorkerFile||document.referrer.endsWith("/cleverpush-worker.js"))),o=document.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(document.referrer),r=this.config.bounceFilters.find((function(t){var n=(!t.source||"notification"===t.source)&&i||"seo"===t.source&&o||(!e.referrer||e.referrer===location.href)&&"direct"===t.source;return n&&t.matchQuery&&Object.keys(t.matchQuery||{}).forEach((function(e){t.matchQuery[e]&&(n=n&&window.location.search&&window.location.search.indexOf(e+"="+t.matchQuery[e])>-1)})),n}));r&&r.url&&this.initBounce(r.url,null)}"true"===sessionStorage.getItem("cleverpush-bounced")&&window.performance&&window.performance.navigation.type===window.performance.navigation.TYPE_BACK_FORWARD&&(sessionStorage.removeItem("cleverpush-bounced"),history.back())}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.error(e)}}},{key:"initBounce",value:function(e,t){var n=this,i=!1;if(window.history&&window.history.pushState){var o=function(){setTimeout((function(){window.addEventListener("popstate",(function(){if("true"!==sessionStorage.getItem("cleverpush-bounced")&&(sessionStorage.setItem("cleverpush-bounced","true"),i)){var o={channelId:n.config.channelId,notificationId:t,subscriptionId:n.subscriptionManager.storageManager.getSubscriptionId()};n.api.trackBounce(o),location.href=e}}),!1)}),250);var o=location.pathname+(location.search||"")+(location.hash||"");setTimeout((function(){history.pushState({cleverpushBounce:!0},document.title,"?_"),setTimeout((function(){history.replaceState(null,document.title,o)}),150)}),150),i=!0};"completed"===document.readyState||"interactive"===document.readyState?o():window.addEventListener("load",o)}}},{key:"initFollowUpCampaigns",value:function initFollowUpCampaigns(){var _this37=this;if(this.config.followUpCampaigns&&this.config.followUpCampaigns.length&&this.config.followUpCampaigns.forEach((function(campaign){var triggered=!1,trigger=function(e){triggered=!0;var t={};campaign.triggerAutoVariables&&campaign.triggerAutoVariables.length&&campaign.triggerAutoVariables.forEach((function(n){var i;"scrollPercentage"!==n.variable?(n.selector.split(",").forEach((function(t){if(!i){for(var n=e,o=0;o<10&&!(i=n.querySelector(t.trim()))&&(n=n.parentNode);o++);i||(i=document.querySelector(t.trim()))}})),i&&("img"===i.tagName.toLowerCase()&&(i.src||i.dataset&&i.dataset.src)?t[n.variable]=i.src||i.dataset&&i.dataset.src:"a"===i.tagName.toLowerCase()&&i.href?t[n.variable]=i.href:"input"!==i.tagName.toLowerCase()&&"textarea"!==i.tagName.toLowerCase()||!i.value?"meta"===i.tagName.toLowerCase()&&i.content?t[n.variable]=i.content:t[n.variable]=(i.textContent||i.innerText).trim():t[n.variable]=i.value)):t[n.variable]=window.pageYOffset})),_this37.triggerFollowUpEvent(campaign._id,"trigger"+(campaign.triggerType[0].substr(0,1).toUpperCase()+campaign.triggerType.substr(1)),t)};if("articleBounce"===campaign.triggerType&&0!==window.location.hash.indexOf("#cleverPushScroll")){var setupBounce=function(){window.addEventListener("unload",(function(){var e=document.querySelector(campaign.triggerArticleSelector||"article");if(e){var t=Object(_utils_dom__WEBPACK_IMPORTED_MODULE_15__.f)(e);t>=(campaign.triggerArticleMinScroll||0)&&t<=(campaign.triggerArticleMaxScroll||80)&&trigger(document)}}))};if(campaign.triggerFunction){var success=!1;try{success=!!eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}success&&setupBounce()}else setupBounce()}if("selector"===campaign.triggerType&&campaign.triggerSelector){var setupSelector=function(){for(var e=document.querySelectorAll(campaign.triggerSelector),t=function(t){var n=e[t];n&&n.addEventListener("click",(function(){trigger(n.parentNode)}))},n=0;n<e.length;n+=1)t(n)};if(campaign.triggerFunction){var _success=!1;try{_success=!!eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}_success&&setupSelector()}else setupSelector()}if("function"===campaign.triggerType&&campaign.triggerFunction){var _success2=!1;try{_success2=!!eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}_success2&&trigger(document)}else"path"===campaign.triggerType&&campaign.triggerPath&&_this37.triggerPathAndQuery(campaign.triggerPath)&&_this37.triggerFollowUpEvent(campaign._id,"triggerPath");if("exitIntent"===campaign.triggerType&&ouibounce__WEBPACK_IMPORTED_MODULE_9___default()(null,{aggressive:!0,callback:function(){trigger(document)}}),!triggered&&("selector"===campaign.cancelType||"function"===campaign.cancelType)&&campaign.cancelSelector)for(var triggerElems=document.querySelectorAll(campaign.cancelSelector),triggerElemIndex=0;triggerElemIndex<triggerElems.length;triggerElemIndex+=1){var triggerElem=triggerElems[triggerElemIndex];triggerElem&&triggerElem.addEventListener("click",(function(){_this37.triggerFollowUpEvent(campaign._id,"function"===campaign.cancelType?"cancelFunction":"cancelSelector")}))}if(!triggered&&"function"===campaign.cancelType&&campaign.cancelFunction){var _success3=!1;try{_success3=!!eval(campaign.cancelFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_14__.b.debug(e)}_success3&&_this37.triggerFollowUpEvent(campaign._id,"cancelFunction")}else!triggered&&"path"===campaign.cancelType&&campaign.cancelPath&&_this37.triggerPathAndQuery(campaign.cancelPath)&&_this37.triggerFollowUpEvent(campaign._id,"cancelPath")})),this.config.shopifyCartAbandonmentFollowUpCampaignId){for(var addToCartButtons=document.querySelectorAll('button[name="add"], button.addtocart, a.add-to-cart'),addToCartButtonIndex=0;addToCartButtonIndex<addToCartButtons.length;addToCartButtonIndex++){var addToCartButton=addToCartButtons[addToCartButtonIndex];addToCartButton&&addToCartButton.addEventListener("click",(function(){_this37.triggerFollowUpEvent(_this37.config.shopifyCartAbandonmentFollowUpCampaignId,"addToCart")}))}(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.shopifyCartAbandonmentFollowUpCampaignId,"checkout")}if(this.config.epagesCartAbandonmentFollowUpCampaignId){var _addToCartButton=document.querySelector("button.product-add-cart-button");_addToCartButton&&_addToCartButton.addEventListener("click",(function(){_this37.triggerFollowUpEvent(_this37.config.epagesCartAbandonmentFollowUpCampaignId,"addToCart")})),(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.epagesCartAbandonmentFollowUpCampaignId,"checkout")}}},{key:"trackConversion",value:function(e,t){var n=this,i=void 0!==t?t:void 0;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_14__.c)("trackConversion",e,i),this.waitForInit().then((function(){n.subscriptionManager.getSubscriptionId().then((function(t){if(t){var o=function(){(!sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked")||sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked")&&!isNaN(sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked"))&&parseInt(sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked"),10)+36e5<Date.now())&&(r&&sessionStorage.setItem("cleverpush-notification-id",r),sessionStorage.setItem("cleverpush-conversion-"+e+"-tracked",Date.now()),n.api.trackConversion(t,r,e,i,n.config.clickedFollowUpCampaignId))},r=new URLSearchParams(location.search.slice(1)).get("cleverPushNotificationId")||sessionStorage.getItem("cleverpush-notification-id");r?o():n.subscriptionManager.getClickedNotification().then((function(e){r=e,o()}))}}))}))}},{key:"generateWalletPass",value:function(e,t,n){var i=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_10__.a((function(o,r){i.api.generateWalletPass(e,t).then((function(e){"function"==typeof n&&n(null,e),o(e)})).catch((function(e){"function"==typeof n&&n(e,null),r(e)}))}))}},{key:"initGoogleAnalytics",value:function(e){var t;this.config.googleAnalyticsDimensionIndex&&"function"==typeof ga&&(ga("set","dimension".concat(this.config.googleAnalyticsDimensionIndex),e),"function"==typeof gtag&&gtag("event","cleverpushSetSubscriptionId",(t={event_category:"cleverpush",event_label:"Set CleverPush Subscription ID"},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(t,"dimension".concat(this.config.googleAnalyticsDimensionIndex),e),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(t,"nonInteraction",!0),t)))}}]),CleverPush}(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_8___default.a)},function(e,t,n){var i;!function(t){"use strict";function o(){}var r=o.prototype,s=t.EventEmitter;function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}r.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},r.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===a(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},r.on=c("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=c("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=a(o[i],t))&&o[i].splice(n,1);return this},r.off=c("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},r.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},r.removeAllListeners=c("removeEvent"),r.emitEvent=function(e,t){var n,i,o,r,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].slice(0),o=0;o<n.length;o++)!0===(i=n[o]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},r.trigger=c("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=s,o},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}(this||{})},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(24),c=n(1),l=n(0),u=n(16),p=(n(2),n(11)),h=function(){function e(t,i,r,s,a){o()(this,e),this.config=t,this.subscriptionManager=i,this.isSubscribed=this.subscriptionManager.subscribed,this.api=r,this.confirm=s,this.triggerEvent=a,this.config.bellLocalization&&this.config.bellLocalization.subscribed?this.messageSubscribed=this.config.bellLocalization.subscribed:this.messageSubscribed=Object(c.b)("bell.subscribed"),this.config.bellLocalization&&this.config.bellLocalization.subscribe?this.messageSubscribe=this.config.bellLocalization.subscribe:this.messageSubscribe=Object(c.b)("bell.subscribe"),this.config.bellLocalization&&this.config.bellLocalization.hide?this.messageHide=this.config.bellLocalization.hide:this.messageHide=Object(c.b)("bell.hide"),this.show=this.show.bind(this),this.reset=this.reset.bind(this),this.onClick=this.onClick.bind(this),n(75)}return s()(e,[{key:"getClassName",value:function(){var e="cleverpush-bell";return this.config.notificationBellPosition&&(e+=" cleverpush-bell-position-"+this.config.notificationBellPosition),e}},{key:"initPrompt",value:function(){var e=this;if(!(this.promptInited||this.isSubscribed||window.innerWidth<768||localStorage.getItem("cleverpush-bell-prompt-denied"))){this.promptInited=!0;var t=this.confirm.getLocalization({});this.prompt=document.createElement("div"),this.prompt.className="cleverpush-bell-prompt",this.prompt.innerHTML='\n    <div class="cleverpush-bell-prompt-icon" style="background-image: url(\''.concat(this.config.channelIcon,'\')"></div>\n    <div class="cleverpush-bell-prompt-content">\n      <div class="cleverpush-bell-prompt-title">\n      ').concat(t.title,'\n      </div>\n      <div class="cleverpush-bell-prompt-buttons">\n      <button class="cleverpush-confirm-btn cleverpush-confirm-btn-deny">').concat(t.deny,'</button>\n        <button class="cleverpush-confirm-btn cleverpush-confirm-btn-allow" style="').concat(this.config.confirmAlertAllowButtonStyle&&this.config.confirmAlertAllowButtonStyle.color?"color: "+this.config.confirmAlertAllowButtonStyle.color+";":""," ").concat(this.config.confirmAlertAllowButtonStyle&&this.config.confirmAlertAllowButtonStyle.backgroundColor?"border-color: transparent !important; background: none; background-color: "+this.config.confirmAlertAllowButtonStyle.backgroundColor+";":"",'">').concat(t.allow,"</button>\n      </div>\n    </div>\n    "),this.promptAllow=this.prompt.querySelector(".cleverpush-confirm-btn-allow"),this.promptAllow&&this.promptAllow.addEventListener("click",(function(t){t.preventDefault(),e.prompt.style.display="none"})),this.promptDeny=this.prompt.querySelector(".cleverpush-confirm-btn-deny"),this.promptDeny&&this.promptDeny.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),localStorage.setItem("cleverpush-bell-prompt-denied",Date.now()+""),e.prompt.style.display="none"})),this.bell.appendChild(this.prompt)}}},{key:"show",value:function(e){var t=this;Object(l.c)("bell.show",e),this.isSubscribed=e;var n=!1;try{n="true"===localStorage.getItem("cleverpush-bell-hidden")}catch(e){}if(!n){var i,o=this.getClassName();e?(o+=" cleverpush-bell-disabled",i=this.messageSubscribed,this.config.hideNotificationBellSubscribed&&(o+=" cleverpush-bell-hidden")):i=this.messageSubscribe;var r="";if(this.config.notificationBellMoreButtons&&(r='<button type="button" class="cleverpush-bell-more-btn cleverpush-bell-more-settings" style="display: none"><svg viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M18.88 12.88a6.83 6.83 0 0 0 0-1.76l1.95-1.49a.45.45 0 0 0 .11-.57l-1.85-3.12c-.11-.2-.36-.27-.56-.2l-2.3.9a6.8 6.8 0 0 0-1.57-.88l-.35-2.38a.45.45 0 0 0-.46-.38h-3.7a.45.45 0 0 0-.45.38l-.35 2.38c-.57.23-1.09.53-1.57.88l-2.3-.9a.46.46 0 0 0-.57.2L3.06 9.06c-.12.2-.06.44.12.57l1.95 1.49a6.95 6.95 0 0 0 0 1.76l-1.95 1.49a.45.45 0 0 0-.12.57l1.85 3.12c.12.2.37.27.57.2l2.3-.9c.48.36 1 .65 1.57.88l.35 2.38c.03.22.22.38.45.38h3.7c.23 0 .43-.16.46-.38l.35-2.38a7.16 7.16 0 0 0 1.56-.88l2.3.9c.22.08.46 0 .57-.2l1.85-3.12a.45.45 0 0 0-.11-.57l-1.95-1.49zM12 15.15A3.2 3.2 0 0 1 8.76 12 3.2 3.2 0 0 1 12 8.85 3.2 3.2 0 0 1 15.24 12 3.2 3.2 0 0 1 12 15.15z" id="park-svg-settings-path-1"></path></defs><use xlink:href="#park-svg-settings-path-1" transform="translate(-3 -3)" stroke="none" stroke-width="1" fill-rule="evenodd"></use></svg><span class="cleverpush-tooltip">'.concat(Object(c.b)("panel.settings"),'</span></button>\n<button type="button" class="cleverpush-bell-more-btn cleverpush-bell-more-subscribe" style="display: none"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">\n<g><path d="M380.6,989.9c-30.5,0-59.3-14.2-77.8-38.7L52.6,621C20,578,28.5,516.8,71.5,484.3c43-32.6,104.1-24.1,136.7,18.9l164.6,217.3L786.7,56c28.5-45.7,88.7-59.7,134.5-31.2c45.8,28.4,59.7,88.7,31.2,134.4L463.5,944c-17,27.4-46.4,44.5-78.5,45.9C383.6,990,382.1,990,380.6,989.9L380.6,989.9z"/></g>\n</svg><span class="cleverpush-tooltip">').concat(this.messageSubscribe,'</span></button>\n<button type="button" class="cleverpush-bell-more-btn cleverpush-bell-more-hide" style="display: none"><svg viewBox="0 0 8 8" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.87L6.87 8 4 5.13 1.13 8 0 6.87 2.87 4 0 1.13 1.13 0 4 2.87 6.87 0 8 1.13 5.13 4z"></path></svg><span class="cleverpush-tooltip">').concat(this.messageHide,"</span></button>\n")),this.bell=document.createElement("div"),this.bell.className=o,this.bell.innerHTML="".concat(r,"<div class='cleverpush-bell-message'>").concat(i,"</div>"),document.body.appendChild(this.bell),this.bell&&(this.bell.addEventListener("click",this.onClick.bind(this)),this.config.notificationBellColor&&this.config.notificationBellColor.length&&(this.bell.style.backgroundColor=this.config.notificationBellColor),this.config.notificationBellOffsetBottom&&(this.bell.style.bottom=this.config.notificationBellOffsetBottom+"px"),this.config.notificationBellOffsetLeft&&"right"!==this.config.notificationBellPosition&&(this.bell.style.left=this.config.notificationBellOffsetLeft+"px"),this.config.notificationBellOffsetRight&&"left"!==this.config.notificationBellPosition&&(this.bell.style.right=this.config.notificationBellOffsetRight+"px"),this.config.notificationBellMoreButtons&&this.initMoreButtons()),this.config.showNotificationBellPrompt){var s=!0;if(this.config.notificationBellPromptVisits){var a=parseInt(localStorage.getItem("cleverpush-bell-prompt-visits"),10)||0;s=a>=this.config.notificationBellPromptVisits,a+=1,localStorage.setItem("cleverpush-bell-prompt-visits",a+"")}s&&setTimeout((function(){t.initPrompt()}),this.config.notificationBellPromptSeconds||0)}}}},{key:"initMoreButtons",value:function(){var e=this;this.settingsButton=this.bell.querySelector(".cleverpush-bell-more-settings"),this.settingsButton.onclick=function(t){t.stopPropagation(),e.moreButtonsVisible=!1,e.settingsButton.style.display="none",e.hideButton.style.display="none",e.config.notificationBellSettingsLink?window.open(e.config.notificationBellSettingsLink,"_blank"):e.showPanel()},this.subscribeButton=this.bell.querySelector(".cleverpush-bell-more-subscribe"),this.subscribeButton.onclick=function(t){t.stopPropagation(),e.moreButtonsVisible=!1,e.subscribeButton.style.display="none",e.hideButton.style.display="none",e.subscribe()},this.hideButton=this.bell.querySelector(".cleverpush-bell-more-hide"),this.hideButton.onclick=function(t){t.stopPropagation(),e.hideForever()}}},{key:"reset",value:function(e){if(Object(l.c)("bell.reset",e),this.isSubscribed=e,this.moreButtonsVisible=!1,this.bell){var t,n=this.getClassName();e?(n+=" cleverpush-bell-disabled",this.config.hideNotificationBellSubscribed&&(n+=" cleverpush-bell-hidden"),t=this.messageSubscribed):t=this.messageSubscribe,this.bell.className=n;var i=this.bell.querySelector(".cleverpush-bell-message");i&&(i.innerHTML=t);var o=this.bell.querySelector(".cleverpush-loader");o&&o.parentNode&&o.parentNode.removeChild(o),this.config.notificationBellMoreButtons&&this.initMoreButtons()}e&&this.prompt&&(this.prompt.style.display="none")}},{key:"hideForever",value:function(){localStorage.setItem("cleverpush-bell-hidden","true"),this.bell.style.display="none"}},{key:"showMessage",value:function(e,t){if(this.bell){var n=this.bell.querySelector(".cleverpush-bell-message");n.className+=" cleverpush-bell-message-open",n.innerHTML=e,setTimeout((function(){n.innerHTML=Object(c.b)("bell.subscribe"),n.className="cleverpush-bell-message"}),1e3*t)}}},{key:"showPanel",value:function(){this.panel||(this.panel=new a.a(this.config,this.subscriptionManager,this.triggerEvent,this.api)),this.panel.show()}},{key:"setLoading",value:function(){this.bell.className+=" cleverpush-bell-loading",this.bell.innerHTML+='<div class="cleverpush-loader"><div></div><div></div><div></div><div></div></div>'}},{key:"subscribe",value:function(){var e=this;Object(l.c)("bell.subscribe");var t=this.subscriptionManager.getNotificationPermission(!0),n="default"===t;if(this.config.channelTopics&&this.config.channelTopics.length&&(this.config.confirmAlertSelectTopicsLater=!0),this.api.fromBellWidget=!0,this.api.confirmAlertShown(),!this.subscriptionManager.isSubscribing){l.b.debug("showBackdrop",n),"denied"!==t&&this.setLoading();var i=function(){"PREVIEW"!==e.config.env&&e.subscriptionManager.subscribeForce(e.isSubscribed).then((function(t){e.confirm&&n&&e.confirm.hideBackdrop(),"denied"===t&&e.subscriptionManager.confirm&&e.subscriptionManager.confirm.showBackdrop(void 0,"denied",Object(c.b)("popup.info").formatCleverPush("<strong>"+(Object(c.b)("confirm.allowBrowser")||Object(c.b)("confirm.allow"))+"</strong>"))})).catch((function(i){e.reset(e.isSubscribed),"default"!==t&&"denied"===i.reason&&e.subscriptionManager.confirm&&e.subscriptionManager.confirm.showBackdrop(void 0,"denied",i.message),function(t){e.confirm&&n&&e.confirm.hideBackdrop(),!t.message||t instanceof u.a||e.showMessage(t.message,5),!e.config.ownDomain||"https:"!==location.protocol||"denied"!==t.reason&&"default"!==t.reason?t&&l.b.error(t):e.subscriptionManager.confirm&&e.subscriptionManager.confirm.showBackdrop(void 0,"denied",t.message)}(n)}))};Object(p.b)().then((function(){e.confirm&&n?(e.confirm.showBackdrop(),i()):e.confirm&&"granted"===t?e.confirm.appendConfirmBox(e.config.confirmAlertTheme,void 0,void 0,(function(t){t?i():e.reset(e.isSubscribed)})):i()}))}}},{key:"toggleMoreButtons",value:function(){Object(l.c)("bell.toggleMoreButtons");var e=this.bell.querySelector(".cleverpush-bell-message");this.moreButtonsVisible?(this.settingsButton.style.display="none",this.subscribeButton.style.display="none",this.hideButton.style.display="none",this.moreButtonsVisible=!1,this.isSubscribed&&(this.bell.className+=" cleverpush-bell-disabled"),e&&window.innerWidth<768&&(e.className="cleverpush-bell-message"),window.document.activeElement&&window.document.activeElement.blur()):(this.isSubscribed?(this.settingsButton.style.display="flex",this.bell.className=this.getClassName()):this.subscribeButton.style.display="flex",this.hideButton.style.display="flex",this.moreButtonsVisible=!0,e&&window.innerWidth<768&&(e.className+=" cleverpush-bell-message-open"))}},{key:"onClick",value:function(){var e=this;if(Object(l.c)("bell.onClick",!!this.bell),this.bell){"function"==typeof this.handleLoadSdk?(this.setLoading(),this.handleLoadSdk().then((function(){window.CleverPush.waitForBell().then((function(){e.bell.parentNode.removeChild(e.bell),window.CleverPush.bell.onClick()}))})).catch((function(e){l.b.error("Bell loading failed",e)}))):e.config.notificationBellMoreButtons?e.toggleMoreButtons():e.isSubscribed?e.showPanel():e.subscribe()}}}]),e}()},function(e,t,n){var i=n(9),o=n(29),r=n(70),s=n(71);function a(t){var n="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!r(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return s(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},a(t)}e.exports=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(6),o=n.n(i),r=n(5),s=n.n(r),a=n(8),c=n.n(a),l=n(15),u=n.n(l),p=n(12),h=n(0),f=n(25),d=function(){function e(t){s()(this,e),this.channelId=t,this.confirmAlertTestId=void 0,this.endpoint="https://api.cleverpush.com",this.regionEnabled=!1}return c()(e,[{key:"setConfirmAlertTestId",value:function(e){this.confirmAlertTestId=e}},{key:"request",value:function(e,t,n){Object(h.c)("request",e,t,n);var i={method:"GET",headers:{Accept:"application/json"}};return e&&(i.method=e),n&&(i.body=JSON.stringify(Object.assign({sdkVersion:"0.6.1"},n)),i.headers["Content-Type"]="application/json"),Object(f.a)(this.endpoint+t,i)}},{key:"getChannelConfig",value:function(e){var t="/channel/".concat(this.channelId,"/config");if(void 0!==e&&e){t+="?confirmAlertTestsEnabled=true";var n=new u.a(navigator.userAgent).getOS();n.name&&(t+="&platformName="+n.name)}return this.request("GET",t,null)}},{key:"tagSubscription",value:function(e,t){return this.request("POST","/subscription/tag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"untagSubscription",value:function(e,t){return this.request("POST","/subscription/untag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"setSubscriptionAttribute",value:function(e,t,n){return this.request("POST","/subscription/attribute",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"pushSubscriptionAttributeValue",value:function(e,t,n){return this.request("POST","/subscription/attribute/push-value",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"pullSubscriptionAttributeValue",value:function(e,t,n){return this.request("POST","/subscription/attribute/pull-value",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"triggerFollowUpEvent",value:function(e,t,n,i,o,r,s){var a={channelId:this.channelId,subscriptionId:e,campaignId:t,notificationId:n,name:i,parameters:o,fromNotification:r,bypassInactive:s};if("articleBounce"===i&&"function"==typeof navigator.sendBeacon){var c=new Blob([JSON.stringify(a)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon(this.endpoint+"/subscription/event",c)}return this.request("POST","/subscription/event",a)}},{key:"trackConversion",value:function(e,t,n,i,o){return this.request("POST","/subscription/conversion",{channelId:this.channelId,subscriptionId:e,notificationId:t,eventId:n,amount:i,followUpCampaignId:o})}},{key:"trackWidget",value:function(e,t){return this.request("POST","/channel/"+this.channelId+"/widget/"+t,{channelId:this.channelId,widgetId:e})}},{key:"trackPanel",value:function(e,t){return this.request("POST","/channel/"+this.channelId+"/panel/"+t,{channelId:this.channelId,notificationId:e})}},{key:"trackBounce",value:function(e){var t=Object.assign({channelId:this.channelId},e||{}),n=new u.a(navigator.userAgent),i=n.getBrowser(),o=n.getOS();if(t.platformName=o.name||void 0,t.browserType=i.name||void 0,"function"==typeof navigator.sendBeacon){var r=new Blob([JSON.stringify(t)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon(this.endpoint+"/notification/bounced",r)}return this.request("POST","/notification/bounced",t)}},{key:"getSyncParameters",value:function(e){Object(h.c)("getSyncParameters");var t=new u.a(navigator.userAgent),n=t.getBrowser(),i=t.getOS(),o={channelId:this.channelId,browserType:n.name||void 0,browserVersion:n.version||void 0,platformName:i.name||void 0,platformVersion:i.version||void 0},r=location.pathname;r&&(o.pathname=r);try{if("undefined"!=typeof sessionStorage){var s=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];s&&(o.referrer=s);var a=sessionStorage.getItem("cleverpush-referral-subscription-id");a&&(o.referralSubscriptionId=a)}}catch(e){}if("undefined"!=typeof localStorage){var c=localStorage.getItem("cleverpush-visits")||0;isNaN(c)||(o.visits=c+""),"was-denied"!==localStorage.getItem("subscription-status")&&"denied"!==localStorage.getItem("subscription-status")||(o.wasDenied=!0)}var l=(navigator.language||navigator.userLanguage||"").substr(0,2);return l&&(o.language=l),this.confirmAlertTestId&&(o.confirmAlertTestId=this.confirmAlertTestId),this.testSubscription&&(o.testSubscription=this.testSubscription),void 0!==e&&e?o:new p.a((function(e){Object(f.a)("https://geoip-api.cleverpush.com/",{mode:"cors",timeout:3e3}).then((function(t){e(Object.assign(o,t))})).catch((function(t){h.b.error(t),e(o)}))}))}},{key:"syncSubscription",value:function(e,t,n,i){var r=this;if(Object(h.c)("syncSubscription",e,t),!e)return p.a.reject();var s="object"===o()(i)?i:{};return this.getSyncParameters().then((function(i){s=Object.assign(s,i);var a=parseInt(s.browserVersion.split(".")[0],10);if(r.regionEnabled||delete s.region,"object"===o()(t)&&t&&!isNaN(t.length)){var c=0;try{var l=localStorage.getItem("cleverpush-topics-version");l&&!isNaN(l)&&(c=parseInt(l,10))}catch(e){}c+=1,s.topics=t,s.topicsVersion=c}if("object"===o()(n)&&n&&n.length&&(s.tags=n),s.existingPermission&&delete s.confirmAlertTestId,r.fromBellWidget&&(s.fromBellWidget=r.fromBellWidget),r.widgetId&&(s.widgetId=r.widgetId),e.facebookUserRef&&(s.facebookUserRef=e.facebookUserRef,"undefined"!=typeof self&&self.CleverPush&&self.CleverPush.config&&self.CleverPush.config.multiChannels&&self.CleverPush.config.multiChannels.facebookChannel._id!==s.channelId&&(s.channelId=self.CleverPush.config.multiChannels.facebookChannel._id)),"Safari"===s.browserType&&"object"===o()(e)&&e.deviceToken)s.apnsToken=e.deviceToken;else if("string"==typeof e)s.subscriptionId=e;else if("Chrome"===s.browserType&&a>=42&&a<50)s.endpoint=e.endpoint;else if(s.endpoint=e.endpoint,void 0!==e.getKey){var u=e.getKey?e.getKey("p256dh"):null,h=null;("Firefox"!==s.browserType||"Firefox"===s.browserType&&a>=46)&&(h=e.getKey?e.getKey("auth"):null),u&&(s.publicKey=btoa(String.fromCharCode.apply(null,new Uint8Array(u)))),h&&(s.authSecret=btoa(String.fromCharCode.apply(null,new Uint8Array(h))))}return new p.a((function(e,t){return r.request("POST","/subscription/sync/".concat(r.channelId),s).then((function(n){n&&n.id?e(n):n&&n.error?t(n.error):t()})).catch((function(e){e.reason?t(e.reason):e.status?t(e.status):t(e)}))}))}))}},{key:"unsubscribe",value:function(e){var t=this;return new p.a((function(n){t.request("POST","/subscription/unsubscribe",{subscriptionId:e,channelId:t.channelId}).then(n).catch(n)}))}},{key:"unsubscribeFeedback",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new p.a((function(i){t.request("POST","/subscription/unsubscribe/feedback",{type:e,text:n,channelId:t.channelId}).then(i).catch(i)}))}},{key:"startSession",value:function(e,t){var n=this;return new p.a((function(i){n.request("POST","/subscription/session/start",Object.assign({},{subscriptionId:e,channelId:n.channelId},t||{})).then(i).catch(i)}))}},{key:"endSession",value:function(e,t){var n=new Blob([JSON.stringify(Object.assign({subscriptionId:e,channelId:this.channelId},t))],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon(this.endpoint+"/subscription/session/end",n)}},{key:"confirmAlertShown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirm-alert",n=!0,i="cleverpush-"+t+"-reported",o=2,r=sessionStorage.getItem(i);if(r){var s=parseInt(r,10);isNaN(s)||(n=s+36e5*o<Date.now())}if(n){sessionStorage.setItem(i,Date.now());var a={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId},c=new u.a(navigator.userAgent),l=c.getBrowser(),h=c.getOS();if(a.platformName=h.name||void 0,a.browserType=l.name||void 0,void 0!==e&&e&&(a.existingPermission=!0,delete a.confirmAlertTestId),"undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInPathnames){var f=location.pathname;f&&(a.pathname=f)}if(this.widgetId&&(a.widgetId=this.widgetId),"undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInReferrers)try{if("undefined"!=typeof sessionStorage){var d=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];d&&(a.referrer=d)}}catch(e){}return"undefined"==typeof localStorage||"was-denied"!==localStorage.getItem("subscription-status")&&"denied"!==localStorage.getItem("subscription-status")||(a.wasDenied=!0),this.request("POST","/channel/"+t,a)}return p.a.resolve()}},{key:"trackOptInVisitor",value:function(){var e={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId};return this.widgetId&&(e.widgetId=this.widgetId),this.request("POST","/channel/optin-visitor",e)}},{key:"confirmAlertDenied",value:function(){var e={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId};return this.widgetId&&(e.widgetId=this.widgetId),e.existingPermission&&delete e.confirmAlertTestId,this.request("POST","/channel/blocked-optin-request",e)}},{key:"generateWalletPass",value:function(e,t){var n=this;return new p.a((function(i,o){n.request("POST","/channel/"+n.channelId+"/wallet-pass/"+e+"/subscribe",Object.assign({},{walletPassId:e},t)).then(i).catch(o)}))}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(5),o=n.n(i),r=n(7),s=n.n(r),a=function e(){o()(this,e)};s()(a,"CONNECTED","connect"),s()(a,"REMOTE_NOTIFICATION_PERMISSION","cleverpush.remoteNotificationPermission"),s()(a,"REMOTE_OPERATION_COMPLETE","cleverpush.operationComplete"),s()(a,"REMOTE_RETRIGGER_EVENT","cleverpush.remoteRetriggerEvent"),s()(a,"MODAL_LOADED","cleverpush.modalPrompt.loaded"),s()(a,"MODAL_PROMPT_ACCEPTED","cleverpush.modalPrompt.accepted"),s()(a,"MODAL_PROMPT_REJECTED","cleverpush.modalPrompt.canceled"),s()(a,"POPUP_LOADED","cleverpush.popup.loaded"),s()(a,"POPUP_ACCEPTED","cleverpush.popup.accepted"),s()(a,"POPUP_REJECTED","cleverpush.popup.canceled"),s()(a,"POPUP_CLOSING","cleverpush.popup.closing"),s()(a,"REMOTE_NOTIFICATION_PERMISSION_CHANGED","cleverpush.remoteNotificationPermissionChanged"),s()(a,"IFRAME_POPUP_INITIALIZE","cleverpush.iframePopupInitialize"),s()(a,"UNSUBSCRIBE_FROM_PUSH","cleverpush.unsubscribeFromPush"),s()(a,"BEGIN_BROWSING_SESSION","cleverpush.beginBrowsingSession"),s()(a,"REQUEST_HOST_URL","cleverpush.requestHostUrl"),s()(a,"SHOW_HTTP_PERMISSION_REQUEST","cleverpush.showHttpPermissionRequest"),s()(a,"IS_SHOWING_HTTP_PERMISSION_REQUEST","cleverpush.isShowingHttpPermissionRequest"),s()(a,"WINDOW_TIMEOUT","cleverpush.windowTimeout"),s()(a,"FINISH_REMOTE_REGISTRATION","cleverpush.finishRemoteRegistration"),s()(a,"FINISH_REMOTE_REGISTRATION_IN_PROGRESS","cleverpush.finishRemoteRegistrationInProgress"),s()(a,"POPUP_BEGIN_MESSAGEPORT_COMMS","cleverpush.beginMessagePortComms"),s()(a,"SERVICEWORKER_COMMAND_REDIRECT","cleverpush.command.redirect"),s()(a,"HTTP_PERMISSION_REQUEST_RESUBSCRIBE","cleverpush.httpPermissionRequestResubscribe"),s()(a,"MARK_PROMPT_DISMISSED","cleverpush.markPromptDismissed")},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(13),c=n.n(a),l=n(9),u=n.n(l),p=n(14),h=n.n(p),f=n(17),d=n(3),b=n(16),g=n(0),m=n(4),_=n(1),v=function(e){function t(e,n,i){var r;return o()(this,t),(r=c()(this,u()(t).call(this,e,n,i))).storageManager.initDb(),r.triggerEvent(d.a.INITIALIZED),r}return h()(t,e),s()(t,[{key:"isSubscribed",value:function(e){var t=this;if(void 0!==e&&e){if(!this.config.safariWebsitePushId)return!1;var n=window.safari.pushNotification.permission(this.config.safariWebsitePushId),i=n.permission,o=n.deviceToken;return!("granted"!==i||!o)&&this.storageManager.isSubscribed(!1,!0)}return new Promise((function(e){if(t.config.safariWebsitePushId){var n=window.safari.pushNotification.permission(t.config.safariWebsitePushId),i=n.permission,o=n.deviceToken;if("granted"===i&&o)return t.storageManager.isSubscribed().then((function(n){n?t.storageManager.checkIfShouldSync().then((function(n){n?t.sync().then((function(){e(!0)})).catch((function(t){g.b.warn("error while syncing",t),e(!0)})):e(!0)})):e(!1)}));e(!1)}else e(!1)}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,n){if(e.config.safariWebsitePushId&&e.config.safariWebsitePushId.length)if(e.config.domain||e.config.channelDomain){try{window.safari.pushNotification.requestPermission("https://",e.config.safariWebsitePushId,{},null)}catch(e){"string"==typeof e&&e.indexOf("user gesture")>-1||"string"==typeof e.message&&e.message.indexOf("user gesture")>-1||n(e)}e.storageManager.canSubscribe().then((function(i){i?e.isSubscribed().then((function(i){i?n(new m.a("User is already subscribed","subscribed")):"denied"===window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission?n(new m.a("User denied notifications","denied")):(e.config.isSafari_12_1&&e.api.getSyncParameters().then((function(t){e.cachedSyncParameters=t})),t(!0))})):n(new m.a("User has manually unsubscribed or denied notifications","unsubscribed"))})).catch((function(e){n(e)}))}else t(!1),g.b.warn("Channel domain is not set but required for safari.");else t(!1),g.b.warn("Safari web push ID not set.")}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,n){if(e.isSubscribed(!0))e.confirm&&e.confirm.hideBackdrop(),t();else if(e.isSubscribing)n(new b.a("A subscription process is already in progress."));else if(e.config.safariWebsitePushId){var i;e.isSubscribing=!0;!function o(r){var s=r.permission,a=r.deviceToken;if(i&&"default"!==s&&clearInterval(i),"default"===s){if(g.b.info("calling window.safari.pushNotification.requestPermission"),e.config.isSafari_12_1){e.cachedSyncParameters||(e.cachedSyncParameters=e.api.getSyncParameters(!0)),Object.keys(e.cachedSyncParameters||{}).forEach((function(t){null===e.cachedSyncParameters[t]&&delete e.cachedSyncParameters[t]}));try{window.safari.pushNotification.requestPermission(e.config.safariWebServiceUrl||"".concat(e.config.apiEndpoint,"/channel/").concat(e.config.channelId,"/safari"),e.config.safariWebsitePushId,e.cachedSyncParameters,o.bind(e))}catch(t){g.b.error("Safari error:",t),e.isSubscribing=!0,n(t)}}else e.api.getSyncParameters().then((function(t){try{window.safari.pushNotification.requestPermission(e.config.safariWebServiceUrl||"".concat(e.config.apiEndpoint,"/channel/").concat(e.config.channelId,"/safari"),e.config.safariWebsitePushId,t,o.bind(e))}catch(t){g.b.error("Safari error:",t),e.isSubscribing=!0,n(t)}}));i=setInterval((function(){var t=window.safari.pushNotification.permission(e.config.safariWebsitePushId);"default"!==t.permission&&o(t)}),100),setTimeout((function(){"default"===window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission&&(i&&clearInterval(i),e.confirm&&e.confirm.hideBackdrop(),e.storageManager.setClosed())}),3e4)}else"denied"===s?(e.confirm&&e.confirm.hideBackdrop(),e.isSubscribing=!0,n(new m.a(Object(_.b)("popup.info").formatCleverPush("<strong>"+(Object(_.b)("confirm.allowBrowser")||Object(_.b)("confirm.allow"))+"</strong>"),"denied"))):"granted"===s&&(e.confirm&&(e.confirm.hideBackdrop(),e.config.confirmAlertSelectTopicsLater&&e.confirm.appendConfirmBox(e.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0)),e.sync({deviceToken:a}).then((function(){e.isSubscribing=!1,e.triggerEvent(d.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),t(s)})))}(window.safari.pushNotification.permission(e.config.safariWebsitePushId))}else g.b.warn("Safari Website Push ID missing"),n(new m.a("Safari Website Push ID missing","internal"))}))}},{key:"unsubscribe",value:function(e){var t=this,n=this.storageManager.getSubscriptionId();return n?this.api.unsubscribe(n).then((function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(d.a.UNSUBSCRIBED)})):Promise.resolve()}},{key:"hasNotificationPermission",value:function(){return Promise.resolve("granted"===window.safari.pushNotification.permission(this.config.safariWebsitePushId).permission)}},{key:"getNotificationPermission",value:function(){return window.safari.pushNotification.permission(this.config.safariWebsitePushId).permission}}]),t}(f.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(13),c=n.n(a),l=n(10),u=n.n(l),p=n(14),h=n.n(p),f=n(48),d=n.n(f),b=n(9),g=n.n(b),m=n(18),_=n.n(m),v=n(17),w=n(0),y=n(16),x=n(19),M=n.n(x),E=n(2),k=function(e){function t(e,n,i){var r,s;if(o()(this,t),(r=c()(this,g()(t).call(this,e,n,i))).storageManager.initDb(),r.config=e,r.api=n,r.isSubscribing=!1,r.iframeMessenger=null,(window.opener||window.parent)===window)return document.write('<p style="font-size: 14px; color: red; font-family: sans-serif;">CleverPush: This page cannot be directly opened, and\nmust be opened as a result of a subscription call.</p>'),c()(r);if("undefined"!=typeof URLSearchParams&&location.search){var a=new URLSearchParams(location.search.slice(1));a.get("origin")&&(s=a.get("origin"))}w.b.debug("PenPal parentOrigin",s),M.a.debug=w.b.getLevel()<2;M.a.connectToParent({parentOrigin:s,methods:{subscribe:r.subscribe.bind(u()(r)),setSubscribed:r.setSubscribed.bind(u()(r)),setDenied:r.setDenied.bind(u()(r)),setClosed:r.setClosed.bind(u()(r)),setUnsubscribed:r.setUnsubscribed.bind(u()(r)),unsubscribe:r.unsubscribe.bind(u()(r)),isSubscribed:r.isSubscribed.bind(u()(r)),canSubscribe:r.canSubscribe.bind(u()(r)),setTopics:_()(g()(t.prototype),"setTopics",u()(r)).bind(u()(r)),getTopics:_()(g()(t.prototype),"getTopics",u()(r)).bind(u()(r)),getSubscriptionId:_()(g()(t.prototype),"getSubscriptionId",u()(r)).bind(u()(r)),hasNotificationPermission:_()(g()(t.prototype),"hasNotificationPermission",u()(r)).bind(u()(r)),getNotificationPermission:_()(g()(t.prototype),"getNotificationPermission",u()(r)).bind(u()(r)),setClickedNotification:_()(g()(t.prototype),"setClickedNotification",u()(r)).bind(u()(r)),getClickedNotification:_()(g()(t.prototype),"getClickedNotification",u()(r)).bind(u()(r)),getStoredNotifications:_()(g()(t.prototype),"getStoredNotifications",u()(r)).bind(u()(r)),deleteStoredNotification:_()(g()(t.prototype),"deleteStoredNotification",u()(r)).bind(u()(r)),setConfig:function(e){return d()(g()(t.prototype),"config",e,u()(r),!0),r.config=e,r.config.confirmAlertTestId&&r.api.setConfirmAlertTestId(r.config.confirmAlertTestId),Promise.resolve()},getStorage:function(){try{Promise.resolve({"cleverpush-subscription-id":localStorage.get("cleverpush-subscription-id"),"cleverpush-subscription-status":localStorage.get("cleverpush-subscription-status")})}catch(e){Promise.resolve({"cleverpush-subscription-id":void 0,"cleverpush-subscription-status":void 0})}}}});return!navigator.permissions||"Firefox"===E.a.name&&E.c<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){r.isSubscribing||("granted"!==window.Notification.permission?r.unsubscribe():r.isSubscribed((function(e){e||r.subscribe()})))}})),r}return h()(t,e),s()(t,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){try{e.storageManager.isSubscribed(!1,!1,!0).then((function(e){w.b.debug("Status: storage status:",e),t(e)}))}catch(e){t(!1)}}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t){try{e.storageManager.canSubscribe().then((function(n){n?e.isSubscribed().then((function(e){t(e?{result:!1,message:"User is already subscribed",reason:"subscribed"}:{result:!0})})):t({result:!1,message:"User has manually unsubscribed or denied notifications",reason:"unsubscribed"})}))}catch(e){t({result:!0})}}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,n){if(e.isSubscribing)w.b.error("A subscription process is already in progress."),n(new y.a);else{e.isSubscribing=!0;var i=function(){e.storageManager.isSubscribed().then((function(e){t({permission:"granted",serviceWorkerInstalled:e})}))};"default"===Notification.permission?Notification.requestPermission((function(n){e.isSubscribing=!1,"granted"===n?i():t({permission:n}),w.b.debug("HTTP Permission Request Result:",n)})):"denied"===Notification.permission?(e.isSubscribing=!1,t({permission:"denied"})):(e.isSubscribing=!1,w.b.debug("PermissionAlreadyGranted"),i())}}))}},{key:"setSubscribed",value:function(e){try{this.storageManager.setSubscribed(e,!0)}catch(e){}}},{key:"setDenied",value:function(){try{this.storageManager.setDenied()}catch(e){}}},{key:"setClosed",value:function(){try{this.storageManager.setClosed()}catch(e){}}},{key:"setUnsubscribed",value:function(e){try{this.storageManager.setUnsubscribed(e)}catch(e){}}},{key:"unsubscribe",value:function(e){var t=this;return new Promise((function(n){var i;try{i=t.storageManager.getSubscriptionId()}catch(e){}return i?t.api.unsubscribe(i).then((function(){try{t.storageManager.setUnsubscribed(e)}catch(e){}return n()})).catch((function(){return n()})):n()}))}}]),t}(v.a)},function(e,t,n){var i=n(37),o=n(7);function r(e,t,n,s){return(r="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var s,a=i(e,t);if(a){if((s=Object.getOwnPropertyDescriptor(a,t)).set)return s.set.call(r,n),!0;if(!s.writable)return!1}if(s=Object.getOwnPropertyDescriptor(r,t)){if(!s.writable)return!1;s.value=n,Object.defineProperty(r,t,s)}else o(r,t,n);return!0})(e,t,n,s)}e.exports=function(e,t,n,i,o){if(!r(e,t,n,i||e)&&o)throw new Error("failed to set property");return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(13),c=n.n(a),l=n(9),u=n.n(l),p=n(14),h=n.n(p),f=n(15),d=n.n(f),b=n(17),g=n(3),m=n(0),_=n(1),v=n(16),w=n(4),y=n(11),x=function(e){function t(e,n,i){var r;o()(this,t),(r=c()(this,u()(t).call(this,e,n,i))).config=e,r.isSubscribing=!1,r.popupMessenger=null;var s=localStorage.getItem("cleverpush-topics");if(s)try{r.topics=JSON.parse(s)}catch(e){}return Object(y.b)().then((function(){r.subscribe().then((function(e){m.b.debug(e);var t=document.getElementById("loading");t&&(t.style.display="none");var n=document.getElementById("status");n&&(n.style.display="none");var i=document.getElementById("success");i&&(i.style.display="block"),setTimeout((function(){window.onbeforeunload=null,window.opener?window.close():history.back()}),1e3)})).catch((function(e){if(m.b.error(e),"default"!==e.reason||!r.config.showConfirmAlertForce){var t=document.getElementById("loading");t&&(t.style.display="none");var n=document.getElementById("status");if(n&&(n.style.display="block",n.innerHTML="<h2>".concat(e?e.message||e.reason||e:"Unbekannter Fehler ist aufgetreten.","</h2>")),"denied"===e.reason||"default"===e.reason){window.onbeforeunload=null;var i=document.querySelector(".subscribe-helper-text");i&&(i.style.marginTop=0);var o=document.getElementById("unblock-tutorial");if(o){var s=new d.a,a=s.getBrowser().name,c=s.getOS().name;if(a=a.toLowerCase().replace(/\s/g,"").replace("chromium","chrome"),c=c.toLowerCase().replace(/\s/g,"").replace("macos","mac"),!("chrome"!==a&&"firefox"!==a&&"safari"!==a||"android"!==c&&"windows"!==c&&"mac"!==c)){var l=document.createElement("img");l.src="https://static.cleverpush.com/app/images/unblock-tutorial/".concat(a,"-").concat(c,".gif"),l.style.display="initial",o.appendChild(l),o.style.display="initial"}}}}}))})),r}return h()(t,e),s()(t,[{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,n){var i=e.config.alertLocalization||{},o=(navigator.language||navigator.userLanguage||"").substr(0,2);e.config.alertLocalizationTranslations&&o&&e.config.alertLocalizationTranslations[o]&&(i=Object.assign({},i,e.config.alertLocalizationTranslations[o]));var r={popupInfo:i.popupInfo||Object(_.b)("popup.info").formatCleverPush("<strong>".concat(Object(_.b)("confirm.allowBrowser")||Object(_.b)("confirm.allow"),"</strong>")),popupText:i.popupText||Object(_.b)("popup.text").formatCleverPush("<strong>".concat(e.config.channelName,"</strong>"))};if(e.isSubscribing)n(new v.a("A subscription process is already in progress."));else{e.isSubscribing=!0;var s=function(){e.registerWorker().then((function(t){return t.pushManager.subscribe(e.getPushManagerSubscribeOptions())})).then((function(n){e.sync(n).then((function(){e.isSubscribing=!1,e.triggerEvent(g.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),t("granted")}))})).catch((function(t){m.b.error(t),e.isSubscribing=!1,n(t)}))};if("default"===Notification.permission){var a=document.getElementById("status");a&&(a.style.display="block",a.innerHTML="<h2>".concat(r.popupInfo,"</h2><p>").concat(r.popupText,"</p>")),Notification.requestPermission((function(t){"granted"===t?s():(e.isSubscribing=!1,n(new w.a(r.popupInfo,t))),e.confirm&&e.confirm.hideBackdrop(),m.b.debug("HTTP Permission Request Result:",t)}))}else"denied"===Notification.permission?(e.isSubscribing=!1,n(new w.a(r.popupInfo,"denied"))):(m.b.debug("PermissionAlreadyGranted"),s())}}))}}]),t}(b.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(13),c=n.n(a),l=n(9),u=n.n(l),p=n(14),h=n.n(p),f=n(17),d=n(3),b=(n(16),n(0),n(4)),g=function(e){function t(e,n,i){var r;return o()(this,t),(r=c()(this,u()(t).call(this,e,n,i))).triggerEvent(d.a.INITIALIZED),r}return h()(t,e),s()(t,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){e.subscribed=!!e.storageManager.isSubscribed(!0,!0),t(e.subscribed)}))}},{key:"canSubscribe",value:function(){return new Promise((function(e,t){t(new b.a("User is already subscribed","subscribed"))}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){return new Promise((function(e,t){t()}))}},{key:"unsubscribe",value:function(e){var t=this,n=this.storageManager.getSubscriptionId();return n?this.api.unsubscribe(n).then((function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(d.a.UNSUBSCRIBED)})):Promise.resolve()}},{key:"hasNotificationPermission",value:function(){return Promise.resolve(!0)}},{key:"getNotificationPermission",value:function(){return Promise.resolve("granted")}}]),t}(f.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n(6),o=n.n(i),r=n(7),s=n.n(r),a=n(5),c=n.n(a),l=n(8),u=n.n(l),p=n(52),h=n.n(p),f=n(1),d=n(0),b=n(11),g=n(23);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var _=function(){function e(t,i,o,r,a){var l=this;c()(this,e),this.element=i,this.element&&(this.config=o,this.subscriptionManager=r,this.isSubscribed=this.subscriptionManager.subscribed,this.api=a,this.showTopics=!0,this.elementConfig=this.element.dataset||{},"cleverpush-widget"===this.element.className&&(this.elementConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:this.elementConfig.id},this.config.widgets.find((function(e){return e._id===l.elementConfig.id}))||{},{type:"widget"})),this.id=this.elementConfig.id||t,n(80),this.subscriptionManager.isSubscribed().then((function(e){if(l.show(e),l.elementConfig.id&&l.element)if(Object(b.g)(l.element))l.trackShown();else{window.addEventListener("scroll",(function e(){Object(b.g)(l.element)&&(window.removeEventListener("scroll",e),l.trackShown())}),!1)}})),this.channelTopics=(this.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.location.pathname)),t})),this.facebookEnabled=!1,this.config.facebookPageId&&this.config.facebookPageId.length&&(this.facebookEnabled=!0,this.facebookUserRef=this.subscriptionManager.storageManager.getFacebookUserRef(),this.facebookUserRef||(this.facebookUserRef="".concat(this.config.channelId,"-"),this.facebookUserRef+=Math.random().toString(36).slice(2))))}return u()(e,[{key:"trackShown",value:function(){try{var e=parseInt(sessionStorage.getItem("cleverpush-widget-viewed-"+this.elementConfig.id),10);(isNaN(e)||!e||e+432e5<Date.now())&&(this.api.trackWidget(this.elementConfig.id,"confirm-alert"),sessionStorage.setItem("cleverpush-widget-viewed-"+this.elementConfig.id,Date.now()+""))}catch(e){d.b.debug(e)}}},{key:"objss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},i=function(e){return function(t){return"number"==typeof t?h()(e,t):t}},r=function(e){return function(t){return{key:t,prop:n(t),value:e[t]}}},s=function(e){return Object.keys(e).map(r(e))},a=function(e){return/^:/.test(e)?"&"+e:/^@/.test(e)?e:"& "+e},c=function(e,t){return t.newline?"\n  ".concat(e.split("\n").join("\n  "),"\n"):e},l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(t).filter((function(e){return null!==e.value})).map((function(t){return"object"===o()(t.value)?{parent:a(t.prop),value:e(t.value,n)}:t})).map((function(e){var t=e.parent,o=e.prop,r=e.key,s=e.value;return t?"".concat(t," { ").concat(c(s,n)," }"):"".concat(o,": ").concat(i(r)(s),";")})).join(n.newline?"\n":"")};return l(e,t)}},{key:"getSelectedTopics",value:function(){Object(d.c)("getSelectedTopics");var e=(this.channelTopics||[]).map((function(e){return e._id}));if(this.element){var t=this.element.querySelectorAll('input[name="topics[]"]');e=[];for(var n=0;n<t.length;n+=1)"checkbox"!==t[n].type&&"radio"!==t[n].type||!t[n].checked||e.push(t[n].value)}return e}},{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">Powered by CleverPush</a>')),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.privacyPolicyText||Object(f.b)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"show",value:function(e){var t,n=this;if(this.isSubscribed=e,this.element.id="".concat(this.element.className,"-").concat(this.id),"cleverpush-widget"===this.element.className){try{if("hidden"===localStorage.getItem("cleverpush-widget-status-"+this.elementConfig.id))return}catch(e){}if(!this.elementConfig.showSubscribed&&this.isSubscribed)return void(this.element&&(this.element.style.display="none"));this.element&&(this.element.style.display="")}var i=function(){n.button=n.element.querySelector(".cleverpush-content-button-btn-subscribe, .cleverpush-widget-allow-button"),n.button&&(n.button.addEventListener("click",n.onClick.bind(n)),n.element&&n.element.dataset&&(n.element.dataset.buttonBackgroundColor&&(n.button.style.backgroundColor=n.element.dataset.buttonBackgroundColor),n.element.dataset.buttonColor&&(n.button.style.color=n.element.dataset.buttonColor))),n.denyButton=n.element.querySelector(".cleverpush-widget-deny-button"),n.denyButton&&n.denyButton.addEventListener("click",n.onClickDeny.bind(n)),n.unsubscribeButton=n.element.querySelector(".cleverpush-content-button-btn-unsubscribe, .cleverpush-widget-unsubscribe-button"),n.unsubscribeButton&&(n.unsubscribeButton.addEventListener("click",n.onClickUnsubscribe.bind(n)),n.element&&n.element.dataset&&n.element.dataset.buttonBackgroundColor&&n.unsubscribeButton.style.setProperty("border-color",n.element.dataset.buttonBackgroundColor,"important")),n.topicSelection=n.element.querySelector(".cleverpush-content-button-topics"),n.saveTopicsButton=n.element.querySelector(".cleverpush-content-button-save-topics-button"),n.saveTopicsButton&&(n.element.dataset.buttonBackgroundColor&&(n.saveTopicsButton.style.backgroundColor=n.element.dataset.buttonBackgroundColor),n.saveTopicsButton.addEventListener("click",n.saveTopics.bind(n))),n.reset(e)},o='\n<div class="cleverpush-content-button-btn-wrap">\n<button class="cleverpush-content-button-btn cleverpush-content-button-btn-subscribe">'.concat(this.elementConfig.allowButtonText||this.elementConfig.buttonText||Object(f.b)("bell.subscribe"),'</button>\n<button class="cleverpush-content-button-btn cleverpush-content-button-btn-unsubscribe" title="').concat(Object(f.b)("unsubscribe.title"),'" style="display: none;">&times;</button>\n</div>\n');this.facebookEnabled&&("facebook"===CleverPush.browserType&&(o=""),this.config.facebookDoubleOptIn&&!this.facebookDoubleOptInConfirmed&&(o+='\n        <div style="margin-top: 15px; margin-bottom: 5px; font-weight: bold;" class="cleverpush-confirm-messenger-title">Facebook Messenger</div>\n        <div class="cleverpush-topics cleverpush-confirm-topics"><div><label><input type="'.concat(this.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" id="cleverpush-facebook-checkbox"> Ich möchte den Facebook-Newsletter und akzeptiere die <a href="').concat(this.config.privacyPolicyUrl,'">Datenschutzerklärung</a></label></div></div>')),o+='<div class="fb-messenger-checkbox-wrap"><div class="fb-send-to-messenger" origin="'.concat(location.origin,'" page_id="').concat(this.config.facebookPageId,'" messenger_app_id="').concat(this.config.facebookAppId,'" user_ref="').concat(this.facebookUserRef,'" allow_login="true" size="large" style="margin-top: 10px;"></div></div>'));var r="";if(this.channelTopics&&this.channelTopics.length&&this.subscriptionManager.getTopics().then((function(i){r+='<div class="cleverpush-topics cleverpush-content-button-topics">',n.channelTopics.filter((function(e){return!e.parentTopic})).sort((function(e,t){return e.sort-t.sort})).forEach((function(t){var o=Object(f.a)(t.name),s=n.channelTopics.filter((function(e){return e.parentTopic===t._id}));r+='<div><label><input type="'.concat(n.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(t._id,'"').concat(!e&&!t.defaultUnchecked||i&&i.indexOf(t._id)>-1?' checked="checked"':"","> ").concat(o,"</label></div>"),s.length&&s.forEach((function(t){var o=Object(f.a)(t.name);r+='<div class="topic-child" style="margin-left: 20px; font-size: 90%"><label><input type="'.concat(n.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(t._id,'" ').concat(!e&&!t.defaultUnchecked||i&&i.indexOf(t._id)>-1?"checked":"","> ").concat(o,"</label></div>")}))})),r+='<button type="button" class="cleverpush-content-button-save-topics-button cleverpush-content-button-btn" style="display: none;">'.concat(Object(f.b)("panel.save"),"</button>"),r+="</div>",t()})),(t="widget"===this.elementConfig.type?function(){var e="\n        ".concat(n.elementConfig.showIcon?'<div class="cleverpush-widget-icon">\n          '.concat(n.elementConfig.iconUrl?'<img src="'.concat(n.elementConfig.iconUrl||"",'" style="max-width: 100%;" />'):'<img src="'.concat("https://static.cleverpush.com/sdk/assets/bell.svg",'" style="opacity: 0.25; max-width: 100%;" />'),"\n        </div>"):"",'\n        <div class="cleverpush-widget-content">\n          ').concat(n.elementConfig.showContent?'<div class="cleverpush-widget-title" style="'.concat(n.objss(n.elementConfig.titleStyle),'">').concat(n.elementConfig.title||"","</div>"):"","\n          ").concat(n.elementConfig.showContent?'<div class="cleverpush-widget-text">'.concat(n.elementConfig.text||"","</div>"):"","\n          ").concat(n.elementConfig.showTopics?'<div class="cleverpush-widget-text">'.concat(r,"</div>"):"",'\n          <div class="cleverpush-widget-buttons">\n            ').concat(n.elementConfig.showDenyButton&&!n.isSubscribed?'<button type="button" class="cleverpush-widget-deny-button">'.concat(n.elementConfig.denyButtonText||"Ablehnen","</button>"):"","\n            ").concat(n.isSubscribed?'\n            <button type="button" class="cleverpush-widget-unsubscribe-button">'.concat(n.elementConfig.denyButtonText||n.elementConfig.unsubscribeButtonText||"Push-Nachrichten deaktivieren","</button>\n            "):'\n            <button type="button" class="cleverpush-widget-allow-button">'.concat(n.elementConfig.allowButtonText||"Akzeptieren","</button>"),"\n          </div>\n        </div>\n          "),t="\n        #".concat("cleverpush-widget-"+n.elementConfig.id," { ").concat(n.objss(n.elementConfig.style||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-content { ").concat(n.objss(n.elementConfig.contentStyle||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-title { ").concat(n.objss(n.elementConfig.titleStyle||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-buttons { ").concat(n.objss(n.elementConfig.buttonsStyle||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-icon { ").concat(n.objss(n.elementConfig.iconStyle||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-field { ").concat(n.objss(n.elementConfig.fieldStyle||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-field label { ").concat(n.objss(n.elementConfig.labelStyle||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-allow-button, .cleverpush-widget-unsubscribe-button { ").concat(n.objss(n.elementConfig.allowButtonStyle||{})," }\n        #").concat("cleverpush-widget-"+n.elementConfig.id," .cleverpush-widget-deny-button { ").concat(n.objss(n.elementConfig.denyButtonStyle||{})," }\n        ");n.styleElem||(n.styleElem=document.createElement("style"),document.head.appendChild(n.styleElem)),n.styleElem.innerHTML="".concat(t.replace(/"/g,'\\"').replace(/(\r\n|\n|\r)/gm,"")),n.element.innerHTML=e,i()}:"box-simple"===this.elementConfig.type||"box-count"===this.elementConfig.type?function(){n.element.innerHTML='<div class="cleverpush-content-button-box cleverpush-content-button-'.concat(n.elementConfig.type,'">')+'<div class="cleverpush-content-button-top">'+'  <div class="cleverpush-content-button-icon" style="background-image: url(\''.concat(n.config.channelIcon,"')\"></div>")+'  <div class="cleverpush-content-button-body">'+'    <div class="cleverpush-content-button-title">'.concat(n.elementConfig.title||n.config.channelName,"</div>")+'    <div class="cleverpush-content-button-text">'.concat(n.elementConfig.text||Object(f.b)("confirm.info"),"</div>")+'  </div></div><div class="cleverpush-content-button-bottom">'+r+o+'  <div class="cleverpush-clearfix"></div></div><div class="cleverpush-content-button-branding">'+"  <span>\n               ".concat(n.getBrandingLinks(),"\n             </span>")+"</div></div>",i()}:function(){n.element.className+=" cleverpush-content-button-simple",n.element.innerHTML=o,i()})(),this.facebookEnabled){var s=function(){g.a.initFacebook((function(){"undefined"!=typeof FB&&FB.XFBML.parse()}))};this.config.facebookDoubleOptIn?(this.facebookDoubleOptInConfirmed=!0,this.facebookConfirmCheckbox=this.element.querySelector("#cleverpush-facebook-checkbox"),this.facebookConfirmCheckbox&&this.facebookConfirmCheckbox.addEventListener("click",(function(){s()}))):s()}}},{key:"reset",value:function(e){this.isSubscribed=e,this.button&&(e?(this.button.className+=" disabled",this.button.innerHTML=this.elementConfig.denyButtonText||this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(f.b)("bell.subscribed"),this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important")):(this.button.className.replace(" disabled",""),this.button.innerHTML=this.elementConfig.allowButtonText||this.elementConfig.buttonText||Object(f.b)("bell.subscribe"),this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.removeProperty("border-color"))),this.unsubscribeButton&&(this.unsubscribeButton.style.display=e?"":"none"),this.topicSelection&&(this.topicSelection.style.display=e&&!this.showTopics?"none":""),this.saveTopicsButton&&(this.saveTopicsButton.style.display=e?"":"none")}},{key:"onClick",value:function(e){var t=this;if(e.preventDefault(),this.isSubscribed)this.subscriptionManager.unsubscribe(!1).then((function(){}));else{if(this.config.multiChannels&&this.config.multiChannels.telegramChannel&&this.config.multiChannels.telegramChannel._id===this.elementConfig.channel&&this.config.multiChannels.telegramChannel._id!==this.config.channelId)return void window.open("https://t.me/".concat(this.config.multiChannels.telegramChannel.telegramUsername));if(this.config.multiChannels&&this.config.multiChannels.facebookChannel&&this.config.multiChannels.facebookChannel._id===this.elementConfig.channel&&this.config.multiChannels.facebookChannel._id!==this.config.channelId)return void window.open("https://m.me/".concat(this.config.multiChannels.facebookChannel.facebookPage.id));var n;this.api.widgetId=this.id,this.api.confirmAlertShown(),this.subscriptionManager.setTopics(this.getSelectedTopics()),this.button.innerHTML='<div class="cleverpush-loader"><div></div><div></div><div></div><div></div></div>',this.config.confirmAlertSelectTopicsLater&&(n=!0,this.config.confirmAlertSelectTopicsLater=!1),this.elementConfig.assignTags&&this.elementConfig.tags&&this.elementConfig.tags.length&&this.subscriptionManager&&this.subscriptionManager.initialTags&&this.elementConfig.tags.forEach((function(e){t.subscriptionManager.initialTags.push(e)})),this.elementConfig.assignTopics&&this.elementConfig.topics&&this.elementConfig.topics.length&&this.subscriptionManager&&this.subscriptionManager.topics&&this.elementConfig.topics.forEach((function(e){t.subscriptionManager.topics.push(e)})),this.subscriptionManager.subscribeForce(this.isSubscribed).then((function(e){n&&(t.config.confirmAlertSelectTopicsLater=!0)})).catch((function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?d.b.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)}))}}},{key:"onClickDeny",value:function(e){e.preventDefault(),this.element.style.display="none";try{localStorage.setItem("cleverpush-widget-status-"+this.elementConfig.id,"hidden")}catch(e){}}},{key:"onClickUnsubscribe",value:function(e){e.preventDefault(),this.subscriptionManager.unsubscribe(!1).then((function(){}))}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.saveTopicsButton.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important");var n=function(e){e?(t.saveTopicsButton.innerHTML='<span style="color: #009222">'.concat(Object(f.b)("panel.successfullySaved"),"</span>"),setTimeout((function(){t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(f.b)("panel.save"),t.savingTopics=!1}),2e3)):(t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(f.b)("panel.save"),t.savingTopics=!1)},i=this.getSelectedTopics();this.subscriptionManager.setTopics(i).then((function(){t.subscriptionManager.sync(!1,i).then((function(){n(!0)})).catch((function(){n(!1)}))})).catch((function(){n(!1)}))}}}]),e}()},function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!=typeof t||n[e]?t:t+"px"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(1),c=n(0),l=n(2),u=function(){function e(t,i,r,s,a){o()(this,e),this.id=t,this.element=i,this.element?(this.config=r,this.subscriptionManager=s,this.api=a,this.pushSupported=!1,this.channelTopics=(this.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.location.pathname)),t})),this.elementConfig=this.element.dataset||{},n(82),this.show(!1,void 0)):c.b.debug("MultiPlatformWidget: element not found")}return s()(e,[{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">Powered by CleverPush</a>')),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.privacyPolicyText||Object(a.b)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"getSelectedTopics",value:function(){Object(c.c)("getSelectedTopics");var e=(this.channelTopics||[]).map((function(e){return e._id}));if(this.element){var t=this.element.querySelectorAll('input[name="topics[]"]');e=[];for(var n=0;n<t.length;n+=1)"checkbox"!==t[n].type&&"radio"!==t[n].type||!t[n].checked||e.push(t[n].value)}return e}},{key:"getMessengerParam",value:function(){var e="undefined"!=typeof localStorage&&localStorage.getItem("cleverpush-subscription-id")||"";if(e&&window.btoa)try{return window.btoa(JSON.stringify({connSubId:e}))}catch(e){}return""}},{key:"show",value:function(e,t){var n=this;Object(c.c)("MultiPlatformWidget.show",e,t),this.element.id="cleverpush-multi-platform-widget-".concat(this.id);var i=function(e){n.element&&n.element.dataset&&(n.element.dataset.buttonBackgroundColor&&(e.style.backgroundColor=n.element.dataset.buttonBackgroundColor),n.element.dataset.buttonColor&&(e.style.color=n.element.dataset.buttonColor))},o="",r="";e&&"true"!==this.elementConfig.pushDisabled&&(o='\n<div class="cleverpush-multi-platform-widget-btn-wrap">\n<button class="cleverpush-multi-platform-widget-btn cleverpush-multi-platform-widget-btn-subscribe"><i class="cleverpush-icon cleverpush-icon-bell"></i>'.concat(this.elementConfig.buttonText||Object(a.b)("bell.subscribe"),'</button>\n<button class="cleverpush-multi-platform-widget-btn cleverpush-multi-platform-widget-btn-unsubscribe" title="').concat(Object(a.b)("unsubscribe.title"),'" style="display: none;">&times;</button>\n<button class="cleverpush-multi-platform-widget-btn cleverpush-multi-platform-widget-btn-settings" title="').concat(Object(a.b)("panel.editTopics"),'" style="display: none;">').concat(Object(a.b)("panel.settings"),"</button>\n</div>\n"));var s="";this.config.multiChannels&&this.config.multiChannels.facebookChannel&&this.config.multiChannels.facebookChannel.facebookPage&&this.config.multiChannels.facebookChannel.facebookPage.id&&(s='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-facebookchannel">\n<a href="https://m.me/'.concat(this.config.multiChannels.facebookChannel.facebookPage.id,"?ref=").concat(this.getMessengerParam(),'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-facebook"></i>Facebook Messenger</a>\n</div>\n'));var u="";this.config.multiChannels&&this.config.multiChannels.telegramChannel&&this.config.multiChannels.telegramChannel.telegramUsername&&(u='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-telegramchannel">\n<a href="https://t.me/'.concat(this.config.multiChannels.telegramChannel.telegramUsername,"?start=").concat(this.getMessengerParam(),'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-telegram"></i>Telegram</a>\n</div>\n'));var p="";this.config.multiChannels&&this.config.multiChannels.appChannel&&("Android"===l.m.name&&this.config.multiChannels.appChannel.androidPackageName?p='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-appchannel">\n<a href="https://play.google.com/store/apps/details?id='.concat(this.config.multiChannels.appChannel.androidPackageName,'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-android"></i>Android App</a>\n</div>\n'):"iOS"===l.m.name&&this.config.multiChannels.appChannel.iosStoreId&&(p='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-appchannel">\n<a href="https://apps.apple.com/us/app/cleverpush/id'.concat(this.config.multiChannels.appChannel.iosStoreId,'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-ios"></i>iOS App</a>\n</div>\n')));var h=function(){n.element.innerHTML='<div class="cleverpush-multi-platform-widget-box cleverpush-multi-platform-widget-'.concat(n.elementConfig.type,'">')+'<div class="cleverpush-multi-platform-widget-top">'+'  <div class="cleverpush-multi-platform-widget-icon" style="background-image: url(\''.concat(n.config.channelIcon,"')\"></div>")+'  <div class="cleverpush-multi-platform-widget-body">'+'    <div class="cleverpush-multi-platform-widget-title">'.concat(n.elementConfig.title||n.config.channelName,"</div>")+'    <div class="cleverpush-multi-platform-widget-text">'.concat(n.elementConfig.text||"","</div>")+'  </div></div><div class="cleverpush-multi-platform-widget-bottom">'+o+r+s+u+p+'  <div class="cleverpush-clearfix"></div></div><div class="cleverpush-multi-platform-widget-branding">'+"  <span>\n               ".concat(n.getBrandingLinks(),"\n             </span>")+"</div></div>",n.button=n.element.querySelector(".cleverpush-multi-platform-widget-btn-subscribe"),n.button&&(n.button.addEventListener("click",n.onClick.bind(n)),i(n.button)),n.unsubscribeButton=n.element.querySelector(".cleverpush-multi-platform-widget-btn-unsubscribe"),n.unsubscribeButton&&(n.unsubscribeButton.addEventListener("click",n.onClickUnsubscribe.bind(n)),n.element&&n.element.dataset&&n.element.dataset.buttonBackgroundColor&&n.unsubscribeButton.style.setProperty("border-color",n.element.dataset.buttonBackgroundColor,"important")),n.topicSelection=n.element.querySelector(".cleverpush-topics"),n.settingsButton=n.element.querySelector(".cleverpush-multi-platform-widget-btn-settings"),n.settingsButton&&(n.settingsButton.addEventListener("click",n.onClickSettings.bind(n)),i(n.settingsButton)),n.saveTopicsButton=n.element.querySelector(".cleverpush-multi-platform-widget-save-topics-button"),n.saveTopicsButton&&(n.saveTopicsButton.addEventListener("click",n.saveTopics.bind(n)),i(n.saveTopicsButton)),n.reset(e,t)};h(),this.channelTopics&&this.channelTopics.length&&this.subscriptionManager&&this.subscriptionManager.getTopics().then((function(e){r+='<div class="cleverpush-topics cleverpush-multi-platform-widget-topics" style="display: none">',n.channelTopics.filter((function(e){return!e.parentTopic})).sort((function(e,t){return e.sort-t.sort})).forEach((function(i){var o=Object(a.a)(i.name),s=n.channelTopics.filter((function(e){return e.parentTopic===i._id}));r+='<div><label><input type="'.concat(n.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(i._id,'"').concat(!t&&!i.defaultUnchecked||e&&e.indexOf(i._id)>-1?' checked="checked"':"","> ").concat(o,"</label></div>"),s.length&&s.forEach((function(e){var t=Object(a.a)(e.name);r+='<div class="topic-child" style="margin-left: 20px; font-size: 90%"><label><input type="'.concat(n.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(e._id,'" ').concat(e.defaultUnchecked?"":"checked","> ").concat(t,"</label></div>")}))})),r+='<button type="button" class="cleverpush-multi-platform-widget-save-topics-button cleverpush-multi-platform-widget-btn">'.concat(Object(a.b)("panel.save"),"</button>"),r+="</div>",h()}))}},{key:"reset",value:function(e,t){this.button&&(t?(this.button.innerHTML='<i class="cleverpush-icon cleverpush-icon-bell"></i>'+(this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(a.b)("bell.subscribed")),this.button.disabled=!0,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important")):(this.button.innerHTML='<i class="cleverpush-icon cleverpush-icon-bell"></i>'+(this.elementConfig.buttonText||Object(a.b)("bell.subscribe")),this.button.disabled=!1,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.removeProperty("border-color"))),this.unsubscribeButton&&(this.unsubscribeButton.style.display=t?"block":"none"),this.settingsButton&&this.topicSelection&&(this.settingsButton.style.display=t?"block":"none")}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.saveTopicsButton.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important");var n=function(e){e?(t.saveTopicsButton.innerHTML='<span style="color: #009222">'.concat(Object(a.b)("panel.successfullySaved"),"</span>"),setTimeout((function(){t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(a.b)("panel.save"),t.savingTopics=!1}),2e3)):(t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(a.b)("panel.save"),t.savingTopics=!1)},i=this.getSelectedTopics();this.subscriptionManager.setTopics(i).then((function(){t.subscriptionManager.sync(!1,i).then((function(){n(!0)})).catch((function(){n(!1)}))})).catch((function(){n(!1)}))}}},{key:"onClick",value:function(e){var t=this;e.preventDefault(),this.api.confirmAlertShown(),this.button.innerHTML='<div class="cleverpush-loader"><div></div><div></div><div></div><div></div></div>',this.subscriptionManager.subscribe(!0).then((function(e){})).catch((function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?c.b.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)}))}},{key:"onClickUnsubscribe",value:function(e){e.preventDefault(),this.subscriptionManager.unsubscribe(!1).then((function(){}))}},{key:"onClickSettings",value:function(e){e.preventDefault(),this.topicSelection&&(this.topicSelection.style.display=this.settingsVisible?"none":"block",this.settingsVisible=!this.settingsVisible)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(1),c=n(0),l=function(){function e(t,n,i,r,s){var a=this;o()(this,e),this.id=t,this.element=n,this.element&&(this.config=i,this.subscriptionManager=r,this.api=s,this.isSubscribed=!1,this.hasTag=!1,this.elementConfig=this.element.dataset||{},this.subscriptionManager.storageManager.hasTag(this.elementConfig.tag).then((function(e){a.hasTag=e})),this.subscriptionManager.isSubscribed().then((function(e){a.reset(e)})),this.element&&(this.element.addEventListener("click",this.onClick.bind(this)),this.element.addEventListener("touchstart",this.onClick.bind(this))))}return s()(e,[{key:"reset",value:function(e){this.isSubscribed=e,this.element&&(e&&this.hasTag?this.element.innerHTML=this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(a.b)("bell.subscribed"):this.element.innerHTML=this.elementConfig.buttonText||Object(a.b)("bell.subscribe"))}},{key:"onClick",value:function(e){var t=this;e.preventDefault();var n=function(e){t.hasTag?(t.api.untagSubscription(e,t.elementConfig.tag),t.subscriptionManager.storageManager.removeTag(t.elementConfig.tag)):(t.api.tagSubscription(e,t.elementConfig.tag),t.subscriptionManager.storageManager.addTag(t.elementConfig.tag)),t.hasTag=!t.hasTag,t.reset(t.isSubscribed)};this.isSubscribed?this.subscriptionManager.getSubscriptionId().then((function(e){n(e)})):(this.api.confirmAlertShown(),this.subscriptionManager.subscribe(!0).then((function(e){e?n(e):t.subscriptionManager.getSubscriptionId().then((function(e){n(e)}))})).catch((function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?c.b.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)})))}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(1),c=n(0),l=function(){function e(t,n,i,r,s){var a=this;o()(this,e),this.id=t,this.element=n,this.element&&(this.config=i,this.subscriptionManager=r,this.api=s,this.isSubscribed=!1,this.hasTopic=!1,this.topics=[],this.elementConfig=this.element.dataset||{},this.subscriptionManager.storageManager.getTopics().then((function(e){a.topics=e,a.hasTopic=e.indexOf(a.elementConfig.topic)>-1,a.subscriptionManager.isSubscribed().then((function(e){a.reset(e)}))})),this.element&&this.element.addEventListener("click",this.onClick.bind(this)))}return s()(e,[{key:"reset",value:function(e){this.isSubscribed=e,this.element&&(e&&this.hasTopic?this.element.innerHTML=this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(a.b)("bell.subscribed"):this.element.innerHTML=this.elementConfig.buttonText||Object(a.b)("bell.subscribe")),this.toggleButtons(!1)}},{key:"toggleButtons",value:function(e){Object(c.c)("toggleButtons");for(var t=0;t<CleverPush.topicButtons.length;t+=1){CleverPush.topicButtons[t].element.disabled=e}}},{key:"onClick",value:function(e){var t=this;e.preventDefault(),this.toggleButtons(!0);var n=function(e){var n=t.topics.indexOf(t.elementConfig.topic);n>-1?t.topics.splice(n,1):t.topics.push(t.elementConfig.topic),t.hasTopic=!t.hasTopic,t.subscriptionManager.setTopics(t.topics).then((function(){t.subscriptionManager.sync(!1,t.topics).then((function(){t.reset(!0)})).catch((function(){t.reset(!1)}))})).catch((function(){t.reset(!1)}))};this.isSubscribed?this.subscriptionManager.getSubscriptionId().then((function(e){n()})):(this.api.confirmAlertShown(),this.subscriptionManager.subscribe(!0).then((function(e){e?n():t.subscriptionManager.getSubscriptionId().then((function(e){n()}))})).catch((function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?c.b.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message),t.toggleButtons(!1)})))}}]),e}()},function(e,t,n){"use strict";function i(e){var t=!1,n=document.createElement("div");n.innerHTML="&nbsp;",n.className="adsbox",document.body.appendChild(n),window.setTimeout((function(){0===n.offsetHeight&&(t=!0),n.remove(),e(t)}),100)}n.d(t,"a",(function(){return i}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return checkTags}));var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__),_debug__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),autoAssignTagMatches=function autoAssignTagMatches(tag,pathname,callback){if(tag.autoAssignPath){var path=tag.autoAssignPath;if("[EMPTY]"===path&&(path=""),!new RegExp(path).test(pathname))return;if(!tag.autoAssignFunction&&!tag.autoAssignSelector)return callback(!0)}if(tag.autoAssignFunction)try{if(tag.autoAssignCheckInterval&&!isNaN(tag.autoAssignCheckInterval)){var interval=setInterval((function(){try{var matches=!!eval(tag.autoAssignFunction);matches&&(clearInterval(interval),callback(!0))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.b.trace(e)}}),tag.autoAssignCheckInterval);return null}return callback(!!eval(tag.autoAssignFunction))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.b.trace(e)}if(tag.autoAssignSelector)try{for(var triggerElems=document.querySelectorAll(tag.autoAssignSelector),triggerElemIndex=0;triggerElemIndex<triggerElems.length;triggerElemIndex+=1){var triggerElem=triggerElems[triggerElemIndex];triggerElem&&triggerElem.addEventListener("click",(function(){callback(!0)}))}return null}catch(e){_debug__WEBPACK_IMPORTED_MODULE_1__.b.trace(e)}return callback(!1)},checkTags=function(e,t,n,i,o){Object(_debug__WEBPACK_IMPORTED_MODULE_1__.c)("checkTags",e,t,o),e&&e.length&&"undefined"!=typeof localStorage&&e.forEach((function(e){autoAssignTagMatches(e,o,(function(t){if(_debug__WEBPACK_IMPORTED_MODULE_1__.b.debug("autoAssignTagMatches callback"),t){var o,r=isNaN(e.autoAssignVisits)?0:e.autoAssignVisits,s="cleverpush-tag-autoAssignVisits-"+e._id,a=e.autoAssignSessionVisits?sessionStorage:localStorage,c=(new Date).toISOString().substr(0,10);e.autoAssignDays&&(o=new Date).setDate(o.getDate()-e.autoAssignDays);var l=a.getItem(s),u=0,p={};if(e.autoAssignDays)try{p=JSON.parse(l)||{},"object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(p)&&(p={}),Object.keys(p||{}).forEach((function(e){new Date(e)>=o?u+=p[e]||0:delete p[e]}))}catch(e){p={}}else"string"!=typeof l||isNaN(l)||(u=parseInt(l,10));var h=isNaN(e.autoAssignSessions)?0:e.autoAssignSessions,f="cleverpush-tag-autoAssignSessions-"+e._id,d="cleverpush-tag-autoAssignSessionsCounted-"+e._id,b=localStorage.getItem(f),g=0,m={};if(e.autoAssignDays)try{m=JSON.parse(b)||{},"object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(m)&&(m={}),Object.keys(m||{}).forEach((function(e){new Date(e)>=o?g+=m[e]||0:delete m[e]}))}catch(e){m={}}else"string"!=typeof b||isNaN(b)||(g=parseInt(b,10));g>=h?u>=r?!isNaN(e.autoAssignSeconds)&&e.autoAssignSeconds?setTimeout((function(){n(e._id)}),1e3*e.autoAssignSeconds):n(e._id):e.autoAssignDays?(p[c]||(p[c]=0),p[c]+=1,i().then((function(){localStorage.setItem(s,JSON.stringify(p))}))):(u+=1,i().then((function(){a.setItem(s,u.toString())}))):e.autoAssignDays?(p[c]||(p[c]=0),p[c]+=1,i().then((function(){localStorage.setItem(s,JSON.stringify(p))})),"true"!==sessionStorage.getItem(d)&&(m[c]||(m[c]=0),m[c]+=1,i().then((function(){sessionStorage.setItem(d,"true"),localStorage.setItem(f,JSON.stringify(m))})))):(u+=1,i().then((function(){a.setItem(s,u.toString())})),"true"!==sessionStorage.getItem(d)&&(g+=1,i().then((function(){sessionStorage.setItem(d,"true"),localStorage.setItem(f,g.toString())}))))}}))}))}},function(e,t,n){"use strict";t.a="@media (min-width: 768px) {\n        .cleverpush-confirm-branding {\n            bottom: 0 !important;\n            left: 0 !important;\n        }\n\n        .cleverpush-confirm-buttons {\n            max-width: calc(100% - 80px);\n            margin-left: auto !important;\n        }\n    }"},function(e,t,n){"use strict";var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(13),c=n.n(a),l=n(9),u=n.n(l),p=n(18),h=n.n(p),f=n(14),d=n.n(f),b=n(19),g=n.n(b),m=n(17),_=n(0),v=(n(30),n(16)),w=n(4),y=n(3),x=n(1),M=n(2);n.d(t,"a",(function(){return E}));var E=function(e){function t(e,n,i){var r;if(o()(this,t),(r=c()(this,u()(t).call(this,e,n,i))).storageManager.initDb(),e.loadIframe&&r.config.subdomain){var s="https://".concat(r.config.subdomain,".").concat(r.config.cleverpushDomain||"cleverpush.com"),a=document.createElement("div");a.style.display="none",document.body.appendChild(a),g.a.debug=_.b.getLevel()<2;var l=g.a.connectToChild({url:"".concat(s,"/iframe?origin=").concat(encodeURIComponent(location.origin)),appendTo:a,timeout:3e4});l.iframe.style.display="none",l.promise.then((function(e){_.b.debug("child ready",e),r.iframeMessenger=e,e.setConfig(r.config).then((function(){r.triggerEvent(y.a.INITIALIZED)}))})).catch((function(e){_.b.error("iFrame connection error",e),r.triggerEvent(y.a.INITIALIZED)}))}else r.triggerEvent(y.a.INITIALIZED);return!navigator.permissions||"Firefox"===M.a.name&&M.c<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){r.isSubscribing||("granted"!==window.Notification.permission&&r.triggerEvent(y.a.UNSUBSCRIBED),"denied"===window.Notification.permission?r.unsubscribe():r.isSubscribed().then((function(e){e||r.triggerEvent(y.a.PERMISSION_RE_GRANTED)})))}})),r}return d()(t,e),s()(t,[{key:"unsubscribe",value:function(e){var n=this;return this.iframeMessenger?this.iframeMessenger.getSubscriptionId().then((function(i){return n.iframeMessenger.unsubscribe(!0).then((function(){return h()(u()(t.prototype),"unsubscribe",n).call(n,e,i)}))})):h()(u()(t.prototype),"unsubscribe",this).call(this,e)}},{key:"isSubscribedViaSubdomain",value:function(){return!0}},{key:"replaceRootWorker",value:function(){var e=this;return new Promise((function(t){"granted"===window.Notification.permission&&navigator.serviceWorker&&"/"===e.getWorkerScope()&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.scriptURL&&navigator.serviceWorker.controller.scriptURL.indexOf(e.getWorkerPath())<0?(_.b.debug("replacing root service worker..."),navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(e){_.b.debug("replacing root worker result",e),t()})).catch(t)})).catch((function(e){_.b.debug("replacing root service worker failed",e),t()}))):t()}))}},{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){if("PREVIEW"===e.config.env)return t(!1);var n=function(){_.b.debug("httpsManager syncAndResolve"),e.storageManager.checkIfShouldSync().then((function(n){n?e.sync().then((function(){_.b.debug("httpsManager subscribed = true (1)"),e.subscribed=!0,t(!0)})).catch((function(n){_.b.warn("error while syncing",n),_.b.debug("httpsManager subscribed = true (2)"),e.subscribed=!0,t(!0)})):(_.b.debug("httpsManager subscribed = true (3)"),e.subscribed=!0,t(!0))}))},i=function(){_.b.debug("httpsManager resubscribe"),e.isSubscribing?(_.b.debug("httpsManager subscribed = true (6)"),e.subscribed=!0,t(!0)):(e.isSubscribing=!0,e.isReSubscribe=!0,e.storageManager.canSubscribe().then((function(n){n?e.registerWorker().then((function(t){return e.pushManagerSubscribe(t)})).then((function(n){return e.sync(n).then((function(){e.isSubscribing=!1,e.triggerEvent(y.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),_.b.debug("httpsManager subscribed = true (4)"),e.subscribed=!0,t(!0)}))})).catch((function(n){_.b.error(n),e.isSubscribing=!1,_.b.debug("httpsManager subscribed = false (5)"),e.subscribed=!1,t(!1)})):(e.isSubscribing=!1,t(!1))})))},o=function(){if("granted"===window.Notification.permission&&navigator.serviceWorker)return e.getActiveWorkerRegistration().then((function(o){return o.pushManager.getSubscription().then((function(r){return e.tryWorkerUpdate(o),r?e.storageManager.isSubscribed().then((function(i){i?n():(_.b.debug("httpsManager subscribed = false (7)"),e.subscribed=!1,t(!1))})):e.config.showConfirmAlertResubscribe?(e.config.showConfirmAlert=!0,void t(!1)):(_.b.debug("isSubscribed: no subscription found -> resubscribe"),void i())}))})).catch((function(n){if(e.config.showConfirmAlertResubscribe)return e.config.showConfirmAlert=!0,void t(!1);_.b.debug("isSubscribed: -> resubscribe ",n),i()}));_.b.debug("isSubscribed: no perm or SW found"),_.b.debug("httpsManager subscribed = false (8)"),e.subscribed=!1,t(!1)};e.replaceRootWorker().then((function(){if(!e.iframeMessenger)return o();e.iframeMessenger.isSubscribed().then((function(t){return _.b.debug("isSubscribed",t),t?e.iframeMessenger.getSubscriptionId().then((function(t){return t===e.storageManager.getSubscriptionId()?o():n()})):o()})).catch((function(n){n&&(_.b.debug("isSubscribed err",n),_.b.error(n)),_.b.debug("httpsManager subscribed = false (9)"),e.subscribed=!1,t(!1)}))}))}))}},{key:"pushManagerSubscribe",value:function(e,t){var n=this;return new Promise((function(i,o){e.pushManager.subscribe(n.getPushManagerSubscribeOptions()).then((function(t){i(t),n.unregisterOtherPushSubscriptions(e)})).catch((function(r){!t&&r&&r.message&&(r.message.indexOf("subscription with a different application server key")>-1||r.message.indexOf("subscription with a different applicationServerKey")>-1)?e.pushManager.getSubscription().then((function(t){t?(n.migratedSubscription=!0,t.unsubscribe().then((function(){n.pushManagerSubscribe(e,!0).then(i).catch(o)})).catch(o)):o(r)})).catch(o):o(r)}))}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,n){if("denied"===window.Notification.permission&&e.config.alertHoursDeny&&"was-denied"===localStorage.getItem("cleverpush-subscription-status")&&"denied"!==sessionStorage.getItem("cleverpush-subscription-status"))return e.config.showUnblockTutorial=!0,e.config.showConfirmAlert=!0,void t(!0);if("PREVIEW"===e.config.env)return t(!0);var i=function(){"denied"===window.Notification.permission?n(new w.a("User has manually denied notifications","unsubscribed")):e.storageManager.canSubscribe().then((function(i){_.b.debug("storageStatus canSubscribe",i),i?e.isSubscribed().then((function(e){e?n(new w.a("User is already subscribed","subscribed")):t(!0)})):n(new w.a("User has manually unsubscribed or denied notifications","unsubscribed"))}))},o=function(){if("accengage"!==e.config.importedSubscriptionsProvider||!e.config.importedSubscriptionsSubdomain)return i();var n;(n=e.config,new Promise((function(e){window.addEventListener("message",(function t(n){if(console.log("acc message",n.data),n.data&&"mid:get:storage"===n.data.type)if(window.removeEventListener("message",t),n.data.body){var i=JSON.parse(n.data.body);e(!!i&&!0===i.isOptin)}else e(!1)}));var t=document.querySelector('iframe[name="acc_proxy"]');t?t.contentWindow.postMessage({topic:"mid:get:storage",type:"mid:get:storage",body:{}},"*"):((t=document.createElement("iframe")).src="https://"+n.importedSubscriptionsSubdomain+".accengage.net/pushweb/assets/m_main.html",t.style.display="none",t.style.border="none",t.name="acc_proxy",t.onload=function(){t.contentWindow.postMessage({topic:"mid:get:storage",type:"mid:get:storage",body:{}},"*")},t.onerror=function(){return e(!1)},document.body.appendChild(t))}))).then((function(e){if(!e)return i();t(!1)}))};if(!e.iframeMessenger)return o();e.iframeMessenger.canSubscribe().then((function(e){var t=e.result,i=e.message,r=e.reason;if(_.b.debug("canSubscribe from iframe",t),!0===t)return o();n(new w.a(i,r))}),(function(e){e&&_.b.debug("canSubscribe err iframe",e),n(e)}))}))}},{key:"getSubscriptionId",value:function(){var e=this;return new Promise((function(t){var n=e.storageManager.getSubscriptionId();n?t(n):e.iframeMessenger?e.iframeMessenger.getSubscriptionId().then((function(e){t(e)})):t(null)}))}},{key:"hasNotificationPermission",value:function(){var e=this;return new Promise((function(t){if("PREVIEW"===e.config.env)return t(!1);"granted"===window.Notification.permission?t(!0):t(!1)}))}},{key:"registerForPush",value:function(){var e=this;return new Promise((function(t,n){e.storageManager.setAllowed(),!(e.topics||[]).length&&e.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==e.config.confirmAlertNativeTheme&&e.confirm&&e.confirm.hasTopicCheckboxes()&&e.setTopics(e.confirm.getSelectedTopics()),e.registerWorker().then((function(t){return e.pushManagerSubscribe(t)})).then((function(n){return _.b.debug("push manager subscription",n),e.sync(n).then((function(){e.isSubscribing=!1,e.triggerEvent(y.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),t("granted")}))})).catch((function(t){_.b.error(t),e.isSubscribing=!1,n(t)}))}))}},{key:"subscribeForce",value:function(e){var t=this;return new Promise((function(i,o){e?i():t.isSubscribing?o(new v.a("A subscription process is already in progress.")):(t.isSubscribing=!0,"default"===Notification.permission?Notification.requestPermission((function(e){if("granted"===e){if(t.registerForPushLater=!1,t.registerForPushLater?t.storageManager.setPending():t.registerForPush().then(i).catch(o),t.confirm&&(t.confirm.hideBackdrop(e),t.config.confirmAlertSelectTopicsLater&&(t.confirm.channelTopics||[]).length&&!t.config.confirmAlertHideChannelTopics&&(t.confirm.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0),t.config.confirmAlertSubscribeLater&&(t.registerForPushLater=!0)),t.config.confirmAlertSelectAttributesLater)){var r=n(38).default;t.selectAttributes=new r(t.config,t),t.selectAttributes.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0)}}else t.isSubscribing=!1,"default"===e&&(t.storageManager.setClosed(),"Firefox"===M.a.name&&t.storageManager.setTempBlocked()),"denied"===e&&(t.api.confirmAlertDenied(),t.storageManager.setDenied()),o(new w.a(Object(x.b)("popup.info").formatCleverPush("<strong>"+(Object(x.b)("confirm.allowBrowser")||Object(x.b)("confirm.allow"))+"</strong>"),e));_.b.debug("HTTP Permission Request Result:",e)})):"denied"===Notification.permission?(t.isSubscribing=!1,o(new w.a(Object(x.b)("popup.info").formatCleverPush("<strong>"+(Object(x.b)("confirm.allowBrowser")||Object(x.b)("confirm.allow"))+"</strong>"),"denied"))):(_.b.debug("PermissionAlreadyGranted"),t.registerForPush().then(i).catch(o),t.confirm&&t.confirm.hideBackdrop("granted")))}))}},{key:"subscribe",value:function(){var e=this;return this.isSubscribed().then((function(t){return e.subscribeForce(t)}))}},{key:"setClickedNotification",value:function(e){this.storageManager.setClickedNotification(e),this.iframeMessenger&&this.iframeMessenger.setClickedNotification(e)}},{key:"getClickedNotification",value:function(){var e=this;return new Promise((function(t){var n=e.storageManager.getClickedNotification();!n&&e.iframeMessenger?e.iframeMessenger.getClickedNotification().then((function(e){t(e)})):t(n)}))}}]),t}(m.a)},function(e,t,n){"use strict";var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(13),c=n.n(a),l=n(9),u=n.n(l),p=n(10),h=n.n(p),f=n(14),d=n.n(f),b=n(19),g=n.n(b),m=n(17),_=n(0);var v=n(3),w=n(16),y=n(4),x=n(2);n.d(t,"a",(function(){return M}));var M=function(e){function t(e,n,i){var r;if(o()(this,t),(r=c()(this,u()(t).call(this,e,n,i))).isSubscribing=!1,r.iframeMessenger=null,r.popupMessenger=null,r.setTopics=r.setTopics.bind(h()(r)),r.config.subdomain&&r.config.subdomain.length&&!1!==r.config.loadIframe){var s="https://".concat(r.config.subdomain.toLowerCase(),".").concat(r.config.cleverpushDomain||"cleverpush.com"),a=document.createElement("div");a.style.display="none",document.body.appendChild(a),g.a.debug=_.b.getLevel()<2;var l=g.a.connectToChild({url:"".concat(s,"/iframe?origin=").concat(encodeURIComponent(location.origin)),appendTo:a,methods:{onSubscribed:function(e){r.triggerEvent(v.a.SUBSCRIBED,e)}}});l.iframe.style.display="none",l.promise.then((function(e){_.b.debug("child ready",e),r.iframeMessenger=e,e.setConfig(r.config).then((function(){r.triggerEvent(v.a.INITIALIZED)})),r.getTopics().then((function(e){return r.topics=e}))})).catch((function(){_.b.debug("iframe connection failed"),r.triggerEvent(v.a.INITIALIZED)}))}else _.b.debug("iframe subdomain not available"),r.triggerEvent(v.a.INITIALIZED);return!navigator.permissions||"Firefox"===x.a.name&&x.c<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){r.isSubscribing||("denied"===window.Notification.permission?r.unsubscribe():"granted"===window.Notification.permission&&r.isSubscribed().then((function(e){e||r.triggerEvent(v.a.PERMISSION_RE_GRANTED)})))}})),r}return d()(t,e),s()(t,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger?e.iframeMessenger.isSubscribed().then((function(n){_.b.debug("isSubscribed from iframe",n),n?(_.b.debug("hostManager subscribed = true (3)"),e.subscribed=!0,t(!0)):e.storageManager.isSubscribed(!1).then((function(n){n?e.storageManager.checkIfShouldSync().then((function(n){n&&e.sync().then((function(){_.b.debug("hostManager subscribed = true (1)"),e.subscribed=!0,t(!0)})).catch((function(n){_.b.warn("error while syncing",n),_.b.debug("hostManager subscribed = true (2)"),e.subscribed=!0,t(!0)}))})):(_.b.debug("hostManager subscribed = false (4)"),e.subscribed=!1,t(!1))}))})).catch((function(n){n&&(_.b.debug("isSubscribed err",n),_.b.error(n)),_.b.debug("hostManager subscribed = false (5)"),e.subscribed=!1,t(!1)})):(_.b.debug("hostManager subscribed = false (6)"),e.subscribed=!1,t(!1))}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,n){e.iframeMessenger?e.iframeMessenger.canSubscribe().then((function(i){var o=i.result,r=i.message,s=i.reason;_.b.debug("canSubscribe from iframe",o),!0===o?e.storageManager.canSubscribe().then((function(i){_.b.debug("storageStatus canSubscribe",i),i?e.isSubscribed().then((function(e){e?n(new y.a("User is already subscribed","subscribed")):t(!0)})):n(new y.a("User has manually unsubscribed or denied notifications","unsubscribed"))})):n(new y.a(r,s))}),(function(e){_.b.debug("canSubscribe err iframe",e),n(e)})):e.storageManager.canSubscribe().then((function(i){_.b.debug("storageStatus canSubscribe",i),i?e.isSubscribed().then((function(e){e?n(new y.a("User is already subscribed","subscribed")):t(!0)})):n(new y.a("User has manually unsubscribed or denied notifications","unsubscribed"))}))}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e,t=this;if(!this.isSubscribing){var i="https://".concat(this.config.subdomain||this.config.channelSubdomain,".").concat(this.config.cleverpushDomain||"cleverpush.com","/subscribe");this.config.confirmAlertTestId&&(i+="?confirmAlertTestId=".concat(this.config.confirmAlertTestId)),e=function(e,t,n,i){Object(_.c)("popup",e,t,n);var o=void 0!==window.screenLeft?window.screenLeft:screen.left,r=void 0!==window.screenTop?window.screenTop:screen.top,s=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+o,a=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-n/2+r,c="scrollbars=yes";"boolean"==typeof i&&i&&(a=1e5,s=1e5,c="toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,visible=none");var l=window.open(e,"_blank","width=".concat(t,", height=").concat(n,", top=").concat(a,", left=").concat(s).concat(void 0!==c?c:""));return l&&(!i&&l.focus?l.focus():i&&(l.blur(),l.opener.window.focus(),window.self.window.blur(),window.focus())),l}(i,800,600)}return new Promise((function(i,o){if(t.isSubscribing)_.b.error("A subscription process is already in progress."),o(new w.a);else{t.isSubscribing=!0;var r=function(){t.isSubscribing=!1,t.getSubscriptionId().then((function(e){if(e){if(t.storageManager.setSubscribed(e),t.iframeMessenger&&t.iframeMessenger.setSubscribed(e),t.triggerEvent(v.a.SUBSCRIBED,e),t.config.confirmAlertSelectTopicsLater&&!t.config.confirmAlertHideChannelTopics&&t.confirm.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0),t.config.confirmAlertSelectAttributesLater){var o=n(38).default;t.selectAttributes=new o(t.config,t),t.selectAttributes.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0)}i("granted")}else t.storageManager.setClosed(),i("default")}))};e?function(e,t){if(e){var n,i=function(){n&&(clearInterval(n),n=null),t()};n=setInterval((function(){try{e&&!e.closed||i()}catch(e){i()}}),100)}}(e,r):(_.b.error("Popup blocked - Somehow we tried to open a popup without a click event."),r())}}))}},{key:"unsubscribe",value:function(e){var t=this;if(this.iframeMessenger)return this.iframeMessenger.unsubscribe(e).then((function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(v.a.UNSUBSCRIBED)}));this.storageManager.setUnsubscribed(e),this.triggerEvent(v.a.UNSUBSCRIBED)}},{key:"getSubscriptionId",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger.getSubscriptionId().then((function(e){t(e)}))}))}},{key:"hasNotificationPermission",value:function(){var e=this;return new Promise((function(t){if("PREVIEW"===e.config.env)return t(!1);e.iframeMessenger?e.iframeMessenger.hasNotificationPermission().then((function(e){t(e)})):t(!1)}))}},{key:"getNotificationPermission",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger?e.iframeMessenger.getNotificationPermission().then((function(e){t(e)})):t()}))}},{key:"setTopics",value:function(e){return this.topics=e,this.iframeMessenger?this.iframeMessenger.setTopics(e):Promise.resolve()}},{key:"getTopics",value:function(){return this.iframeMessenger?this.iframeMessenger.getTopics():Promise.resolve([])}},{key:"getStoredNotifications",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger?e.iframeMessenger.getStoredNotifications().then((function(e){t(e)})):t([])}))}},{key:"deleteStoredNotification",value:function(e){var t=this;return new Promise((function(n){t.iframeMessenger?t.iframeMessenger.deleteStoredNotification(e).then(n):n()}))}}]),t}(m.a)},function(e,t,n){e.exports=n(62)},function(e,t,n){"use strict";n.r(t);var i,o=n(22),r=n.n(o),s=n(6),a=n.n(s),c=n(39),l=n(0);n(4);if(window.__cleverPushSdkLoadCount=(window.__cleverPushSdkLoadCount||0)+1,window.__cleverPushSdkLoadCount>1)l.b.warn("The SDK is included more than once. Please only load the CleverPush SDK once in your code.");else if("object"===a()(window.CleverPush)&&Array.isArray(window.CleverPush)&&(i=r()(window.CleverPush)),(void 0===window.CleverPush||"object"===a()(window.CleverPush)&&Array.isArray(window.CleverPush))&&(window.CleverPush=new c.a),i)for(var u=0;u<i.length;u+=1)window.CleverPush.executeFunction(i[u]);"undefined"!=typeof Symbol&&Object.defineProperty(Array.prototype,Symbol.toStringTag,{value:"Array"})},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(67),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(35))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,o,r,s,a,c=1,l={},u=!1,p=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){d(e.data)},i=function(e){r.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,i=function(e){var t=p.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(d,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),i=function(t){e.postMessage(s+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,i(c),c++},h.clearImmediate=f}function f(e){delete l[e]}function d(e){if(u)setTimeout(d,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(35),n(68))},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],u=!1,p=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||u||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=t[o];if(e.call(i,r,o,t))return r;o++}},configurable:!0,writable:!0})},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var i=n(29);function o(t,n,r){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=o=function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&i(r,n.prototype),r}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},function(e,t,n){var i=n(73);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,".cleverpush-panel{-moz-user-select:none;-ms-user-select:none;-webkit-box-shadow:0 1px 15px 0 rgba(0,0,0,.1);-webkit-user-select:none;background-color:#f5f5f5;bottom:0;box-shadow:0 1px 15px 0 rgba(0,0,0,.1);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;left:0;position:fixed;text-align:left;top:0;user-select:none;width:300px;z-index:5999998}@-webkit-keyframes cleverpush-panel-show-left{to{left:0}}@keyframes cleverpush-panel-show-left{to{left:0}}@-webkit-keyframes cleverpush-panel-show-right{to{right:0}}@keyframes cleverpush-panel-show-right{to{right:0}}.cleverpush-panel.cleverpush-panel-position-left{-webkit-animation:cleverpush-panel-show-left .5s forwards;animation:cleverpush-panel-show-left .5s forwards;left:-300px}.cleverpush-panel.cleverpush-panel-position-right{-webkit-animation:cleverpush-panel-show-right .5s forwards;animation:cleverpush-panel-show-right .5s forwards;left:auto;right:-300px}.cleverpush-panel .spinner{height:40px;margin:50px auto;position:relative;text-align:center;width:40px}.cleverpush-panel .double-bounce1,.cleverpush-panel .double-bounce2{-webkit-animation:sk-bounce 2s infinite ease-in-out;animation:sk-bounce 2s infinite ease-in-out;background-color:#999;border-radius:50%;height:100%;left:0;opacity:.6;position:absolute;top:0;width:100%}.cleverpush-panel .double-bounce2{-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes sk-bounce{0%,to{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes sk-bounce{0%,to{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.cleverpush-panel-header{background-color:#fff;border-bottom:3px solid #42a2f2;padding:15px 10px;text-align:center}.cleverpush-panel-header img{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;height:60px;max-width:100%;user-select:none;width:auto}.cleverpush-panel-content{-ms-flex-direction:column;-webkit-box-direction:normal;-webkit-box-orient:vertical;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;height:100%;position:relative}.cleverpush-panel-notifications,.cleverpush-panel-settings,.cleverpush-panel-spinner{height:100%;overflow-y:scroll}.cleverpush-panel-close{background-color:transparent;border:none;border-radius:0;color:#777;cursor:pointer;font-size:18px;height:auto;line-height:1;padding:initial;position:absolute;right:20px;text-transform:none;top:12.5px;vertical-align:initial;z-index:4}.cleverpush-panel-close:focus,.cleverpush-panel-close:hover{background-color:transparent!important}.cleverpush-panel-notifications{border-top:1px solid #eee;padding:0}.cleverpush-panel-notification{background:#fff;border-bottom:1px solid #ececec;color:#ccc;cursor:pointer;display:block;line-height:1.55;min-height:40px;padding:10px 65px 10px 15px;position:relative}.cleverpush-panel-notification:hover{background-color:rgba(0,0,0,.035)}.cleverpush-panel-notification-delete{background-color:transparent;border:none;border-radius:0;color:#777;cursor:pointer;display:none;font-size:12px;height:auto;line-height:1;padding:0 2px;position:absolute;right:-5px;top:10px}.cleverpush-panel-notification-delete:focus,.cleverpush-panel-notification-delete:hover{background:#000;color:#fff}.cleverpush-panel-notification:hover .cleverpush-panel-notification-delete{display:block}.cleverpush-panel-notification-title{color:#222;font-size:14px;font-weight:600}.cleverpush-panel-notification-text{color:#555;font-size:13px}.cleverpush-panel-notification-time{color:#bbb;font-size:12px;margin-top:5px}.cleverpush-panel-notification-image{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:4px;height:40px;position:absolute;right:10px;top:10px;width:40px}.cleverpush-panel-notifications-empty{color:#aaa;font-size:12px;padding:20px;text-align:center}.cleverpush-panel-buttons{background-color:#fff;border-bottom:1px solid #eee;display:-webkit-box;display:-ms-flexbox;display:flex}.cleverpush-panel-button{background:transparent;border:none;border-radius:0;color:#000;cursor:pointer;font-family:sans-serif;font-size:14px;font-weight:700;height:auto;line-height:1;outline:none;padding:16px 12px;position:static;text-transform:none!important;vertical-align:initial;width:50%}.cleverpush-panel-button.active,.cleverpush-panel-button:hover{background-color:#42a2f2;color:#fff}.cleverpush-panel-settings{padding:10px 20px}.cleverpush-panel-settings h3{color:#333;font-size:18px;font-weight:500;margin:10px 0}.cleverpush-panel-unsubscribe{padding-top:10px}.cleverpush-panel-unsubscribe button{font-weight:500!important}.cleverpush-panel-footer button,.cleverpush-panel-settings button{background-color:#42a2f2;border:none;color:#fff;cursor:pointer;display:block;font-size:15px;font-weight:700;height:auto;line-height:1;margin:10px auto;padding:10px 15px;text-transform:none!important;width:100%}.cleverpush-panel-footer button:hover,.cleverpush-panel-settings button:hover{opacity:.8}.cleverpush-panel-footer button:disabled,.cleverpush-panel-settings button:disabled{color:#999;cursor:not-allowed}.cleverpush-panel-footer{background-color:#fff;padding:10px 15px;text-align:center}.cleverpush-panel-footer button{font-size:14px;margin:0 0 7.5px}.cleverpush-panel-branding,.cleverpush-panel-branding a{color:#aaa!important;font-size:12px}.cleverpush-panel-topics{border-bottom:1px solid #ddd;font-size:15px;margin-bottom:30px;padding-bottom:30px}.cleverpush-panel-topics .cleverpush-panel-topic-selection{margin-bottom:15px}.cleverpush-panel-topics label{color:#333;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1.5;margin:0}.cleverpush-panel-topics label>input[type=checkbox],.cleverpush-panel-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;margin-top:0;min-height:0;vertical-align:baseline;width:auto}.cleverpush-panel-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-panel-topics:not(:last-of-type){margin-bottom:7.5px}@media (max-width:768px){.cleverpush-panel{-webkit-box-shadow:none;box-shadow:none;width:100%}}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r)?e:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){var i=n(76);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,'.cleverpush-bell{-moz-user-select:none;-ms-transform-origin:bottom left;-ms-user-select:none;-o-transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));-webkit-transform-origin:bottom left;-webkit-transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;-webkit-user-select:none;background-color:#42a2f2;background-size:26px 26px;border:none;border-radius:50%;bottom:20px;color:#fff;cursor:pointer;display:block!important;filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));height:48px;left:20px;outline:none;position:fixed;transform-origin:bottom left;transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;user-select:none;width:48px;z-index:5999999}.cleverpush-bell:active{opacity:.8}.cleverpush-bell.cleverpush-bell-position-right{-ms-transform-origin:bottom right;-webkit-transform-origin:bottom right;left:auto;right:20px;transform-origin:bottom right}.cleverpush-bell.cleverpush-bell-loading{background-image:none}.cleverpush-bell .cleverpush-loader{-ms-transform:scale(.625);-ms-transform-origin:top left;-webkit-transform:scale(.625);-webkit-transform-origin:top left;bottom:0;height:100%;left:4.5px;position:absolute;right:0;top:4.5px;transform:scale(.625);transform-origin:top left}.cleverpush-bell,.cleverpush-icon-bell{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE1LjEzNyAzLjk0NWEyLjEwMiAyLjEwMiAwIDAgMS0xLjA0LTEuODJ2LS4wMDNDMTQuMDk3Ljk1IDEzLjE1OCAwIDEyIDBTOS45MDMuOTUgOS45MDMgMi4xMjJ2LjAwM2EyLjEgMi4xIDAgMCAxLTEuMDQxIDEuODJDNC4xOTUgNi42NTcgNi44NzcgMTUuNjYgMiAxNy4yNTFWMTloMjB2LTEuNzQ5Yy00Ljg3Ny0xLjU5MS0yLjE5NS0xMC41OTQtNi44NjMtMTMuMzA2ek04LjQwOSAxNkg2LjUyN2MxLjI0NS0yLjc0MS44NzktOS4wMTIgMy44NzMtMTAuNjU1QzguNjM5IDcuNDEyIDkuNDUgMTIuODQ5IDguNDA5IDE2ek0xMiAzYTEgMSAwIDEgMSAwLTIgMSAxIDAgMCAxIDAgMnpNOSAyMWg2YzAgMS41OTgtMS4zOTMgMy0yLjk3MSAzQzEwLjQ1IDI0IDkgMjIuNTk4IDkgMjF6IiBmaWxsPSIjZmZmIi8+PC9zdmc+);background-position:50%;background-repeat:no-repeat}.has-cleverpush-backdrop .cleverpush-bell{-webkit-filter:none!important;filter:none!important}.cleverpush-bell-message,.cleverpush-tooltip{-moz-user-select:none;-ms-transform-origin:left center;-ms-user-select:none;-o-text-overflow:ellipsis;-o-transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;-webkit-transform:translateY(-50%) scaleX(0) translateZ(0);-webkit-transform-origin:left center;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;-webkit-user-select:none;background-color:#000;border-radius:4px;color:#fff;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;left:60px;line-height:1;opacity:0;padding:14.4px;position:absolute;text-overflow:ellipsis;top:50%;transform:translateY(-50%) scaleX(0) translateZ(0);transform-origin:left center;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;user-select:none;white-space:nowrap}.cleverpush-bell-message *,.cleverpush-bell-message a,.cleverpush-bell-message strong,.cleverpush-tooltip *,.cleverpush-tooltip a,.cleverpush-tooltip strong{color:#fff}.cleverpush-bell-message:after,.cleverpush-tooltip:after{border:9.9px solid transparent;border-right-color:#000;content:" ";height:0;margin-top:-9.9px;pointer-events:none;position:absolute;right:100%;top:50%;width:0}.cleverpush-bell-more-btn{-ms-flex-align:center;-ms-flex-pack:center;-webkit-box-align:center;-webkit-box-pack:center;align-items:center;background-color:#444;border:none;border-radius:500px;color:#fff;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:16px;height:36px;justify-content:center;outline:none;padding:10px;position:absolute;text-align:center;width:36px}.cleverpush-bell-more-btn svg{fill:#fff;height:100%;width:100%}.cleverpush-bell-more-btn:hover{opacity:.9}.cleverpush-bell-more-btn:hover .cleverpush-tooltip{-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}.cleverpush-bell-more-btn:hover~.cleverpush-bell-message{opacity:0!important}.cleverpush-bell-more-btn.cleverpush-bell-more-settings,.cleverpush-bell-more-btn.cleverpush-bell-more-subscribe{-webkit-animation:cleverpush-bell-anim-settings .5s;animation:cleverpush-bell-anim-settings .5s;left:6px;top:-48px;z-index:2}.cleverpush-bell-more-btn.cleverpush-bell-more-hide{-webkit-animation:cleverpush-bell-anim-hide .5s;animation:cleverpush-bell-anim-hide .5s;left:52px;top:-22px;z-index:1}.cleverpush-bell-more-btn .cleverpush-tooltip{-o-transition:.25s ease-in-out opacity;-webkit-transition:opacity .25s ease-in-out;font-size:13px;left:50px;opacity:0;padding:8px 12px;pointer-events:none;transition:opacity .25s ease-in-out}@-webkit-keyframes cleverpush-bell-anim-settings{0%{left:0;opacity:0;top:-42px}to{left:6px;opacity:1;top:-48px}}@keyframes cleverpush-bell-anim-settings{0%{left:0;opacity:0;top:-42px}to{left:6px;opacity:1;top:-48px}}@-webkit-keyframes cleverpush-bell-anim-hide{0%{left:0;opacity:0;top:-42px}to{left:52px;opacity:1;top:-22px}}@keyframes cleverpush-bell-anim-hide{0%{left:0;opacity:0;top:-42px}to{left:52px;opacity:1;top:-22px}}.cleverpush-bell-position-right .cleverpush-bell-message{-ms-transform-origin:right center;-webkit-transform-origin:right center;left:auto;right:60px;transform-origin:right center}.cleverpush-bell-position-right .cleverpush-bell-message:after{border-left-color:#000;border-right-color:transparent;left:100%;right:auto}.cleverpush-bell-position-right .cleverpush-tooltip{-ms-transform-origin:right center;-webkit-transform-origin:right center;left:auto;right:50px;transform-origin:right center}.cleverpush-bell-position-right .cleverpush-tooltip:after{border-left-color:#000;border-right-color:transparent;left:100%;right:auto}.cleverpush-bell-hidden{display:none!important}.cleverpush-bell-prompt{-webkit-box-shadow:4px 6px 12px rgba(0,0,0,.1);background-color:#fff;border-radius:6px;bottom:64px;box-shadow:4px 6px 12px rgba(0,0,0,.1);color:#333;display:-webkit-box;display:-ms-flexbox;display:flex;left:-10px;padding:20px;position:absolute;width:380px}.cleverpush-bell-prompt:after{border-color:#fff transparent transparent;border-style:solid;border-width:6px 6px 0;bottom:-6px;content:"";height:0;left:28px;position:absolute;width:0}.cleverpush-bell-prompt-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;height:50px;margin-right:15px;width:50px}.cleverpush-bell-prompt-title{font-size:14px;font-weight:700}.cleverpush-bell-prompt-buttons{-ms-flex-align:center;-ms-flex-pack:end;-webkit-box-align:center;-webkit-box-pack:end;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:flex-end;margin-top:10px}@media (hover:none){.cleverpush-bell-disabled:not(:active){-ms-transform:scale(.666);-webkit-transform:scale(.666);opacity:.666;transform:scale(.666)}.cleverpush-bell-message-open{-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}}@media (hover:hover){.cleverpush-bell-disabled:not(:hover):not(:active){-ms-transform:scale(.666);-webkit-transform:scale(.666);opacity:.666;transform:scale(.666)}.cleverpush-bell-message,.cleverpush-tooltip{pointer-events:none}.cleverpush-bell-message-open,.cleverpush-bell:hover .cleverpush-bell-message{-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}}',""])},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,'@-webkit-keyframes fadeIn{to{opacity:1}}@keyframes fadeIn{to{opacity:1}}.cleverpush-backdrop,.cleverpush-bell-prompt,.cleverpush-branding-box,.cleverpush-confirm,.cleverpush-unsubscribe{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.cleverpush-confirm{-moz-user-select:none;-ms-user-select:none;-webkit-box-sizing:border-box;-webkit-user-select:none;background-color:#f0eff0;border:1px solid #bbb;border-top:none;box-sizing:border-box;left:calc(50% - 230px);margin:0;max-height:100%;overflow:auto;padding:0 20px 10px;position:fixed;top:0;user-select:none;width:460px;z-index:5999999}.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-icon{display:none!important}.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-text{width:100%!important}.cleverpush-confirm-static{left:auto;position:static!important;top:auto}.cleverpush-confirm-chrome,.cleverpush-confirm-material{-webkit-box-shadow:0 4px 30px rgba(0,0,0,.4);border:none;box-shadow:0 4px 30px rgba(0,0,0,.4)}.cleverpush-confirm-hide{background:none!important;border:none!important;cursor:pointer;float:right!important;font-size:18px!important;margin:5px -10px 0 0;padding:0;position:relative;z-index:1}.cleverpush-confirm-mac{-webkit-box-shadow:0 2px 24px rgba(0,0,0,.4);background-color:#f0f0f0;box-shadow:0 2px 24px rgba(0,0,0,.4)}.cleverpush-confirm-icon{display:inline-block;margin:15px 0 0!important;padding:0!important;position:relative;text-align:center;width:100%}.cleverpush-confirm-icon img{border:none;height:65px;margin:0;padding:0;width:65px}.cleverpush-confirm-text{color:#000;display:inline-block!important;line-height:1.4em!important;margin:0!important;min-height:55px;padding:10px 0 0!important;position:relative!important;text-align:left!important}.cleverpush-confirm-text .cleverpush-confirm-topics{font-size:13px!important;margin-bottom:15px}.cleverpush-confirm-text .cleverpush-confirm-topics label{color:#333;cursor:pointer;display:block;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=checkbox],.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;clip:auto;display:inline-block;height:auto;line-height:normal;margin:0 4px 0 0;min-height:0;position:static;vertical-align:baseline;width:auto}.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-confirm-text .cleverpush-confirm-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-confirm-title{color:#000;font-size:14px;font-weight:700;line-height:1.4em;margin-bottom:5px;text-align:left}.cleverpush-confirm-mac .cleverpush-confirm-title{font-size:15px}.cleverpush-confirm-info{font-size:12px!important;font-weight:400;line-height:1.4em!important;margin:10px 0!important;padding:0!important;text-align:left!important}.cleverpush-confirm-branding{color:#ccc;font-size:10px;line-height:1.2em!important;margin-bottom:15px;margin-top:8px;text-align:left!important}.cleverpush-confirm-branding a{color:#aaa!important;font-weight:400;text-decoration:none}.cleverpush-confirm-buttons{-ms-flex-direction:row;-webkit-box-direction:normal;-webkit-box-orient:horizontal;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:row;margin:0 0 10px!important;padding:0!important}.cleverpush-confirm-btn{-webkit-box-shadow:none!important;-webkit-box-sizing:border-box!important;background:#4286f6;border:none!important;border-radius:4px!important;box-shadow:none!important;box-sizing:border-box!important;color:#fff!important;cursor:pointer!important;display:inline-block!important;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:700!important;height:auto!important;line-height:1!important;margin:0!important;padding:12px!important;text-shadow:none!important;text-transform:uppercase!important;vertical-align:middle!important;width:auto!important;width:50%!important}.cleverpush-confirm-btn:hover{opacity:.7}.cleverpush-confirm-btn:active{opacity:.9}.cleverpush-confirm-btn.cleverpush-confirm-btn-allow{padding-left:18px!important;padding-right:18px!important}.cleverpush-confirm-btn.cleverpush-confirm-btn-deny{background-color:transparent!important;color:#555!important}.cleverpush-uf-button{-webkit-box-shadow:1px 2px 4px rgba(0,0,0,.1)!important;background:#fff!important;border:1px solid #eee!important;box-shadow:1px 2px 4px rgba(0,0,0,.1)!important;color:#000!important;text-transform:none!important;width:100%!important}.cleverpush-uf-box{-webkit-box-shadow:2px 6px 8px rgba(0,0,0,.1)!important;background-color:#fff!important;border:none!important;box-shadow:2px 6px 8px rgba(0,0,0,.1)!important}.cleverpush-uf-box .cleverpush-confirm-text{width:100%!important}.cleverpush-uf-box .cleverpush-confirm-title{font-weight:500}.cleverpush-uf-box textarea{background-color:#fafafa!important;border:1px solid #bbb!important;border-radius:4px;padding:10px}.cleverpush-clearfix-bottom{margin-top:5px}.cleverpush-clearfix{clear:both}.cleverpush-confirm-modal{border:none!important;border-radius:4px!important;padding:20px 30px!important;top:20vh}.cleverpush-confirm-modal .cleverpush-confirm-hide{color:#777}.cleverpush-confirm-modal .cleverpush-confirm-icon{display:block!important;float:none!important;margin-top:0!important;text-align:center!important;width:100%!important}.cleverpush-confirm-icon-round img{border-radius:50%}.cleverpush-confirm-modal .cleverpush-confirm-info,.cleverpush-confirm-modal .cleverpush-confirm-text{display:block!important;width:100%!important}.cleverpush-confirm-topbar{border:none!important;left:0!important;right:0!important;top:0!important;width:100%!important}.cleverpush-confirm-topbar .cleverpush-confirm-wrap{-webkit-box-sizing:border-box;box-sizing:border-box;left:calc(50% - 300px);max-width:600px;position:relative!important;top:0}.cleverpush-confirm-topbar .cleverpush-confirm-text .cleverpush-confirm-topics{margin-bottom:0}.cleverpush-confirm-topbar.cleverpush-confirm-topbar-native .cleverpush-confirm-wrap{left:auto!important;padding-left:120px}.cleverpush-confirm-topbar-arrow{background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjgwIDY0MCI+PHBhdGggZD0iTTExMTkuMyA3OS4xYy01LjcgMi44LTEwLjMgOC4yLTEwLjMgMTIgMCA4LjggMTEuNSAyMC42IDQ1LjkgNDcuMyA0Ny42IDM2LjkgNjAuOSA0OS40IDcxLjggNjcuNiA2LjIgMTAuNCA3LjggMTUuNCA3LjggMjUgMCA3LjEtLjQgOS40LTIuNiAxNC4xLTUuNSAxMS43LTIxLjcgMjUuMy00MC41IDM0LTkuNCA0LjMtMjguOSAxMi4xLTM0LjYgMTMuNy0xLjguNS0xMS4yIDMuNS0yMC44IDYuNi01MS4yIDE2LjYtMTA4LjkgMzEuMS0xNTkuMSA0MC00OSA4LjctODMuNCAxMi41LTE4MC40IDIwLjEtMjYuNSAyLjEtNDUuNiA0LTc3IDcuNi0xNC4zIDEuNi02OC4xIDcuNy0xMTkuNSAxMy40LTE1My41IDE3LjItMjE5LjggMjUuOS0yNjUuNSAzNS0yMy40IDQuNy0yOS42IDYuNC01NiAxNS4xLTI1LjIgOC4zLTM2LjUgMTIuNy00MC45IDE1LjctMi43IDEuOS0yLjggMi4xLTEgMy40IDEuMy45IDUuOCAxLjMgMTYuNCAxLjMgMzUuOCAwIDEyMy42LTkuOCAzMTAtMzQuNSA0My4yLTUuNyAxMDAuOC0xMy40IDEyOC0xNyAyNy4yLTMuNiAxMDAuMS0xMi45IDE2Mi0yMC42IDE0MC4yLTE3LjQgMTc1LjYtMjIgMjA0LTI2LjUgNTIuMS04LjIgODQuOS0xNi44IDEzMi0zNC42IDUyLjEtMTkuNyA3OC40LTM4LjYgODgtNjMuMyAzLjEtNy45IDMuNC0yMy4yLjYtMzEuNS02LjEtMTcuOC0xMy42LTI3LjktNDYtNjEuNC02My40LTY1LjctNzQuMy03NS42LTkwLjQtODIuMi03LjUtMy4xLTE2LjEtMy4yLTIxLjktLjN6Ii8+PHBhdGggZD0iTTIxMi44IDM2NC4zYy0zIDEuOS0xNi43IDExLjctMzAuNCAyMS45LTU2LjYgNDItNzIgNTEtMTYzLjkgOTUuOEMzLjkgNDg5LjItMS43IDQ5My4zIDEgNDk1Yy44LjUgMi44IDEgNC40IDEgMS42IDAgMy43LjYgNC41IDEuNCAyLjQgMi4yIDEwLjkgNCA0MS4xIDkuMSA3NS41IDEyLjggOTYuMyAxOC4zIDE4Ny41IDQ5LjggOC44IDMgMTcuNiA1LjggMTkuNSA2LjEgNi45IDEuMSA3LjYtMi4zIDEuOS04LjItMi4zLTIuNC0zLjItNC4yLTMuNC03LjQtLjEtMi40LTIuMi05LjMtNC41LTE1LjMtMTMuMi0zNC40LTE4LjktNTQuMS0yMS42LTc0LjgtMS40LTEwLjEtMS41LTE3LjYtMS00My40LjctMzQuNS41LTM2LjMtNC42LTM2LjMtMS42IDAtMy44LjUtNC45IDEtMiAxLjEtMi42LjEtLjktMS42IDIuMS0yLjEgNC45LTExLjggMy45LTEzLjYtMS40LTIuNi0zLjgtMi4yLTEwLjEgMS41em0tMTUuNiA0My40Yy0xLjEgMi4xLTIuOSA2LjktNCAxMC44LTEwLjEgMzQuNy0xLjYgNzAuOSAyNC43IDEwNS40bDIuNSAzLjQtMy45LTIuMWMtNDAuNS0yMC42LTEwNS40LTM2LTE1Mi45LTM2LjMtMTMuNSAwLTEzLjUgMCAzLjQtNS40IDQ0LjItMTQuMyA5MS00MS41IDEyMS4xLTcwLjQgNS43LTUuNCAxMC41LTkuOCAxMC43LTkuNi4yLjItLjUgMi0xLjYgNC4yeiIvPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;background-size:contain;height:80px;line-height:110px;margin-left:-120px;margin-top:40px;opacity:.666;position:absolute;width:90px}.cleverpush-confirm-topbar.cleverpush-confirm-hide-arrow .cleverpush-confirm-topbar-arrow{display:none!important}.cleverpush-confirm-topbar.cleverpush-confirm-hide-arrow .cleverpush-confirm-wrap{padding-left:0}.cleverpush-confirm-wrap{left:auto;max-height:100%;max-width:800px;min-height:90px;padding-bottom:1px;position:relative}.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native{left:0;right:0}.cleverpush-confirm-topbar-native .cleverpush-confirm-icon,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-icon,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-icon,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-icon,.cleverpush-confirm-topbox-native .cleverpush-confirm-icon{margin:5px 15px 0 0!important}.cleverpush-confirm-topbar-native .cleverpush-confirm-text,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-text,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-text,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-text,.cleverpush-confirm-topbox-native .cleverpush-confirm-text{padding:5px 0 0!important}.cleverpush-confirm-topbar-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-below-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbox-native .cleverpush-confirm-branding{margin-top:0}.cleverpush-confirm-topbar-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbox-native .cleverpush-confirm-buttons{display:none!important}.cleverpush-confirm-topbar-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-native .cleverpush-confirm-branding{float:right!important;position:static}.cleverpush-confirm-notification{background-color:#fff;border:none;border-radius:10px;left:25px;padding:0 10px 10px;top:10px}.cleverpush-confirm-notification .cleverpush-confirm-buttons{margin-bottom:0!important}.cleverpush-confirm-notification .cleverpush-confirm-icon{float:left;margin:10px 10px 0 0!important;width:auto}.cleverpush-confirm-notification .cleverpush-confirm-icon img{height:50px;width:50px}.cleverpush-confirm-notification .cleverpush-confirm-text{width:calc(100% - 65px)!important}.cleverpush-confirm-modal-full{background-color:#fff;border:none;border-radius:0;padding:10px 15px 15px}.cleverpush-confirm-modal-full .cleverpush-confirm-buttons{margin-bottom:0!important}.cleverpush-confirm-dialog{background-color:#fff;border:none;border-radius:8px!important;padding:0!important}.cleverpush-confirm-dialog .cleverpush-confirm-text{padding-bottom:10px!important;position:static!important}.cleverpush-confirm-dialog .cleverpush-confirm-branding{bottom:45px;position:absolute;right:10px}.cleverpush-confirm-dialog .cleverpush-confirm-buttons{-ms-flex-direction:row;-ms-flex-pack:end;-ms-flex-wrap:nowrap;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-box-pack:end;border-top:1px solid #ddd;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;flex-direction:row;flex-wrap:nowrap;float:none!important;justify-content:flex-end;margin-bottom:-1px!important;max-width:100%}.cleverpush-confirm-dialog .cleverpush-confirm-buttons .cleverpush-confirm-btn{border-radius:0!important;width:50%!important}.cleverpush-confirm-dialog .cleverpush-confirm-icon{float:left;margin:10px 10px 0 20px!important;width:auto}.cleverpush-confirm-dialog .cleverpush-confirm-icon img{height:50px;width:50px}.cleverpush-confirm-dialog .cleverpush-confirm-text{width:calc(100% - 100px)!important}.cleverpush-confirm-dialog-native{background-color:#fff;border:none;border-radius:8px!important;padding:0!important}.cleverpush-confirm-dialog-native .cleverpush-clearfix-bottom{margin-top:0!important}.cleverpush-confirm-dialog-native .cleverpush-confirm-title{font-size:14px}.cleverpush-confirm-dialog-native .cleverpush-confirm-info{margin:5px 0 10px!important;opacity:.75}.cleverpush-confirm-dialog-native .cleverpush-confirm-buttons{-ms-flex-pack:end;-webkit-box-pack:end;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;float:none!important;justify-content:flex-end;margin:0 10px 10px!important}.cleverpush-confirm-dialog-native .cleverpush-confirm-buttons .cleverpush-confirm-btn{width:auto!important}.cleverpush-confirm-dialog-native .cleverpush-confirm-branding{float:none;margin-bottom:10px;margin-left:10px;margin-top:-5px;position:absolute;position:relative}.cleverpush-confirm-dialog-native .cleverpush-confirm-icon{float:left;margin:10px 10px 0!important;width:auto}.cleverpush-confirm-dialog-native .cleverpush-confirm-icon img{border-radius:4px;height:50px;width:50px}.cleverpush-confirm-dialog-native .cleverpush-confirm-text{width:calc(100% - 80px)!important}.cleverpush-confirm-dialog-full{background-color:#fff;border:none;border-radius:0!important;padding:0!important}.cleverpush-confirm-dialog-full .cleverpush-confirm-buttons{border-top:1px solid #ddd;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;float:none!important;margin-bottom:-1px!important}.cleverpush-confirm-dialog-full .cleverpush-confirm-buttons .cleverpush-confirm-btn{border-radius:0!important;width:50%!important}.cleverpush-confirm-dialog-full .cleverpush-confirm-icon{float:left;margin:10px 10px 0 20px!important;width:auto}.cleverpush-confirm-dialog-full .cleverpush-confirm-icon img{height:50px;width:50px}.cleverpush-confirm-dialog-full .cleverpush-confirm-text{width:calc(100% - 100px)!important}.cleverpush-confirm-round-notification{border-radius:8px;bottom:10px;max-height:calc(100% - 20px);top:auto}.cleverpush-confirm-round-notification .cleverpush-confirm-icon{left:10px;margin-top:10px!important;position:absolute!important}.cleverpush-confirm-round-notification .cleverpush-confirm-icon img{border-radius:4px;height:35px;width:35px}.cleverpush-confirm-round-notification .cleverpush-confirm-btn{border-radius:500px!important}.cleverpush-confirm-round-notification .cleverpush-clearfix-bottom{border-top:1px solid rgba(0,0,0,.1);padding-top:10px!important}.cleverpush-confirm-round-notification .cleverpush-confirm-text{padding:5px!important;position:static!important;width:100%!important}.cleverpush-confirm-round-notification .cleverpush-confirm-info{border-top:1px solid rgba(0,0,0,.1);margin-top:0!important;padding-top:10px!important}.cleverpush-confirm-round-notification .cleverpush-confirm-title{display:block!important;margin-left:40px!important}.cleverpush-confirm-white{background-color:#fff;color:#3e3e3e}.cleverpush-confirm-light{background-color:#f0f0f0;color:#3e3e3e}.cleverpush-confirm-dark,.cleverpush-confirm-dark .cleverpush-confirm-info,.cleverpush-confirm-dark .cleverpush-confirm-title,.cleverpush-confirm-dark a{background-color:#3e3e3e;color:#fff}.cleverpush-confirm-dark .cleverpush-confirm-branding{color:#888!important}.cleverpush-confirm-dark .cleverpush-confirm-hide{color:#999!important}.cleverpush-unsubscribe{background-color:rgba(0,0,0,.8);bottom:0;color:#eee;padding:4px 10px;position:fixed;right:20%}.cleverpush-unsubscribe a{color:#eee!important;font-weight:700!important;text-decoration:none!important}.cleverpush-unsubscribe a:hover{text-decoration:underline!important}.cleverpush-backdrop{-moz-user-select:none;-ms-flex-align:center;-ms-flex-pack:center;-ms-user-select:none;-webkit-box-align:center;-webkit-box-pack:center;-webkit-user-select:none;align-items:center;background-color:#000;background-color:rgba(0,0,0,.75);bottom:0;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;justify-content:center;left:0;position:fixed;right:0;top:0;user-select:none;z-index:5999998}.cleverpush-backdrop.cleverpush-backdrop-blur{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.cleverpush-backdrop-text{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:#fff;font-size:16px;font-weight:400;margin:0 auto;position:relative;text-align:center;user-select:none;z-index:2}.cleverpush-backdrop-text b,.cleverpush-backdrop-text strong{color:#fff;font-weight:600}.cleverpush-backdrop-text h2{font-family:inherit;font-size:22px;font-weight:700;line-height:1.5;text-align:center}.cleverpush-backdrop-text h2 *{color:#fff}.cleverpush-backdrop-text h2,.cleverpush-backdrop-text p{color:#fff!important;margin-bottom:10px;margin-top:0;padding-top:0}.cleverpush-backdrop-icon{text-align:center}.cleverpush-backdrop-icon img{border:none;border-radius:50%;display:inline-block;height:65px;margin:0;padding:0;width:65px}.cleverpush-backdrop-branding{bottom:15px;color:#ccc;font-size:12px;font-weight:400;position:absolute;text-align:center;width:100%;z-index:1}.cleverpush-backdrop-branding a{color:#eee;font-weight:400;text-decoration:none}.cleverpush-backdrop-arrow{left:0;position:absolute;top:0;z-index:1}.cleverpush-deny-alert{-moz-user-select:none;-ms-user-select:none;-webkit-box-shadow:0 2px 14px rgba(0,0,0,.2);-webkit-user-select:none;background:#fefefe;border:1px solid #ccc;border-radius:3px;box-shadow:0 2px 14px rgba(0,0,0,.2);color:#303942;font-family:Helvetica Neue,Lucida Grande,sans-serif;font-size:12px;left:80px;padding:7px 10px;position:fixed;top:4px;user-select:none;z-index:99999}.cleverpush-deny-alert:after,.cleverpush-deny-alert:before{border:4px solid hsla(0,0%,100%,0);border-bottom-color:#fff;bottom:100%;content:" ";height:0;left:26px;margin-left:-4px;pointer-events:none;position:absolute;width:0}.cleverpush-deny-alert:before{border-bottom-color:#ccc;border-width:5px;margin-left:-5px}.cleverpush-deny-alert-text{float:left;max-width:200px;pointer-events:none}.cleverpush-deny-alert-close,.cleverpush-deny-alert-text{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.cleverpush-deny-alert-close{background:none;border:none;border-radius:50%;color:#777;cursor:pointer;float:right;font-size:14px;font-weight:700;height:15px;line-height:1;margin-left:8px;margin-right:-8px;margin-top:-5px;outline:none;padding:0;width:15px}.cleverpush-deny-alert-close:hover{background-color:#777;color:#fff}.cleverpush-deny-alert-close:active{background-color:#444}.cleverpush-branding-box{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background:rgba(0,0,0,.85);color:#fff!important;font-size:11px!important;line-height:1.5;min-width:0;padding:0 6px;position:fixed;right:0;top:0;user-select:none;z-index:100}.cleverpush-branding-box a{color:#fff!important;font-weight:600!important;text-decoration:none!important}.cleverpush-branding-box .cleverpush-branding-box-close{background:transparent!important;border:none!important;color:#aaa!important;display:inline-block;font-weight:400!important;margin:0 0 0 7px;padding:0;vertical-align:baseline}.cleverpush-branding-box .cleverpush-branding-box-close:focus,.cleverpush-branding-box .cleverpush-branding-box-close:hover{background:transparent!important;color:#aaa!important}.cleverpush-branding-box .cleverpush-branding-box-text{display:inline-block;vertical-align:baseline}.cleverpush-confirm-topbox{max-width:100%;width:540px}.cleverpush-confirm-topbox-below{max-width:100%;width:100%}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info{border-top:1px solid rgba(0,0,0,.1);display:block!important;margin-top:10px;padding-top:10px}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info .cleverpush-confirm-icon{display:block;float:none;margin:0!important;position:absolute;width:auto}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info .cleverpush-confirm-icon img{height:30px;width:30px}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info-text{color:#ff675b;font-size:12px;line-height:1.25;min-height:30px;padding-left:50px}.cleverpush-confirm-topbox-below.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-bottom-info-text{padding-left:0}.cleverpush-confirm-topbox-below .cleverpush-confirm-text{width:100%!important}.cleverpush-confirm-topbox-below .cleverpush-confirm-icon{display:none}.cleverpush-confirm-topbar-slim,.cleverpush-confirm-topbar-slim-higher{max-width:100%;width:850px}.cleverpush-confirm-speechbubble{border-radius:5px;bottom:8px;max-width:100%;overflow:initial;padding-top:5px;top:auto;width:auto}.cleverpush-confirm-speechbubble-native{width:350px}.cleverpush-confirm-speechbubble-native .cleverpush-confirm-text{padding:5px 0 0!important}.cleverpush-confirm-speechbubble-native .cleverpush-clearfix-bottom,.cleverpush-confirm-speechbubble-native .cleverpush-confirm-branding{margin-top:0}.cleverpush-confirm-speechbubble-native .cleverpush-confirm-buttons{display:none}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{border:8px solid hsla(0,0%,100%,0);border-bottom-color:#f0eff0;bottom:-16px;content:" ";display:block!important;height:0;margin-left:-8px;pointer-events:none;position:absolute;right:45px;width:0}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{display:none!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{border-bottom-color:transparent;border-top-color:#f0eff0;display:block!important}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-btn-deny{display:none!important}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-title{display:block;margin-bottom:10px}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-branding,.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-info{display:none}.cleverpush-loader{display:inline-block;height:64px;position:relative;width:64px}.cleverpush-loader div{-webkit-animation:cleverpush-loader 1.2s cubic-bezier(.5,0,.5,1) infinite;-webkit-box-sizing:border-box;animation:cleverpush-loader 1.2s cubic-bezier(.5,0,.5,1) infinite;border:6px solid transparent;border-radius:50%;border-top-color:#fff;box-sizing:border-box;display:block;height:51px;margin:6px;position:absolute;width:51px}.cleverpush-loader div:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.cleverpush-loader div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.cleverpush-loader div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes cleverpush-loader{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cleverpush-loader{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cleverpush-confirm-double{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background-color:rgba(0,0,0,.65);bottom:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;left:0;position:fixed;right:0;top:0;user-select:none;z-index:999999}@-webkit-keyframes cleverpush-confirm-double-fadein{0%{opacity:0}to{opacity:1}}@keyframes cleverpush-confirm-double-fadein{0%{opacity:0}to{opacity:1}}.cleverpush-confirm-double-above{color:#fff!important;font-size:17px;margin-top:100px;text-align:center}.cleverpush-confirm-double-content{-ms-transform:translateY(-50%)!important;-webkit-animation:cleverpush-confirm-double-fadein 1s;-webkit-box-shadow:2px 4px 12px rgba(0,0,0,.2);-webkit-transform:translateY(-50%)!important;animation:cleverpush-confirm-double-fadein 1s;background-color:#fff;border-radius:8px;bottom:auto!important;box-shadow:2px 4px 12px rgba(0,0,0,.2);left:15px!important;padding:20px 25px;position:absolute;right:15px!important;top:50%!important;transform:translateY(-50%)!important;z-index:2}.cleverpush-confirm-double-below{bottom:0;height:100%;position:absolute;top:0;width:100%}.cleverpush-confirm-double-bell{height:25px;margin-right:14px;width:25px}.cleverpush-confirm-double-bell svg{fill:#4286f6;height:auto;width:100%}.cleverpush-confirm-double-text{-ms-flex-align:center;-webkit-box-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.cleverpush-confirm-double-title{color:#555;font-size:14px}.cleverpush-confirm-double-buttons{margin-right:-5px;margin-top:30px;text-align:right}.cleverpush-confirm-double-btn{background-color:transparent!important;background-color:transparent;border:none;color:#4286f6!important;cursor:pointer;font-size:15px;font-weight:500;outline:none;width:auto!important}amp-web-push-widget{display:none}@media (max-width:767px){.cleverpush-confirm{left:10px;right:10px;width:auto}.cleverpush-confirm-text .cleverpush-confirm-topics{-ms-flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex;flex-wrap:wrap}.cleverpush-confirm-text .cleverpush-confirm-topics>div{width:50%}.cleverpush-confirm-topbar .cleverpush-confirm-wrap{left:auto!important;max-width:none!important;padding-left:0!important}.cleverpush-confirm-topbar-arrow{display:none}.cleverpush-confirm-wrap{max-height:100vh;max-width:none;min-height:0;padding-left:0}.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-firefox{bottom:0;top:auto}.cleverpush-confirm-notification{bottom:10px;left:10px;right:10px;top:auto}.cleverpush-confirm-modal-full{border-top-left-radius:30px;border-top-right-radius:30px;bottom:0!important;left:0!important;right:0!important;top:auto!important}.cleverpush-confirm-dialog{-ms-transform:translateY(-50%)!important;-webkit-transform:translateY(-50%)!important;bottom:auto!important;left:10px!important;right:10px!important;top:50%!important;transform:translateY(-50%)!important}.cleverpush-confirm-dialog .cleverpush-confirm-branding{bottom:32.5px}.cleverpush-confirm-dialog-native{-ms-transform:translateY(-50%)!important;-webkit-transform:translateY(-50%)!important;bottom:auto!important;left:10px!important;right:10px!important;top:50%!important;transform:translateY(-50%)!important}.cleverpush-confirm-dialog-native .cleverpush-confirm-buttons .cleverpush-confirm-btn{background-color:transparent!important;color:#4286f6!important}.cleverpush-confirm-dialog-full{-ms-transform:translateY(-50%)!important;-webkit-transform:translateY(-50%)!important;bottom:auto!important;left:0!important;right:0!important;top:50%!important;transform:translateY(-50%)!important}.cleverpush-deny-alert{left:20px}}@media (min-width:768px){.cleverpush-confirm-icon{float:left;margin:15px 15px 0 0!important;width:auto}.cleverpush-confirm-text{width:calc(100% - 80px)!important}.cleverpush-confirm-text>.cleverpush-confirm-info{margin-bottom:10px!important}.cleverpush-confirm-branding{position:static!important}.cleverpush-confirm-buttons{-ms-flex-pack:end;-webkit-box-pack:end;justify-content:flex-end;margin-bottom:0!important}.cleverpush-confirm-btn:not(.cleverpush-uf-button){padding:8px 12px!important;width:auto!important}.cleverpush-confirm-btn.cleverpush-confirm-btn-allow{margin-left:8px!important}.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native{left:50px;padding-left:270px}.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-firefox{left:calc(10% + 125px);padding-left:330px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native{left:0;padding-left:440px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox{padding-left:calc(500px + 10%)}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow{margin-top:60px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari{padding-left:calc(225px + 50%)!important}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera{padding-left:480px}.cleverpush-confirm-topbar-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native{left:50%;margin-left:-205px;padding-top:160px!important;width:425px}.cleverpush-confirm-topbar-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native{left:137px}.cleverpush-confirm-topbar-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbox-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac{left:0;padding-top:150px;width:312px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge{-ms-transform:translateX(-50%);-webkit-transform:translateX(-50%);bottom:0;left:50%;margin-left:8px;max-width:100%;padding-bottom:70px;padding-left:20px;padding-top:10px;top:auto!important;transform:translateX(-50%);width:960px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native{left:50%;margin-left:-230px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native{left:50%;margin-left:-480px;width:960px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-wrap{min-height:0;padding-left:0}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap{left:calc(50% - 300px)!important}.cleverpush-confirm-left{left:10px;right:auto}.cleverpush-confirm-right{left:auto;right:10px}.cleverpush-confirm-notification{max-width:350px!important;bottom:auto;top:10px}.cleverpush-confirm-modal-full{border-bottom-left-radius:20px;border-bottom-right-radius:20px;top:0!important;bottom:auto;top:10px}.cleverpush-confirm-dialog{left:calc(50% - 175px);width:350px;bottom:auto;top:10px}.cleverpush-confirm-dialog-native{border-radius:4px!important;left:100px!important;top:1px!important;width:350px!important}.cleverpush-confirm-dialog-native .cleverpush-confirm-buttons .cleverpush-confirm-btn{border-radius:3px!important;text-transform:none!important}.cleverpush-confirm-dialog-full,.cleverpush-confirm-dialog-native{bottom:auto;top:10px}.cleverpush-backdrop-text{max-width:33.333%}.cleverpush-confirm-topbox{padding-left:20px!important;padding-top:140px}.cleverpush-confirm-topbox .cleverpush-confirm-wrap{padding-left:40px}.cleverpush-confirm-topbox .cleverpush-confirm-icon{float:none;position:absolute;right:25px;top:25px}.cleverpush-confirm-topbox-below{left:108px;padding-left:20px!important;padding-top:135px;width:320px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox{left:calc(14% + 104px);width:362px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox.cleverpush-confirm-mac{left:calc(14% + 61px);width:355px}.cleverpush-confirm-topbox-below .cleverpush-confirm-wrap{padding-left:0}.cleverpush-confirm-topbar-slim-native{left:85px;padding-left:300px}.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-wrap{padding-left:90px}.cleverpush-confirm-speechbubble{bottom:auto;left:82px;top:8px}.cleverpush-confirm-speechbubble:not(.cleverpush-confirm-speechbubble-native){max-width:600px}.cleverpush-confirm-speechbubble-native{left:240px;top:135px}.cleverpush-confirm-speechbubble.cleverpush-confirm-firefox{left:calc(94px + 10%)}.cleverpush-confirm-speechbubble.cleverpush-confirm-firefox.cleverpush-confirm-speechbubble-native{left:calc(330px + 10%)}.cleverpush-confirm-speechbubble.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-speechbubble.cleverpush-confirm-safari{left:calc(175px + 50%)!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{border-top-color:transparent;left:45px;right:auto;top:-16px}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{border-bottom-color:#f0eff0;display:block!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{display:none!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble{bottom:8px;left:50%;top:auto}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-wrap{min-height:0}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble-native{bottom:62px;padding-top:5px!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{left:auto;right:100px}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{display:none!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{bottom:-16px;display:block!important;top:auto}}@media (max-width:768px){.cleverpush-confirm-buttons{-ms-flex-direction:row!important;-webkit-box-direction:normal!important;-webkit-box-orient:horizontal!important;flex-direction:row!important}}@media (min-width:768px) and (min-width:1230px){.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox{left:272px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox.cleverpush-confirm-mac{left:231px}}',""])},function(e,t,n){var i=n(79);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,'.cleverpush-attributes input{border-radius:3px;display:block;font-size:1rem;height:auto;line-height:1.5;padding:5px 10px;width:100%}.cleverpush-attributes .cleverpush-attributes-item{margin-bottom:15px;margin-top:10px}.cleverpush-attributes .cleverpush-attributes-title{font-size:18px;margin-bottom:8px}.cleverpush-attributes-box .cleverpush-confirm-icon{display:none!important}.cleverpush-attributes-box .cleverpush-confirm-text{width:100%!important}.cleverpush-attributes-box .cleverpush-confirm-btn{display:block!important;height:38px!important;width:100%!important}.cleverpush-attributes-box .cleverpush-confirm-buttons{float:none!important}.cleverpush-attributes-box .dp-modal{background:hsla(0,0%,100%,.75);bottom:0;left:0;position:fixed;right:0;top:0}.cleverpush-attributes-box .dp{-webkit-box-shadow:2px 2px 16px rgba(0,0,0,.25);-webkit-tap-highlight-color:transparent;background:#fff;border-radius:4px;box-shadow:2px 2px 16px rgba(0,0,0,.25);line-height:1.4;max-height:400px;overflow:hidden;padding-top:6px;position:relative;z-index:1000}.cleverpush-attributes-box .dp:before{background:#3b99fc;background:-webkit-gradient(linear,right top,left top,from(#3b99fc),to(#8aefc8));background:-o-linear-gradient(right,#3b99fc 0,#8aefc8 100%);background:linear-gradient(-90deg,#3b99fc,#8aefc8);content:" ";height:6px;left:0;position:absolute;right:0;top:0}.cleverpush-attributes-box .dp-permanent .dp{-webkit-box-shadow:none;border:1px solid #eee;box-shadow:none;padding-top:0}.cleverpush-attributes-box .dp-permanent .dp:before{display:none}.cleverpush-attributes-box .dp-cal{min-height:300px}.cleverpush-attributes-box .dp-below{font-size:.8em;max-width:100%;position:absolute;width:400px}.cleverpush-attributes-box .dp-permanent{font-size:.8em;max-width:100%;position:relative;width:400px}.cleverpush-attributes-box .dp-permanent .dp{z-index:0}.cleverpush-attributes-box .dp-modal .dp{-ms-transform:translate(-50%,-50%);-webkit-animation:slide-up .3s forwards;-webkit-transform:translate(-50%,-50%);animation:slide-up .3s forwards;left:50%;max-width:600px;position:absolute;top:50%;transform:translate(-50%,-50%);width:calc(100% - 4em)}.cleverpush-attributes-box .dp-months{padding:24px}.cleverpush-attributes-box .dp-years{-webkit-box-sizing:border-box;box-sizing:border-box;max-height:400px;overflow:auto!important;padding:8px 0}.cleverpush-attributes-box .dp-cal-month,.cleverpush-attributes-box .dp-cal-year,.cleverpush-attributes-box .dp-day,.cleverpush-attributes-box .dp-month,.cleverpush-attributes-box .dp-year{-webkit-box-sizing:border-box;background:transparent;border:0;border-radius:2px;box-sizing:border-box;color:#3b404d;position:relative;text-align:center;text-decoration:none}.cleverpush-attributes-box .dp-cal-header{background:#f5f5f5;padding-bottom:16px;position:relative;text-align:center}.cleverpush-attributes-box .dp-next,.cleverpush-attributes-box .dp-prev{background:transparent;border:0;border-radius:2px;color:#777;height:30px;overflow:hidden;padding:0;position:absolute;top:14px;width:30px}.cleverpush-attributes-box .dp-next:focus,.cleverpush-attributes-box .dp-next:hover,.cleverpush-attributes-box .dp-prev:focus,.cleverpush-attributes-box .dp-prev:hover{color:inherit;outline:none}.cleverpush-attributes-box .dp-prev{left:24px}.cleverpush-attributes-box .dp-next{right:24px}.cleverpush-attributes-box .dp-next:before,.cleverpush-attributes-box .dp-prev:before{-ms-transform:rotate(-45deg);-o-transition:border-color .2s;-webkit-transform:rotate(-45deg);-webkit-transition:border-color .2s;border:2px solid;content:"";display:inline-block;height:10px;margin:9px 0 40px 4px;transform:rotate(-45deg);transition:border-color .2s;width:10px}.cleverpush-attributes-box .dp-prev:before{border-bottom:0;border-right:0}.cleverpush-attributes-box .dp-next:before{border-left:0;border-top:0;margin-left:0;margin-right:4px}.cleverpush-attributes-box .dp-cal-month,.cleverpush-attributes-box .dp-cal-year{display:inline-block;font-size:1.4em;outline:none;padding:16px 8px 8px}.cleverpush-attributes-box .dp-cal-footer{background:#f5f5f5;text-align:center}.cleverpush-attributes-box .dp-day-today:after{border-color:#227bd7 #227bd7 transparent transparent;border-style:solid;border-width:7px;content:"";height:0;position:absolute;right:0;top:0;width:0}.cleverpush-attributes-box .dp-clear,.cleverpush-attributes-box .dp-close,.cleverpush-attributes-box .dp-today{-webkit-box-sizing:border-box;background:transparent;border:0;box-sizing:border-box;color:inherit;display:inline-block;padding:8px;text-decoration:none;width:33%}.cleverpush-attributes-box .dp-permanent .dp-clear,.cleverpush-attributes-box .dp-permanent .dp-close{display:none}.cleverpush-attributes-box .dp-cal-month:active,.cleverpush-attributes-box .dp-cal-year:active,.cleverpush-attributes-box .dp-clear:active,.cleverpush-attributes-box .dp-close:active,.cleverpush-attributes-box .dp-next:active,.cleverpush-attributes-box .dp-prev:active,.cleverpush-attributes-box .dp-today:active{background:#4286f6;color:#fff}.cleverpush-attributes-box .dp-col-header,.cleverpush-attributes-box .dp-day{display:inline-block;padding:8px;text-align:center;width:14.28571429%}.cleverpush-attributes-box .dp-col-header{color:#aaa;font-size:.8em;font-weight:300;padding:8px 0;text-transform:uppercase}.cleverpush-attributes-box .dp-month{display:inline-block;padding:8px;width:33%}.cleverpush-attributes-box .dp-year{display:block;padding:8px 40px;width:100%}.cleverpush-attributes-box .dp-edge-day{color:#aaa}.cleverpush-attributes-box .dp-current,.cleverpush-attributes-box .dp-current:focus,.cleverpush-attributes-box .dp-day:focus,.cleverpush-attributes-box .dp-day:hover,.cleverpush-attributes-box .dp-month:focus,.cleverpush-attributes-box .dp-month:hover,.cleverpush-attributes-box .dp-year:focus,.cleverpush-attributes-box .dp-year:hover{background:#4286f6;color:#fff;outline:none}.cleverpush-attributes-box .dp-selected,.cleverpush-attributes-box .dp-selected:focus,.cleverpush-attributes-box .dp-selected:hover{background:#3b99fc;color:#fff}.cleverpush-attributes-box .dp-day-disabled{background:transparent;color:#ddd}.cleverpush-attributes-box .dp-day-disabled:focus,.cleverpush-attributes-box .dp-day-disabled:hover{background:#ddd}.cleverpush-attributes-box .dp-focuser{left:50%;position:absolute;top:50%;z-index:0}@-webkit-keyframes slide-up{0%{-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}to{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@keyframes slide-up{0%{-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}to{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@media screen and (min-device-width:1200px){.cleverpush-attributes-box .dp-cal-month:focus,.cleverpush-attributes-box .dp-cal-month:hover,.cleverpush-attributes-box .dp-cal-year:focus,.cleverpush-attributes-box .dp-cal-year:hover,.cleverpush-attributes-box .dp-clear:focus,.cleverpush-attributes-box .dp-clear:hover,.cleverpush-attributes-box .dp-close:focus,.cleverpush-attributes-box .dp-close:hover,.cleverpush-attributes-box .dp-next:focus,.cleverpush-attributes-box .dp-next:hover,.cleverpush-attributes-box .dp-prev:focus,.cleverpush-attributes-box .dp-prev:hover,.cleverpush-attributes-box .dp-today:focus,.cleverpush-attributes-box .dp-today:hover{background:#4286f6;color:#fff}}@media (max-height:480px),(max-width:480px){.cleverpush-attributes-box .dp-modal .dp{font-size:.9em;width:auto;width:100%}.cleverpush-attributes-box .dp-day,.cleverpush-attributes-box .dp-day-of-week{padding:8px}}',""])},function(e,t,n){var i=n(81);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,'.cleverpush-content-button{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;margin:15px auto;user-select:none}.cleverpush-content-button.cleverpush-content-button-simple{text-align:center}.cleverpush-content-button .cleverpush-content-button-box{border:1px solid #eee;max-width:600px;padding:15px}.cleverpush-content-button .cleverpush-content-button-top{margin-bottom:15px;min-height:60px;padding-left:75px;position:relative}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-title{font-weight:700}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-text{color:#777;font-size:90%;line-height:1.25;margin-top:2px}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-icon{background-position:50%;background-size:cover;border:none;height:60px;left:0;position:absolute;top:0;width:60px}.cleverpush-content-button .cleverpush-content-button-btn-wrap{-ms-flex-align:stretch;-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex}.cleverpush-content-button .cleverpush-content-button-btn{-webkit-box-shadow:0 3px 8px rgba(0,0,0,.1)!important;-webkit-box-sizing:border-box!important;background-color:#42a2f2;border:none!important;border-radius:4px!important;box-shadow:0 3px 8px rgba(0,0,0,.1)!important;box-sizing:border-box!important;color:#fff;cursor:pointer!important;display:block;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:700!important;line-height:1!important;margin:0!important;min-height:30px!important;outline:none;padding:5px 10px!important;text-shadow:none!important;text-transform:none!important;width:auto}.cleverpush-content-button .cleverpush-content-button-btn:hover{opacity:.8}.cleverpush-content-button .cleverpush-content-button-btn:active{opacity:.9}.cleverpush-content-button .cleverpush-content-button-btn.disabled,.cleverpush-content-button .cleverpush-content-button-btn[disabled]{-webkit-box-shadow:none!important;border:1px solid #42a2f2!important;border-bottom-right-radius:0!important;border-top-right-radius:0!important;box-shadow:none!important;color:#555!important;font-weight:400!important}.cleverpush-content-button .cleverpush-content-button-btn.disabled,.cleverpush-content-button .cleverpush-content-button-btn.disabled:active,.cleverpush-content-button .cleverpush-content-button-btn.disabled:hover,.cleverpush-content-button .cleverpush-content-button-btn[disabled],.cleverpush-content-button .cleverpush-content-button-btn[disabled]:active,.cleverpush-content-button .cleverpush-content-button-btn[disabled]:hover{background:transparent!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe{-webkit-box-shadow:none!important;background:transparent;border:1px solid #42a2f2!important;border-bottom-left-radius:0!important;border-left-width:0!important;border-top-left-radius:0!important;box-shadow:none!important;color:#555!important;font-weight:400!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe:active,.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe:hover{color:#fff!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-simple{float:none!important;margin:0 auto!important;padding-left:15px!important;padding-right:15px!important;width:auto!important}.cleverpush-content-button .cleverpush-content-button-btn .cleverpush-loader{zoom:.25}.cleverpush-content-button .cleverpush-content-button-count{background:#eee;color:#555;float:left;font-size:85%;line-height:30px;margin-left:10px;position:relative;text-indent:15px;width:calc(50% - 10px)}.cleverpush-content-button .cleverpush-content-button-count:before{border-color:transparent #eee transparent transparent;border-radius:3px;border-style:solid;border-width:6px 6px 6px 0;content:"";height:0;left:-6px;margin-top:-6px;position:absolute;top:50%;width:0}.cleverpush-content-button .cleverpush-content-button-branding{color:#aaa;font-size:75%;margin-top:15px;text-align:right}.cleverpush-content-button .cleverpush-content-button-branding a{-webkit-box-shadow:none;box-shadow:none;color:#999;text-decoration:none}.cleverpush-content-button .cleverpush-content-button-topics{border:1px solid #eee;border-radius:3px;margin-bottom:15px;padding:10px}.cleverpush-content-button .cleverpush-content-button-topics label{color:#333;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-content-button .cleverpush-content-button-topics label>input[type=checkbox],.cleverpush-content-button .cleverpush-content-button-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;min-height:0;vertical-align:baseline;width:auto}.cleverpush-content-button .cleverpush-content-button-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-content-button .cleverpush-content-button-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-content-button .cleverpush-content-button-save-topics-button{margin-top:15px!important}.cleverpush-content-button .cleverpush-content-button-save-topics-button[disabled]{border-bottom-right-radius:4px!important;border-top-right-radius:4px!important}.cleverpush-content-button .cleverpush-content-button-settings{background:none;border:none;color:#777;display:block;font-size:12px;font-weight:400;margin:10px 0;outline:none;padding:0;text-align:right;width:100%}.cleverpush-widget-allow-button:hover,.cleverpush-widget-deny-button:hover{opacity:.75}.cleverpush-widget-allow-button:active,.cleverpush-widget-deny-button:active{opacity:.85}.cleverpush-widget-allow-button .cleverpush-loader,.cleverpush-widget-deny-button .cleverpush-loader{zoom:.25}.cleverpush-widget{-ms-flex-pack:center;-webkit-box-pack:center;justify-content:center}.cleverpush-widget-icon{margin-right:35px;width:75px}.cleverpush-widget-buttons{-ms-flex-direction:row;-ms-flex-pack:end;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-box-pack:end;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:row;justify-content:flex-end;margin-top:20px}@media (max-width:768px){.cleverpush-widget{-ms-flex-wrap:wrap;flex-wrap:wrap}.cleverpush-widget .cleverpush-widget-icon{margin-bottom:20px}}',""])},function(e,t,n){var i=n(83);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,'.cleverpush-multi-platform-widget{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;margin:15px auto;user-select:none}.cleverpush-multi-platform-widget.cleverpush-multi-platform-widget-simple{text-align:center}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-box{border:1px solid #eee;max-width:600px;padding:15px}.cleverpush-multi-platform-widget-bottom{max-width:350px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top{background-color:#fff;margin-bottom:15px;min-height:60px;padding-left:75px;position:relative}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top .cleverpush-multi-platform-widget-title{font-weight:700}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top .cleverpush-multi-platform-widget-text{color:#777;font-size:90%;line-height:1.25;margin-top:2px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top .cleverpush-multi-platform-widget-icon{background-position:50%;background-size:cover;border:none;height:60px;left:0;position:absolute;top:0;width:60px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn-wrap{-ms-flex-align:stretch;-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;width:100%}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn{-ms-flex-align:center!important;-ms-flex-pack:center!important;-webkit-box-align:center!important;-webkit-box-pack:center!important;-webkit-box-shadow:0 3px 8px rgba(0,0,0,.1)!important;-webkit-box-sizing:border-box!important;align-items:center!important;background-color:#42a2f2;border:none!important;border-radius:4px!important;box-shadow:0 3px 8px rgba(0,0,0,.1)!important;box-sizing:border-box!important;color:#fff!important;cursor:pointer!important;display:-webkit-box;display:-ms-flexbox;display:flex;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:700!important;justify-content:center!important;line-height:1!important;margin:0!important;min-height:30px!important;outline:none;padding:8px 10px!important;text-decoration:none!important;text-shadow:none!important;text-transform:none!important;width:100%}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn:not(.cleverpush-multi-platform-widget-btn-subscribe):not(.cleverpush-multi-platform-widget-btn-unsubscribe):not(.cleverpush-multi-platform-widget-btn-settings){display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;width:100%!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn:hover{opacity:.8}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn:active{opacity:.9}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled]{-webkit-box-shadow:none!important;border:1px solid #42a2f2!important;border-bottom-right-radius:0!important;border-top-right-radius:0!important;box-shadow:none!important;color:#555!important;cursor:auto!important;font-weight:400!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled],.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled]:active,.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled]:hover{background:transparent!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-unsubscribe{-webkit-box-shadow:none!important;background:transparent;border:1px solid #42a2f2!important;border-bottom-left-radius:0!important;border-left-width:0!important;border-top-left-radius:0!important;box-shadow:none!important;color:#555!important;font-weight:400!important;width:auto}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-unsubscribe:active,.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-unsubscribe:hover{color:#fff!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-settings{margin-left:10px!important;width:auto}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-simple{float:none!important;margin:0 auto!important;padding-left:15px!important;padding-right:15px!important;width:auto!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn .cleverpush-icon{background-size:contain;height:16px;margin-right:10px;width:16px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn .cleverpush-loader{position:absolute;zoom:.25}.cleverpush-multi-platform-widget .cleverpush-facebookchannel .cleverpush-multi-platform-widget-btn{background-color:#3b5998}.cleverpush-multi-platform-widget .cleverpush-telegramchannel .cleverpush-multi-platform-widget-btn{background-color:#08c}.cleverpush-multi-platform-widget .cleverpush-appchannel .cleverpush-multi-platform-widget-btn{background-color:#555}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-branding{color:#aaa;font-size:75%;margin-top:15px;text-align:right}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-branding a{-webkit-box-shadow:none;box-shadow:none;color:#999;text-decoration:none}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-settings{background:none;border:none;color:#777;display:block;font-size:12px;font-weight:400;margin:10px 0;outline:none;padding:0;text-align:right;width:100%}.cleverpush-multi-platform-widget .cleverpush-topics{border:1px solid #eee;border-radius:3px;margin-bottom:15px;padding:10px}.cleverpush-multi-platform-widget .cleverpush-topics label{cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-multi-platform-widget .cleverpush-topics label>input[type=checkbox],.cleverpush-multi-platform-widget .cleverpush-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;min-height:0;vertical-align:baseline;width:auto}.cleverpush-multi-platform-widget .cleverpush-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-multi-platform-widget .cleverpush-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-save-topics-button{margin-top:10px!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new{background-color:#333;border-radius:10px;overflow:hidden;padding:0}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-top{-ms-flex-align:center;-ms-flex-pack:center;-webkit-box-align:center;-webkit-box-pack:center;align-items:center;border-bottom:6px solid #42a2f2;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:center;padding:10px 15px 10px 75px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-icon{margin-right:25px;position:static}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-body{width:100%}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-title{font-size:18px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-branding{margin:15px 15px 10px;text-align:center}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-bottom{max-width:none;padding:5px 35px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn{-ms-flex-align:center;-ms-flex-pack:start!important;-webkit-box-align:center;-webkit-box-pack:start!important;align-items:center;background-color:rgba(0,0,0,.25)!important;border:1px solid hsla(0,0%,100%,.45)!important;border-radius:10px!important;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:start!important;padding:7.5px 30px!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn[disabled]{border:1px solid hsla(0,0%,100%,.45)!important;color:#fff}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon{background-position:50%;background-repeat:no-repeat;border-radius:100px;height:36px;margin-right:20px;width:36px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-facebook{background-color:#0084ff}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-telegram{background-color:#08c;background-size:26px 26px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-bell{background-color:#eb4034;background-size:26px 26px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-android,.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-ios{background-color:#228b22}.cleverpush-icon-facebook{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS0xLTFoNTgydjQwMkgtMXoiLz48Zz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTMgMTBoM3YzaC0zdjdoLTN2LTdIN3YtM2gzVjguNzQ1YzAtMS4xODkuMzc0LTIuNjkxIDEuMTE4LTMuNTEyQzExLjg2MiA0LjQxIDEyLjc5MSA0IDEzLjkwNCA0SDE2djNoLTIuMWMtLjQ5OCAwLS45LjQwMi0uOS44OTlWMTB6Ii8+PC9nPjwvc3ZnPg==")}.cleverpush-icon-telegram{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJub25lIiBkPSJNLTEtMWg1ODJ2NDAySC0xeiIvPjxnPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00ODQuNjg5IDk4LjIzMWwtNjkuNDE3IDMyNy4zN2MtNS4yMzcgMjMuMTA1LTE4Ljg5NSAyOC44NTQtMzguMzA0IDE3Ljk3MkwyNzEuMiAzNjUuNjMxbC01MS4wMzQgNDkuMDg2Yy01LjY0NyA1LjY0Ny0xMC4zNzIgMTAuMzcyLTIxLjI1NiAxMC4zNzJsNy41OTgtMTA3LjcyMkw0MDIuNTM5IDE0MC4yM2M4LjUyMy03LjU5OC0xLjg0OC0xMS44MDktMTMuMjQ3LTQuMjFMMTQ2Ljk1IDI4OC42MTQgNDIuNjE5IDI1NS45NmMtMjIuNjk0LTcuMDg2LTIzLjEwNC0yMi42OTUgNC43MjMtMzMuNTc5TDQ1NS40MjMgNjUuMTY2YzE4Ljg5My03LjA4NSAzNS40MjcgNC4yMDkgMjkuMjY2IDMzLjA2NXoiLz48L2c+PC9zdmc+")}.cleverpush-icon-ios{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzA1IiBoZWlnaHQ9IjMwNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJub25lIiBkPSJNLTEtMWg1ODJ2NDAySC0xeiIvPjxnPjxnIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik00MC43MzggMTEyLjExOWMtMjUuNzg1IDQ0Ljc0NS05LjM5MyAxMTIuNjQ4IDE5LjEyMSAxNTMuODJDNzQuMDkyIDI4Ni41MjMgODguNTAyIDMwNSAxMDguMjM5IDMwNWMuMzcyIDAgLjc0NS0uMDA3IDEuMTI3LS4wMjIgOS4yNzMtLjM3IDE1Ljk3NC0zLjIyNSAyMi40NTMtNS45ODQgNy4yNzQtMy4xIDE0Ljc5Ny02LjMwNSAyNi41OTctNi4zMDUgMTEuMjI2IDAgMTguMzkgMy4xMDEgMjUuMzE4IDYuMDk5IDYuODI4IDIuOTU0IDEzLjg2MSA2LjAxIDI0LjI1MyA1LjgxNSAyMi4yMzItLjQxNCAzNS44ODItMjAuMzUyIDQ3LjkyNS0zNy45NDEgMTIuNTY3LTE4LjM2NSAxOC44NzEtMzYuMTk2IDIwLjk5OC00My4wMWwuMDg2LS4yNzFhMi41IDIuNSAwIDAgMC0xLjMyOC0zLjA2NmMtLjAzMi0uMDE1LS4xNS0uMDY0LS4xODMtLjA3OC0zLjkxNS0xLjYwMS0zOC4yNTctMTYuODM2LTM4LjYxOC01OC4zNi0uMzM1LTMzLjczNiAyNS43NjMtNTEuNjAxIDMwLjk5Ny01NC44MzlsLjI0NC0uMTUyYTIuNDk4IDIuNDk4IDAgMCAwIC43MS0zLjUxMWMtMTguMDE0LTI2LjM2Mi00NS42MjQtMzAuMzM1LTU2Ljc0LTMwLjgxM2E1MC4wNDMgNTAuMDQzIDAgMCAwLTQuOTUtLjI0MmMtMTMuMDU2IDAtMjUuNTYzIDQuOTMxLTM1LjYxMSA4Ljg5My02LjkzNiAyLjczNS0xMi45MjcgNS4wOTctMTcuMDU5IDUuMDk3LTQuNjQzIDAtMTAuNjY4LTIuMzkxLTE3LjY0NS01LjE1OS05LjMzLTMuNzAzLTE5LjkwNS03Ljg5OS0zMS4xLTcuODk5LS4yNjcgMC0uNTMuMDAzLS43ODkuMDA4LTI2LjAzLjM4My01MC42MjYgMTUuMjc1LTY0LjE4NiAzOC44NTl6Ii8+PHBhdGggZD0iTTIxMi4xMDEuMDAyYy0xNS43NjMuNjQyLTM0LjY3MiAxMC4zNDUtNDUuOTc0IDIzLjU4My05LjYwNSAxMS4xMjctMTguOTg4IDI5LjY3OS0xNi41MTYgNDguMzc5YTIuNDk5IDIuNDk5IDAgMCAwIDIuMjg0IDIuMTY0YzEuMDY0LjA4MyAyLjE1LjEyNSAzLjIzMi4xMjYgMTUuNDEzIDAgMzIuMDQtOC41MjcgNDMuMzk1LTIyLjI1NyAxMS45NTEtMTQuNDk4IDE3Ljk5NC0zMy4xMDQgMTYuMTY2LTQ5Ljc3YTIuNTE1IDIuNTE1IDAgMCAwLTIuNTg3LTIuMjI1eiIvPjwvZz48L2c+PC9zdmc+")}.cleverpush-icon-android{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTUzLjA0OCIgaGVpZ2h0PSI1NTMuMDQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0tMS0xaDU4MnY0MDJILTF6Ii8+PGc+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTc2Ljc3NCAxNzkuMTQxYy05LjUyOSAwLTE3LjYxNCAzLjMyMy0yNC4yNiA5Ljk2OS02LjY0NiA2LjY0Ni05Ljk3IDE0LjYyMS05Ljk3IDIzLjkyOXYxNDIuOTE0YzAgOS41NDEgMy4zMjMgMTcuNjE5IDkuOTcgMjQuMjY2IDYuNjQ2IDYuNjQ2IDE0LjczMSA5Ljk3IDI0LjI2IDkuOTcgOS41MjIgMCAxNy41NTgtMy4zMjMgMjQuMTAxLTkuOTcgNi41My02LjY0NiA5LjgwNC0xNC43MjUgOS44MDQtMjQuMjY2VjIxMy4wMzljMC05LjMwOS0zLjMyMy0xNy4yODMtOS45Ny0yMy45MjktNi42NDctNi42NDYtMTQuNjI3LTkuOTY5LTIzLjkzNS05Ljk2OXpNMzUxLjk3MiA1MC44NDdMMzc1LjU3IDcuMzE1YzEuNTQ5LTIuODgyLjk5OC01LjA5Mi0xLjY1OC02LjY0Ni0yLjg4My0xLjM0LTUuMDk4LS42NjEtNi42NDYgMS45ODlsLTIzLjkyOCA0My44OGMtMjEuMDU1LTkuMzA5LTQzLjMyNC0xMy45NzItNjYuODA3LTEzLjk3Mi0yMy40ODggMC00NS43NTkgNC42NjQtNjYuODA2IDEzLjk3MmwtMjMuOTI5LTQzLjg4Yy0xLjU1NS0yLjY1LTMuNzctMy4zMjMtNi42NDYtMS45ODktMi42NjIgMS41NjEtMy4yMTMgMy43NjQtMS42NTggNi42NDZsMjMuNTk5IDQzLjUzMmMtMjMuOTI5IDEyLjIwMy00Mi45ODcgMjkuMTk4LTU3LjE2NyA1MS4wMjItMTQuMTggMjEuODM2LTIxLjI3MyA0NS42OTgtMjEuMjczIDcxLjYyOGgzMDcuNDI2YzAtMjUuOTI0LTcuMDk0LTQ5Ljc4Ny0yMS4yNzMtNzEuNjI4LTE0LjE4MS0yMS44MjQtMzMuMTI5LTM4LjgxOS01Ni44MzItNTEuMDIyem0tMTM2LjQzMyA2My4zMThjLTIuNTUyIDIuNTU4LTUuNiAzLjgzMS05LjE0MyAzLjgzMS0zLjU1IDAtNi41MzYtMS4yNzMtOC45NzItMy44MzEtMi40MzYtMi41NDYtMy42NTQtNS41ODItMy42NTQtOS4xMzcgMC0zLjU0MyAxLjIxOC02LjU4NSAzLjY1NC05LjEzNyAyLjQzNi0yLjU0NiA1LjQyOS0zLjgxOSA4Ljk3Mi0zLjgxOXM2LjU5MSAxLjI3MyA5LjE0MyAzLjgxOWMyLjU0NiAyLjU1OCAzLjgyNSA1LjU5NCAzLjgyNSA5LjEzNy0uMDA3IDMuNTQ5LTEuMjg1IDYuNTkxLTMuODI1IDkuMTM3em0xNDAuMDg2IDBjLTIuNDQxIDIuNTU4LTUuNDM0IDMuODMxLTguOTcxIDMuODMxLTMuNTUxIDAtNi41OTgtMS4yNzMtOS4xNDUtMy44MzEtMi41NTEtMi41NDYtMy44MjQtNS41ODItMy44MjQtOS4xMzcgMC0zLjU0MyAxLjI3My02LjU4NSAzLjgyNC05LjEzNyAyLjU0Ny0yLjU0NiA1LjU5NC0zLjgxOSA5LjE0NS0zLjgxOSAzLjU0MyAwIDYuNTI5IDEuMjczIDguOTcxIDMuODE5IDIuNDM4IDIuNTU4IDMuNjU0IDUuNTk0IDMuNjU0IDkuMTM3IDAgMy41NDktMS4yMTcgNi41OTEtMy42NTQgOS4xMzd6TTEyMy45NzEgNDA2LjgwNGMwIDEwLjIwMiAzLjU0MyAxOC44MzggMTAuNjMgMjUuOTI1IDcuMDkzIDcuMDg3IDE1LjcyOSAxMC42MyAyNS45MjQgMTAuNjNoMjQuNTk2bC4zMzcgNzUuNDU0YzAgOS41MjggMy4zMjMgMTcuNjE5IDkuOTY5IDI0LjI2NnMxNC42MjcgOS45NyAyMy45MjkgOS45N2M5LjUyMyAwIDE3LjYxMy0zLjMyMyAyNC4yNi05Ljk3czkuOTctMTQuNzM3IDkuOTctMjQuMjY2di03NS40NDdoNDUuODY0djc1LjQ0N2MwIDkuNTI4IDMuMzIyIDE3LjYxOSA5Ljk2OSAyNC4yNjZzMTQuNzMgOS45NyAyNC4yNiA5Ljk3YzkuNTIzIDAgMTcuNjEzLTMuMzIzIDI0LjI2LTkuOTdzOS45NjktMTQuNzM3IDkuOTY5LTI0LjI2NnYtNzUuNDQ3aDI0LjkyOGM5Ljk2OSAwIDE4LjQ5NC0zLjU0NCAyNS41OTQtMTAuNjMxIDcuMDg2LTcuMDg3IDEwLjYzMS0xNS43MjMgMTAuNjMxLTI1LjkyNFYxODUuNDVoLTMwNS4wOXYyMjEuMzU0ek00NzYuMjc1IDE3OS4xNDFjLTkuMzA5IDAtMTcuMjgzIDMuMjc0LTIzLjkzIDkuODA0LTYuNjQ2IDYuNTQyLTkuOTY5IDE0LjU3OC05Ljk2OSAyNC4wOTR2MTQyLjkxNGMwIDkuNTQxIDMuMzIyIDE3LjYxOSA5Ljk2OSAyNC4yNjZzMTQuNjI3IDkuOTcgMjMuOTMgOS45N2M5LjUyMyAwIDE3LjYxMy0zLjMyMyAyNC4yNi05Ljk3czkuOTY5LTE0LjcyNSA5Ljk2OS0yNC4yNjZWMjEzLjAzOWMwLTkuNTE3LTMuMzIyLTE3LjU1Mi05Ljk2OS0yNC4wOTQtNi42NDctNi41My0xNC43MzctOS44MDQtMjQuMjYtOS44MDR6Ii8+PC9nPjwvZz48L3N2Zz4=")}',""])},function(e,t,n){var i=n(85);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,"@-webkit-keyframes cleverPushSlideFromRight{to{right:0}}@keyframes cleverPushSlideFromRight{to{right:0}}@-webkit-keyframes cleverPushSlideFromLeft{to{left:0}}@keyframes cleverPushSlideFromLeft{to{left:0}}.cleverpush-page-banner-notification{-moz-user-select:none;-ms-user-select:none;-webkit-animation:cleverPushSlideFromRight .25s forwards;-webkit-animation-delay:.25s;-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2);-webkit-user-select:none;animation:cleverPushSlideFromRight .25s forwards;animation-delay:.25s;background-color:#fff;border:1px solid #ccc;bottom:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2);cursor:pointer;margin:15px;max-width:100%;padding:10px;position:fixed;right:-400px;user-select:none;width:350px;z-index:99}.cleverpush-page-banner-notification-top-left{-webkit-animation:cleverPushSlideFromLeft .25s forwards;animation:cleverPushSlideFromLeft .25s forwards;bottom:auto;left:-400px;right:auto;top:0}.cleverpush-page-banner-notification-top-right{bottom:auto;top:0}.cleverpush-page-banner-notification-bottom-left{-webkit-animation:cleverPushSlideFromLeft .25s forwards;animation:cleverPushSlideFromLeft .25s forwards;left:-400px;right:auto}.cleverpush-page-banner-notification:hover{background-color:#fefefe}.cleverpush-page-banner-notification .notification-icon{background-position:50%;background-repeat:no-repeat;background-size:cover;height:65px;position:absolute;width:65px}.cleverpush-page-banner-notification .notification-content{min-height:65px;overflow:hidden;padding-left:85px;word-break:break-all;word-wrap:break-word}.cleverpush-page-banner-notification .notification-preview-windows-icons{position:absolute;right:10px}.cleverpush-page-banner-notification .notification-preview-windows-icons span{border-radius:50%;display:block;font-size:16px;height:16px;line-height:18px;text-align:center;vertical-align:middle;width:16px}.cleverpush-page-banner-notification .notification-preview-windows-icons span:hover{background:#555;color:#fff}.cleverpush-page-banner-notification .notification-title{-o-text-overflow:ellipsis;font-size:16px;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-text{-o-text-overflow:ellipsis;font-size:13px;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-origin{-o-text-overflow:ellipsis;color:#777;font-size:11px;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-media{margin-top:10px;text-align:center}.cleverpush-page-banner-notification .notification-media img{display:inline-block;max-height:300px}",""])},function(e,t,n){var i=n(87);"string"==typeof i&&(i=[[e.i,i,""]]);n(21)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(20)(void 0)).push([e.i,".cleverpush-banner{bottom:0;left:0;position:fixed;right:0;top:0;z-index:999}.cleverpush-banner iframe{border:none!important;display:block;height:100%;margin:0;min-height:0;width:100%}.cleverpush-banner .banner-content{-webkit-box-sizing:border-box;background-color:#fff;box-sizing:border-box;line-height:1;margin:0 auto;max-width:100%;min-height:0;overflow-y:auto;position:absolute}.cleverpush-banner .banner-content td,.cleverpush-banner .banner-content th,.cleverpush-banner .banner-content tr{border:none!important}.cleverpush-banner .banner-close{background-color:transparent;border:none;border-radius:100px;color:#999;cursor:pointer;font-size:24px;font-weight:200;height:24px;margin:-5px -5px 0 0;padding:0;position:absolute;right:10px;text-align:center;text-decoration:none!important;top:10px;width:24px}.cleverpush-banner .banner-close .fa{height:22px;line-height:22px;vertical-align:top;width:22px}.cleverpush-banner .banner-button{background-color:#42a2f2;border-radius:4px;color:#fff;display:block;font-family:sans-serif;font-size:16px;font-weight:700;margin:25px auto 10px;padding:10px 15px}",""])}]);CleverPush.init({"loadConfig":false,"environment":"production","apiEndpoint":"https://api.cleverpush.com","staticEndpoint":"https://static.cleverpush.com","autoRegister":true,"channelId":"9nsSYmLaJtzaNE2ay","channelName":"statista.com","channelIcon":"https://static.cleverpush.com/notification/icon/2HfpjysagXC5tNjcc.png","channelTopics":[{"_id":"xvAKwv2mYxLEJWinx","name":"Infographics updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"Pyj3iwpET8QyXGCZb","name":"E-Commerce insights","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"grbhQz2bEGwJ8cBtd","name":"Consumer Market updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"zSwrbmoHaYZ8euoZ5","name":"Digital Market updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"35mCBjGQPAtuKTMoq","name":"Product updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"}],"channelTags":[{"_id":"Yei2GAiBJBRgCMAqE","name":"Anonymous users","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-03-25T09:11:08.570Z"},{"_id":"5C5jWg548Mhg3hSf3","name":"Paying users (PA, CA, EA)","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-03-25T09:11:08.570Z"}],"channelEvents":[],"multiChannels":{},"customAttributes":[],"alertTimeout":3000,"alertOncePerSession":true,"alertMinimumVisits":2,"alertScrollPercentage":0,"confirmAlertTheme":"cleverpush-confirm-default","confirmAlertThemeVariant":"cleverpush-confirm-auto","confirmAlertThemeBackground":"","confirmAlertThemeBackgroundColor":"","confirmAlertThemeTextColor":"","confirmAlertThemeLinkColor":"","confirmAlertThemeButtonTextColor":"","confirmAlertNativeTheme":"cleverpush-confirm-topbar-slim","confirmAlertHideChannelIcon":false,"confirmAlertRoundChannelIcon":false,"confirmAlertBackdrop":true,"confirmAlertBackdropBlur":false,"confirmAlertBackdropOpacity":0.75,"confirmAlertTests":[],"confirmAlertTestsEnabled":false,"confirmAlertRequireChannelTopics":true,"confirmAlertHideChannelTopics":true,"confirmAlertStyle":{"backgroundColor":"","color":""},"confirmAlertTitleStyle":{},"confirmAlertLinkStyle":{"color":""},"confirmAlertButtonStyle":{"backgroundColor":"#0077d5","color":"#ffffff","fontWeight":"600"},"confirmAlertAllowButtonStyle":{"backgroundColor":"#0077d5","color":"#ffffff"},"confirmAlertFilters":[{"config":{},"type":"path","value":"(de|fr|es|www)\\.statista\\.com\\/(perspectiva|outlook|perspective)\\/(consumer|digital|mobility|country|technology|advertising|industry)-(markets|outlook|media)","autoRegister":false},{"config":{},"type":"path","value":"(de|fr|es|www)\\.statista\\.com\\/customercloud\\/global-consumer-survey"},{"config":{},"type":"path","value":"(de|fr|es|www)\\.statista\\.com\\/(topics|temas|themen|themes)\\/[0-9]+\\/"},{"config":{},"type":"path","value":"(de|fr|es|www)\\.statista\\.com\\/(recherche|search|statistic\\/suche|buscar)\\/"},{"config":{},"type":"path","value":"(de|fr|es|www)\\.statista\\.com\\/(perspectiva\\/outlook|outlook|perspective\\/outlook)\\/[0-9]+\\/"}],"url":"https://https://www.statista.com//subscribe","alertLocalization":{"title":"Notifications about topics of your interest","info":"By subscribing to our notifications you allow us to keep you updated about our products . You can  revoke your consent at any time. Stay tuned.","allow":"","confirmInfo":""},"ownDomain":true,"domain":"https://www.statista.com/","subdomain":"statistacomdev","cleverpushDomain":"cleverpush.com","vapidPublicKey":"BH5yJkGeqT_FyrZ8gf0S8Gq1nwXgm8n928RptXbNG0m_4MmBadsb_uxtVcR6flvAuOn6zdwqWBUhRS7-oiF5784","showConfirmAlert":true,"showConfirmAlertMobile":false,"hideBranding":false,"hideFaqLink":false,"faqUrl":"https://cleverpush.com/faq","privacyPolicyText":"Privacy policy","privacyPolicyUrl":"https://www.statista.com/imprint/#privacy","showNotificationBell":false,"hideNotificationBellMobile":false,"hideNotificationBellSubscribed":false,"notificationBellColor":"#42a2f2","serviceWorkerFile":"/cleverpush/en/cleverpush-worker.js","gcmManifestPath":"/cleverpush/en/cleverpush-manifest.json","safariWebServiceUrl":"https://api.cleverpush.com/channel/9nsSYmLaJtzaNE2ay/safari","origin":"https://https://www.statista.com/","loadIframe":true,"trackSessions":true,"pageBannerNotifications":[],"webBanners":[],"widgets":[],"followUpCampaigns":[],"emailOptInForms":[],"notificationCategoryGroups":[]});